/*! symbiose 1.0.0-beta.5 2014-03-30 */
function include(a,b,c){c=c||window,this.ajax=$.ajax({url:a,method:"get",async:!1,dataType:"text",success:function(a){"undefined"==typeof b&&(b=new W.Arguments({}));var d=new Function("args",a);d.call(c,b)}})}"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(a){return 10>a?"0"+a:a}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g,h=gap,i=b[a];switch(i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(a)),"function"==typeof rep&&(i=rep.call(b,a,i)),typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";if(gap+=indent,g=[],"[object Array]"===Object.prototype.toString.apply(i)){for(f=i.length,c=0;f>c;c+=1)g[c]=str(c,i)||"null";return e=0===g.length?"[]":gap?"[\n"+gap+g.join(",\n"+gap)+"\n"+h+"]":"["+g.join(",")+"]",gap=h,e}if(rep&&"object"==typeof rep)for(f=rep.length,c=0;f>c;c+=1)"string"==typeof rep[c]&&(d=rep[c],e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));else for(d in i)Object.prototype.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));return e=0===g.length?"{}":gap?"{\n"+gap+g.join(",\n"+gap)+"\n"+h+"}":"{"+g.join(",")+"}",gap=h,e}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(a,b,c){var d;if(gap="",indent="","number"==typeof c)for(d=0;c>d;d+=1)indent+=" ";else"string"==typeof c&&(indent=c);if(rep=b,b&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw new Error("JSON.stringify");return str("",{"":a})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),void 0!==d?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(){var a=this,b=a._,c={},d=Array.prototype,e=Object.prototype,f=Function.prototype,g=d.push,h=d.slice,i=d.concat,j=e.toString,k=e.hasOwnProperty,l=d.forEach,m=d.map,n=d.reduce,o=d.reduceRight,p=d.filter,q=d.every,r=d.some,s=d.indexOf,t=d.lastIndexOf,u=Array.isArray,v=Object.keys,w=f.bind,x=function(a){return a instanceof x?a:this instanceof x?void(this._wrapped=a):new x(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=x),exports._=x):a._=x,x.VERSION="1.4.4";var y=x.each=x.forEach=function(a,b,d){if(null!=a)if(l&&a.forEach===l)a.forEach(b,d);else if(a.length===+a.length){for(var e=0,f=a.length;f>e;e++)if(b.call(d,a[e],e,a)===c)return}else for(var g in a)if(x.has(a,g)&&b.call(d,a[g],g,a)===c)return};x.map=x.collect=function(a,b,c){var d=[];return null==a?d:m&&a.map===m?a.map(b,c):(y(a,function(a,e,f){d[d.length]=b.call(c,a,e,f)}),d)};var z="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),n&&a.reduce===n)return d&&(b=x.bind(b,d)),e?a.reduce(b,c):a.reduce(b);if(y(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)}),!e)throw new TypeError(z);return c},x.reduceRight=x.foldr=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),o&&a.reduceRight===o)return d&&(b=x.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);var f=a.length;if(f!==+f){var g=x.keys(a);f=g.length}if(y(a,function(h,i,j){i=g?g[--f]:--f,e?c=b.call(d,c,a[i],i,j):(c=a[i],e=!0)}),!e)throw new TypeError(z);return c},x.find=x.detect=function(a,b,c){var d;return A(a,function(a,e,f){return b.call(c,a,e,f)?(d=a,!0):void 0}),d},x.filter=x.select=function(a,b,c){var d=[];return null==a?d:p&&a.filter===p?a.filter(b,c):(y(a,function(a,e,f){b.call(c,a,e,f)&&(d[d.length]=a)}),d)},x.reject=function(a,b,c){return x.filter(a,function(a,d,e){return!b.call(c,a,d,e)},c)},x.every=x.all=function(a,b,d){b||(b=x.identity);var e=!0;return null==a?e:q&&a.every===q?a.every(b,d):(y(a,function(a,f,g){return(e=e&&b.call(d,a,f,g))?void 0:c}),!!e)};var A=x.some=x.any=function(a,b,d){b||(b=x.identity);var e=!1;return null==a?e:r&&a.some===r?a.some(b,d):(y(a,function(a,f,g){return e||(e=b.call(d,a,f,g))?c:void 0}),!!e)};x.contains=x.include=function(a,b){return null==a?!1:s&&a.indexOf===s?-1!=a.indexOf(b):A(a,function(a){return a===b})},x.invoke=function(a,b){var c=h.call(arguments,2),d=x.isFunction(b);return x.map(a,function(a){return(d?b:a[b]).apply(a,c)})},x.pluck=function(a,b){return x.map(a,function(a){return a[b]})},x.where=function(a,b,c){return x.isEmpty(b)?c?null:[]:x[c?"find":"filter"](a,function(a){for(var c in b)if(b[c]!==a[c])return!1;return!0})},x.findWhere=function(a,b){return x.where(a,b,!0)},x.max=function(a,b,c){if(!b&&x.isArray(a)&&a[0]===+a[0]&&65535>a.length)return Math.max.apply(Math,a);if(!b&&x.isEmpty(a))return-1/0;var d={computed:-1/0,value:-1/0};return y(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g>=d.computed&&(d={value:a,computed:g})}),d.value},x.min=function(a,b,c){if(!b&&x.isArray(a)&&a[0]===+a[0]&&65535>a.length)return Math.min.apply(Math,a);if(!b&&x.isEmpty(a))return 1/0;var d={computed:1/0,value:1/0};return y(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;d.computed>g&&(d={value:a,computed:g})}),d.value},x.shuffle=function(a){var b,c=0,d=[];return y(a,function(a){b=x.random(c++),d[c-1]=d[b],d[b]=a}),d};var B=function(a){return x.isFunction(a)?a:function(b){return b[a]}};x.sortBy=function(a,b,c){var d=B(b);return x.pluck(x.map(a,function(a,b,e){return{value:a,index:b,criteria:d.call(c,a,b,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index<b.index?-1:1}),"value")};var C=function(a,b,c,d){var e={},f=B(b||x.identity);return y(a,function(b,g){var h=f.call(c,b,g,a);d(e,h,b)}),e};x.groupBy=function(a,b,c){return C(a,b,c,function(a,b,c){(x.has(a,b)?a[b]:a[b]=[]).push(c)})},x.countBy=function(a,b,c){return C(a,b,c,function(a,b){x.has(a,b)||(a[b]=0),a[b]++})},x.sortedIndex=function(a,b,c,d){c=null==c?x.identity:B(c);for(var e=c.call(d,b),f=0,g=a.length;g>f;){var h=f+g>>>1;e>c.call(d,a[h])?f=h+1:g=h}return f},x.toArray=function(a){return a?x.isArray(a)?h.call(a):a.length===+a.length?x.map(a,x.identity):x.values(a):[]},x.size=function(a){return null==a?0:a.length===+a.length?a.length:x.keys(a).length},x.first=x.head=x.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:h.call(a,0,b)},x.initial=function(a,b,c){return h.call(a,0,a.length-(null==b||c?1:b))},x.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:h.call(a,Math.max(a.length-b,0))},x.rest=x.tail=x.drop=function(a,b,c){return h.call(a,null==b||c?1:b)},x.compact=function(a){return x.filter(a,x.identity)};var D=function(a,b,c){return y(a,function(a){x.isArray(a)?b?g.apply(c,a):D(a,b,c):c.push(a)}),c};x.flatten=function(a,b){return D(a,b,[])},x.without=function(a){return x.difference(a,h.call(arguments,1))},x.uniq=x.unique=function(a,b,c,d){x.isFunction(b)&&(d=c,c=b,b=!1);var e=c?x.map(a,c,d):a,f=[],g=[];return y(e,function(c,d){(b?d&&g[g.length-1]===c:x.contains(g,c))||(g.push(c),f.push(a[d]))}),f},x.union=function(){return x.uniq(i.apply(d,arguments))},x.intersection=function(a){var b=h.call(arguments,1);return x.filter(x.uniq(a),function(a){return x.every(b,function(b){return x.indexOf(b,a)>=0})})},x.difference=function(a){var b=i.apply(d,h.call(arguments,1));return x.filter(a,function(a){return!x.contains(b,a)})},x.zip=function(){for(var a=h.call(arguments),b=x.max(x.pluck(a,"length")),c=Array(b),d=0;b>d;d++)c[d]=x.pluck(a,""+d);return c},x.object=function(a,b){if(null==a)return{};for(var c={},d=0,e=a.length;e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},x.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c){if("number"!=typeof c)return d=x.sortedIndex(a,b),a[d]===b?d:-1;d=0>c?Math.max(0,e+c):c}if(s&&a.indexOf===s)return a.indexOf(b,c);for(;e>d;d++)if(a[d]===b)return d;return-1},x.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=null!=c;if(t&&a.lastIndexOf===t)return d?a.lastIndexOf(b,c):a.lastIndexOf(b);for(var e=d?c:a.length;e--;)if(a[e]===b)return e;return-1},x.range=function(a,b,c){1>=arguments.length&&(b=a||0,a=0),c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=Array(d);d>e;)f[e++]=a,a+=c;return f},x.bind=function(a,b){if(a.bind===w&&w)return w.apply(a,h.call(arguments,1));var c=h.call(arguments,2);return function(){return a.apply(b,c.concat(h.call(arguments)))}},x.partial=function(a){var b=h.call(arguments,1);return function(){return a.apply(this,b.concat(h.call(arguments)))}},x.bindAll=function(a){var b=h.call(arguments,1);return 0===b.length&&(b=x.functions(a)),y(b,function(b){a[b]=x.bind(a[b],a)}),a},x.memoize=function(a,b){var c={};return b||(b=x.identity),function(){var d=b.apply(this,arguments);return x.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},x.delay=function(a,b){var c=h.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},x.defer=function(a){return x.delay.apply(x,[a,1].concat(h.call(arguments,1)))},x.throttle=function(a,b){var c,d,e,f,g=0,h=function(){g=new Date,e=null,f=a.apply(c,d)};return function(){var i=new Date,j=b-(i-g);return c=this,d=arguments,0>=j?(clearTimeout(e),e=null,g=i,f=a.apply(c,d)):e||(e=setTimeout(h,j)),f}},x.debounce=function(a,b,c){var d,e;return function(){var f=this,g=arguments,h=function(){d=null,c||(e=a.apply(f,g))},i=c&&!d;return clearTimeout(d),d=setTimeout(h,b),i&&(e=a.apply(f,g)),e}},x.once=function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}},x.wrap=function(a,b){return function(){var c=[a];return g.apply(c,arguments),b.apply(this,c)}},x.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},x.after=function(a,b){return 0>=a?b():function(){return 1>--a?b.apply(this,arguments):void 0}},x.keys=v||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[];for(var c in a)x.has(a,c)&&(b[b.length]=c);return b},x.values=function(a){var b=[];for(var c in a)x.has(a,c)&&b.push(a[c]);return b},x.pairs=function(a){var b=[];for(var c in a)x.has(a,c)&&b.push([c,a[c]]);return b},x.invert=function(a){var b={};for(var c in a)x.has(a,c)&&(b[a[c]]=c);return b},x.functions=x.methods=function(a){var b=[];for(var c in a)x.isFunction(a[c])&&b.push(c);return b.sort()},x.extend=function(a){return y(h.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]}),a},x.pick=function(a){var b={},c=i.apply(d,h.call(arguments,1));return y(c,function(c){c in a&&(b[c]=a[c])}),b},x.omit=function(a){var b={},c=i.apply(d,h.call(arguments,1));for(var e in a)x.contains(c,e)||(b[e]=a[e]);return b},x.defaults=function(a){return y(h.call(arguments,1),function(b){if(b)for(var c in b)null==a[c]&&(a[c]=b[c])}),a},x.clone=function(a){return x.isObject(a)?x.isArray(a)?a.slice():x.extend({},a):a},x.tap=function(a,b){return b(a),a};var E=function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof x&&(a=a._wrapped),b instanceof x&&(b=b._wrapped);var e=j.call(a);if(e!=j.call(b))return!1;switch(e){case"[object String]":return a==b+"";case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=c.length;f--;)if(c[f]==a)return d[f]==b;c.push(a),d.push(b);var g=0,h=!0;if("[object Array]"==e){if(g=a.length,h=g==b.length)for(;g--&&(h=E(a[g],b[g],c,d)););}else{var i=a.constructor,k=b.constructor;if(i!==k&&!(x.isFunction(i)&&i instanceof i&&x.isFunction(k)&&k instanceof k))return!1;for(var l in a)if(x.has(a,l)&&(g++,!(h=x.has(b,l)&&E(a[l],b[l],c,d))))break;if(h){for(l in b)if(x.has(b,l)&&!g--)break;h=!g}}return c.pop(),d.pop(),h};x.isEqual=function(a,b){return E(a,b,[],[])},x.isEmpty=function(a){if(null==a)return!0;if(x.isArray(a)||x.isString(a))return 0===a.length;for(var b in a)if(x.has(a,b))return!1;return!0},x.isElement=function(a){return!(!a||1!==a.nodeType)},x.isArray=u||function(a){return"[object Array]"==j.call(a)},x.isObject=function(a){return a===Object(a)},y(["Arguments","Function","String","Number","Date","RegExp"],function(a){x["is"+a]=function(b){return j.call(b)=="[object "+a+"]"}}),x.isArguments(arguments)||(x.isArguments=function(a){return!(!a||!x.has(a,"callee"))}),"function"!=typeof/./&&(x.isFunction=function(a){return"function"==typeof a}),x.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},x.isNaN=function(a){return x.isNumber(a)&&a!=+a},x.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"==j.call(a)},x.isNull=function(a){return null===a},x.isUndefined=function(a){return void 0===a},x.has=function(a,b){return k.call(a,b)},x.noConflict=function(){return a._=b,this},x.identity=function(a){return a},x.times=function(a,b,c){for(var d=Array(a),e=0;a>e;e++)d[e]=b.call(c,e);return d},x.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))};var F={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};F.unescape=x.invert(F.escape);var G={escape:RegExp("["+x.keys(F.escape).join("")+"]","g"),unescape:RegExp("("+x.keys(F.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(a){x[a]=function(b){return null==b?"":(""+b).replace(G[a],function(b){return F[a][b]})}}),x.result=function(a,b){if(null==a)return null;var c=a[b];return x.isFunction(c)?c.call(a):c},x.mixin=function(a){y(x.functions(a),function(b){var c=x[b]=a[b];x.prototype[b]=function(){var a=[this._wrapped];return g.apply(a,arguments),L.call(this,c.apply(x,a))}})};var H=0;x.uniqueId=function(a){var b=++H+"";return a?a+b:b},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var I=/(.)^/,J={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},K=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(a,b,c){var d;c=x.defaults({},c,x.templateSettings);var e=RegExp([(c.escape||I).source,(c.interpolate||I).source,(c.evaluate||I).source].join("|")+"|$","g"),f=0,g="__p+='";a.replace(e,function(b,c,d,e,h){return g+=a.slice(f,h).replace(K,function(a){return"\\"+J[a]}),c&&(g+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'"),d&&(g+="'+\n((__t=("+d+"))==null?'':__t)+\n'"),e&&(g+="';\n"+e+"\n__p+='"),f=h+b.length,b}),g+="';\n",c.variable||(g="with(obj||{}){\n"+g+"}\n"),g="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+g+"return __p;\n";try{d=Function(c.variable||"obj","_",g)}catch(h){throw h.source=g,h}if(b)return d(b,x);var i=function(a){return d.call(this,a,x)};return i.source="function("+(c.variable||"obj")+"){\n"+g+"}",i},x.chain=function(a){return x(a).chain()};var L=function(a){return this._chain?x(a).chain():a};x.mixin(x),y(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=d[a];x.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!=a&&"splice"!=a||0!==c.length||delete c[0],L.call(this,c)}}),y(["concat","join","slice"],function(a){var b=d[a];x.prototype[a]=function(){return L.call(this,b.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){function c(a){var b=a.length,c=ab.type(a);return"function"===c||ab.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}function d(a,b,c){if(ab.isFunction(b))return ab.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return ab.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(hb.test(b))return ab.filter(b,a,c);b=ab.filter(b,a)}return ab.grep(a,function(a){return U.call(b,a)>=0!==c})}function e(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function f(a){var b=ob[a]={};return ab.each(a.match(nb)||[],function(a,c){b[c]=!0}),b}function g(){$.removeEventListener("DOMContentLoaded",g,!1),a.removeEventListener("load",g,!1),ab.ready()}function h(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=ab.expando+Math.random()}function i(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(ub,"-$1").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:tb.test(c)?ab.parseJSON(c):c}catch(e){}sb.set(a,b,c)}else c=void 0;return c}function j(){return!0}function k(){return!1}function l(){try{return $.activeElement}catch(a){}}function m(a,b){return ab.nodeName(a,"table")&&ab.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function n(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function o(a){var b=Kb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function p(a,b){for(var c=0,d=a.length;d>c;c++)rb.set(a[c],"globalEval",!b||rb.get(b[c],"globalEval"))}function q(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(rb.hasData(a)&&(f=rb.access(a),g=rb.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)ab.event.add(b,e,j[e][c])}sb.hasData(a)&&(h=sb.access(a),i=ab.extend({},h),sb.set(b,i))}}function r(a,b){var c=a.getElementsByTagName?a.getElementsByTagName(b||"*"):a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&ab.nodeName(a,b)?ab.merge([a],c):c}function s(a,b){var c=b.nodeName.toLowerCase();"input"===c&&yb.test(a.type)?b.checked=a.checked:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}function t(b,c){var d=ab(c.createElement(b)).appendTo(c.body),e=a.getDefaultComputedStyle?a.getDefaultComputedStyle(d[0]).display:ab.css(d[0],"display");return d.detach(),e}function u(a){var b=$,c=Ob[a];return c||(c=t(a,b),"none"!==c&&c||(Nb=(Nb||ab("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=Nb[0].contentDocument,b.write(),b.close(),c=t(a,b),Nb.detach()),Ob[a]=c),c}function v(a,b,c){var d,e,f,g,h=a.style;return c=c||Rb(a),c&&(g=c.getPropertyValue(b)||c[b]),c&&(""!==g||ab.contains(a.ownerDocument,a)||(g=ab.style(a,b)),Qb.test(g)&&Pb.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function w(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}function x(a,b){if(b in a)return b;for(var c=b[0].toUpperCase()+b.slice(1),d=b,e=Xb.length;e--;)if(b=Xb[e]+c,b in a)return b;return d}function y(a,b,c){var d=Tb.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function z(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=ab.css(a,c+wb[f],!0,e)),d?("content"===c&&(g-=ab.css(a,"padding"+wb[f],!0,e)),"margin"!==c&&(g-=ab.css(a,"border"+wb[f]+"Width",!0,e))):(g+=ab.css(a,"padding"+wb[f],!0,e),"padding"!==c&&(g+=ab.css(a,"border"+wb[f]+"Width",!0,e)));return g}function A(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Rb(a),g="border-box"===ab.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=v(a,b,f),(0>e||null==e)&&(e=a.style[b]),Qb.test(e))return e;d=g&&(Z.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+z(a,b,c||(g?"border":"content"),d,f)+"px"}function B(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=rb.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&xb(d)&&(f[g]=rb.access(d,"olddisplay",u(d.nodeName)))):f[g]||(e=xb(d),(c&&"none"!==c||!e)&&rb.set(d,"olddisplay",e?c:ab.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function C(a,b,c,d,e){return new C.prototype.init(a,b,c,d,e)}function D(){return setTimeout(function(){Yb=void 0}),Yb=ab.now()}function E(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=wb[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function F(a,b,c){for(var d,e=(cc[b]||[]).concat(cc["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function G(a,b,c){var d,e,f,g,h,i,j,k=this,l={},m=a.style,n=a.nodeType&&xb(a),o=rb.get(a,"fxshow");c.queue||(h=ab._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,k.always(function(){k.always(function(){h.unqueued--,ab.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[m.overflow,m.overflowX,m.overflowY],j=ab.css(a,"display"),"none"===j&&(j=u(a.nodeName)),"inline"===j&&"none"===ab.css(a,"float")&&(m.display="inline-block")),c.overflow&&(m.overflow="hidden",k.always(function(){m.overflow=c.overflow[0],m.overflowX=c.overflow[1],m.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],$b.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(n?"hide":"show")){if("show"!==e||!o||void 0===o[d])continue;n=!0}l[d]=o&&o[d]||ab.style(a,d)}if(!ab.isEmptyObject(l)){o?"hidden"in o&&(n=o.hidden):o=rb.access(a,"fxshow",{}),f&&(o.hidden=!n),n?ab(a).show():k.done(function(){ab(a).hide()}),k.done(function(){var b;rb.remove(a,"fxshow");for(b in l)ab.style(a,b,l[b])});for(d in l)g=F(n?o[d]:0,d,k),d in o||(o[d]=g.start,n&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function H(a,b){var c,d,e,f,g;for(c in a)if(d=ab.camelCase(c),e=b[d],f=a[c],ab.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=ab.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function I(a,b,c){var d,e,f=0,g=bc.length,h=ab.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Yb||D(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:ab.extend({},b),opts:ab.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:Yb||D(),duration:c.duration,tweens:[],createTween:function(b,c){var d=ab.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(H(k,j.opts.specialEasing);g>f;f++)if(d=bc[f].call(j,a,k,j.opts))return d;return ab.map(k,F,j),ab.isFunction(j.opts.start)&&j.opts.start.call(a,j),ab.fx.timer(ab.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function J(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(nb)||[];if(ab.isFunction(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function K(a,b,c,d){function e(h){var i;return f[h]=!0,ab.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||g||f[j]?g?!(i=j):void 0:(b.dataTypes.unshift(j),e(j),!1)}),i}var f={},g=a===vc;return e(b.dataTypes[0])||!f["*"]&&e("*")}function L(a,b){var c,d,e=ab.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&ab.extend(!0,a,d),a}function M(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function N(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function O(a,b,c,d){var e;if(ab.isArray(b))ab.each(b,function(b,e){c||zc.test(a)?d(a,e):O(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==ab.type(b))d(a,b);else for(e in b)O(a+"["+e+"]",b[e],c,d)}function P(a){return ab.isWindow(a)?a:9===a.nodeType&&a.defaultView}var Q=[],R=Q.slice,S=Q.concat,T=Q.push,U=Q.indexOf,V={},W=V.toString,X=V.hasOwnProperty,Y="".trim,Z={},$=a.document,_="2.1.0",ab=function(a,b){return new ab.fn.init(a,b)},bb=/^-ms-/,cb=/-([\da-z])/gi,db=function(a,b){return b.toUpperCase()};ab.fn=ab.prototype={jquery:_,constructor:ab,selector:"",length:0,toArray:function(){return R.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:R.call(this)},pushStack:function(a){var b=ab.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return ab.each(this,a,b)},map:function(a){return this.pushStack(ab.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(R.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:T,sort:Q.sort,splice:Q.splice},ab.extend=ab.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||ab.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(ab.isPlainObject(d)||(e=ab.isArray(d)))?(e?(e=!1,f=c&&ab.isArray(c)?c:[]):f=c&&ab.isPlainObject(c)?c:{},g[b]=ab.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},ab.extend({expando:"jQuery"+(_+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===ab.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return a-parseFloat(a)>=0},isPlainObject:function(a){if("object"!==ab.type(a)||a.nodeType||ab.isWindow(a))return!1;try{if(a.constructor&&!X.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(b){return!1}return!0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?V[W.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=ab.trim(a),a&&(1===a.indexOf("use strict")?(b=$.createElement("script"),b.text=a,$.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(bb,"ms-").replace(cb,db)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,d){var e,f=0,g=a.length,h=c(a);if(d){if(h)for(;g>f&&(e=b.apply(a[f],d),e!==!1);f++);else for(f in a)if(e=b.apply(a[f],d),e===!1)break}else if(h)for(;g>f&&(e=b.call(a[f],f,a[f]),e!==!1);f++);else for(f in a)if(e=b.call(a[f],f,a[f]),e===!1)break;return a},trim:function(a){return null==a?"":Y.call(a)},makeArray:function(a,b){var d=b||[];return null!=a&&(c(Object(a))?ab.merge(d,"string"==typeof a?[a]:a):T.call(d,a)),d},inArray:function(a,b,c){return null==b?-1:U.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,d){var e,f=0,g=a.length,h=c(a),i=[];if(h)for(;g>f;f++)e=b(a[f],f,d),null!=e&&i.push(e);else for(f in a)e=b(a[f],f,d),null!=e&&i.push(e);return S.apply([],i)},guid:1,proxy:function(a,b){var c,d,e;return"string"==typeof b&&(c=a[b],b=a,a=c),ab.isFunction(a)?(d=R.call(arguments,2),e=function(){return a.apply(b||this,d.concat(R.call(arguments)))},e.guid=a.guid=a.guid||ab.guid++,e):void 0},now:Date.now,support:Z}),ab.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){V["[object "+b+"]"]=b.toLowerCase()});var eb=function(a){function b(a,b,c,d){var e,f,g,h,i,j,l,o,p,q;if((b?b.ownerDocument||b:O)!==G&&F(b),b=b||G,c=c||[],!a||"string"!=typeof a)return c;if(1!==(h=b.nodeType)&&9!==h)return[];if(I&&!d){if(e=sb.exec(a))if(g=e[1]){if(9===h){if(f=b.getElementById(g),!f||!f.parentNode)return c;if(f.id===g)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(g))&&M(b,f)&&f.id===g)return c.push(f),c}else{if(e[2])return _.apply(c,b.getElementsByTagName(a)),c;if((g=e[3])&&x.getElementsByClassName&&b.getElementsByClassName)return _.apply(c,b.getElementsByClassName(g)),c}if(x.qsa&&(!J||!J.test(a))){if(o=l=N,p=b,q=9===h&&a,1===h&&"object"!==b.nodeName.toLowerCase()){for(j=m(a),(l=b.getAttribute("id"))?o=l.replace(ub,"\\$&"):b.setAttribute("id",o),o="[id='"+o+"'] ",i=j.length;i--;)j[i]=o+n(j[i]);p=tb.test(a)&&k(b.parentNode)||b,q=j.join(",")}if(q)try{return _.apply(c,p.querySelectorAll(q)),c}catch(r){}finally{l||b.removeAttribute("id")}}}return v(a.replace(ib,"$1"),b,c,d)}function c(){function a(c,d){return b.push(c+" ")>y.cacheLength&&delete a[b.shift()],a[c+" "]=d}var b=[];return a}function d(a){return a[N]=!0,a}function e(a){var b=G.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function f(a,b){for(var c=a.split("|"),d=a.length;d--;)y.attrHandle[c[d]]=b}function g(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||W)-(~a.sourceIndex||W);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function h(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function i(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function j(a){return d(function(b){return b=+b,d(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function k(a){return a&&typeof a.getElementsByTagName!==V&&a}function l(){}function m(a,c){var d,e,f,g,h,i,j,k=S[a+" "];if(k)return c?0:k.slice(0);for(h=a,i=[],j=y.preFilter;h;){(!d||(e=jb.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=kb.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(ib," ")}),h=h.slice(d.length));for(g in y.filter)!(e=ob[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));
if(!d)break}return c?h.length:h?b.error(a):S(a,i).slice(0)}function n(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function o(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=Q++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[P,f];if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e){if(i=b[N]||(b[N]={}),(h=i[d])&&h[0]===P&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function p(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function q(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function r(a,b,c,e,f,g){return e&&!e[N]&&(e=r(e)),f&&!f[N]&&(f=r(f,g)),d(function(d,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=d||u(b||"*",h.nodeType?[h]:h,[]),r=!a||!d&&b?p:q(p,m,a,h,i),s=c?f||(d?a:o||e)?[]:g:r;if(c&&c(r,s,h,i),e)for(j=q(s,n),e(j,[],h,i),k=j.length;k--;)(l=j[k])&&(s[n[k]]=!(r[n[k]]=l));if(d){if(f||a){if(f){for(j=[],k=s.length;k--;)(l=s[k])&&j.push(r[k]=l);f(null,s=[],j,i)}for(k=s.length;k--;)(l=s[k])&&(j=f?bb.call(d,l):m[k])>-1&&(d[j]=!(g[j]=l))}}else s=q(s===g?s.splice(o,s.length):s),f?f(null,g,s,i):_.apply(g,s)})}function s(a){for(var b,c,d,e=a.length,f=y.relative[a[0].type],g=f||y.relative[" "],h=f?1:0,i=o(function(a){return a===b},g,!0),j=o(function(a){return bb.call(b,a)>-1},g,!0),k=[function(a,c,d){return!f&&(d||c!==C)||((b=c).nodeType?i(a,c,d):j(a,c,d))}];e>h;h++)if(c=y.relative[a[h].type])k=[o(p(k),c)];else{if(c=y.filter[a[h].type].apply(null,a[h].matches),c[N]){for(d=++h;e>d&&!y.relative[a[d].type];d++);return r(h>1&&p(k),h>1&&n(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(ib,"$1"),c,d>h&&s(a.slice(h,d)),e>d&&s(a=a.slice(d)),e>d&&n(a))}k.push(c)}return p(k)}function t(a,c){var e=c.length>0,f=a.length>0,g=function(d,g,h,i,j){var k,l,m,n=0,o="0",p=d&&[],r=[],s=C,t=d||f&&y.find.TAG("*",j),u=P+=null==s?1:Math.random()||.1,v=t.length;for(j&&(C=g!==G&&g);o!==v&&null!=(k=t[o]);o++){if(f&&k){for(l=0;m=a[l++];)if(m(k,g,h)){i.push(k);break}j&&(P=u)}e&&((k=!m&&k)&&n--,d&&p.push(k))}if(n+=o,e&&o!==n){for(l=0;m=c[l++];)m(p,r,g,h);if(d){if(n>0)for(;o--;)p[o]||r[o]||(r[o]=Z.call(i));r=q(r)}_.apply(i,r),j&&!d&&r.length>0&&n+c.length>1&&b.uniqueSort(i)}return j&&(P=u,C=s),p};return e?d(g):g}function u(a,c,d){for(var e=0,f=c.length;f>e;e++)b(a,c[e],d);return d}function v(a,b,c,d){var e,f,g,h,i,j=m(a);if(!d&&1===j.length){if(f=j[0]=j[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&x.getById&&9===b.nodeType&&I&&y.relative[f[1].type]){if(b=(y.find.ID(g.matches[0].replace(vb,wb),b)||[])[0],!b)return c;a=a.slice(f.shift().value.length)}for(e=ob.needsContext.test(a)?0:f.length;e--&&(g=f[e],!y.relative[h=g.type]);)if((i=y.find[h])&&(d=i(g.matches[0].replace(vb,wb),tb.test(f[0].type)&&k(b.parentNode)||b))){if(f.splice(e,1),a=d.length&&n(f),!a)return _.apply(c,d),c;break}}return B(a,j)(d,b,!I,c,tb.test(a)&&k(b.parentNode)||b),c}var w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N="sizzle"+-new Date,O=a.document,P=0,Q=0,R=c(),S=c(),T=c(),U=function(a,b){return a===b&&(E=!0),0},V="undefined",W=1<<31,X={}.hasOwnProperty,Y=[],Z=Y.pop,$=Y.push,_=Y.push,ab=Y.slice,bb=Y.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},cb="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",db="[\\x20\\t\\r\\n\\f]",eb="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",fb=eb.replace("w","w#"),gb="\\["+db+"*("+eb+")"+db+"*(?:([*^$|!~]?=)"+db+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+fb+")|)|)"+db+"*\\]",hb=":("+eb+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+gb.replace(3,8)+")*)|.*)\\)|)",ib=new RegExp("^"+db+"+|((?:^|[^\\\\])(?:\\\\.)*)"+db+"+$","g"),jb=new RegExp("^"+db+"*,"+db+"*"),kb=new RegExp("^"+db+"*([>+~]|"+db+")"+db+"*"),lb=new RegExp("="+db+"*([^\\]'\"]*?)"+db+"*\\]","g"),mb=new RegExp(hb),nb=new RegExp("^"+fb+"$"),ob={ID:new RegExp("^#("+eb+")"),CLASS:new RegExp("^\\.("+eb+")"),TAG:new RegExp("^("+eb.replace("w","w*")+")"),ATTR:new RegExp("^"+gb),PSEUDO:new RegExp("^"+hb),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+db+"*(even|odd|(([+-]|)(\\d*)n|)"+db+"*(?:([+-]|)"+db+"*(\\d+)|))"+db+"*\\)|)","i"),bool:new RegExp("^(?:"+cb+")$","i"),needsContext:new RegExp("^"+db+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+db+"*((?:-\\d)?\\d*)"+db+"*\\)|)(?=[^-]|$)","i")},pb=/^(?:input|select|textarea|button)$/i,qb=/^h\d$/i,rb=/^[^{]+\{\s*\[native \w/,sb=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tb=/[+~]/,ub=/'|\\/g,vb=new RegExp("\\\\([\\da-f]{1,6}"+db+"?|("+db+")|.)","ig"),wb=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)};try{_.apply(Y=ab.call(O.childNodes),O.childNodes),Y[O.childNodes.length].nodeType}catch(xb){_={apply:Y.length?function(a,b){$.apply(a,ab.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}x=b.support={},A=b.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},F=b.setDocument=function(a){var b,c=a?a.ownerDocument||a:O,d=c.defaultView;return c!==G&&9===c.nodeType&&c.documentElement?(G=c,H=c.documentElement,I=!A(c),d&&d!==d.top&&(d.addEventListener?d.addEventListener("unload",function(){F()},!1):d.attachEvent&&d.attachEvent("onunload",function(){F()})),x.attributes=e(function(a){return a.className="i",!a.getAttribute("className")}),x.getElementsByTagName=e(function(a){return a.appendChild(c.createComment("")),!a.getElementsByTagName("*").length}),x.getElementsByClassName=rb.test(c.getElementsByClassName)&&e(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),x.getById=e(function(a){return H.appendChild(a).id=N,!c.getElementsByName||!c.getElementsByName(N).length}),x.getById?(y.find.ID=function(a,b){if(typeof b.getElementById!==V&&I){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},y.filter.ID=function(a){var b=a.replace(vb,wb);return function(a){return a.getAttribute("id")===b}}):(delete y.find.ID,y.filter.ID=function(a){var b=a.replace(vb,wb);return function(a){var c=typeof a.getAttributeNode!==V&&a.getAttributeNode("id");return c&&c.value===b}}),y.find.TAG=x.getElementsByTagName?function(a,b){return typeof b.getElementsByTagName!==V?b.getElementsByTagName(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},y.find.CLASS=x.getElementsByClassName&&function(a,b){return typeof b.getElementsByClassName!==V&&I?b.getElementsByClassName(a):void 0},K=[],J=[],(x.qsa=rb.test(c.querySelectorAll))&&(e(function(a){a.innerHTML="<select t=''><option selected=''></option></select>",a.querySelectorAll("[t^='']").length&&J.push("[*^$]="+db+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||J.push("\\["+db+"*(?:value|"+cb+")"),a.querySelectorAll(":checked").length||J.push(":checked")}),e(function(a){var b=c.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&J.push("name"+db+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||J.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),J.push(",.*:")})),(x.matchesSelector=rb.test(L=H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&e(function(a){x.disconnectedMatch=L.call(a,"div"),L.call(a,"[s!='']:x"),K.push("!=",hb)}),J=J.length&&new RegExp(J.join("|")),K=K.length&&new RegExp(K.join("|")),b=rb.test(H.compareDocumentPosition),M=b||rb.test(H.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},U=b?function(a,b){if(a===b)return E=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!x.sortDetached&&b.compareDocumentPosition(a)===d?a===c||a.ownerDocument===O&&M(O,a)?-1:b===c||b.ownerDocument===O&&M(O,b)?1:D?bb.call(D,a)-bb.call(D,b):0:4&d?-1:1)}:function(a,b){if(a===b)return E=!0,0;var d,e=0,f=a.parentNode,h=b.parentNode,i=[a],j=[b];if(!f||!h)return a===c?-1:b===c?1:f?-1:h?1:D?bb.call(D,a)-bb.call(D,b):0;if(f===h)return g(a,b);for(d=a;d=d.parentNode;)i.unshift(d);for(d=b;d=d.parentNode;)j.unshift(d);for(;i[e]===j[e];)e++;return e?g(i[e],j[e]):i[e]===O?-1:j[e]===O?1:0},c):G},b.matches=function(a,c){return b(a,null,null,c)},b.matchesSelector=function(a,c){if((a.ownerDocument||a)!==G&&F(a),c=c.replace(lb,"='$1']"),!(!x.matchesSelector||!I||K&&K.test(c)||J&&J.test(c)))try{var d=L.call(a,c);if(d||x.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return b(c,G,null,[a]).length>0},b.contains=function(a,b){return(a.ownerDocument||a)!==G&&F(a),M(a,b)},b.attr=function(a,b){(a.ownerDocument||a)!==G&&F(a);var c=y.attrHandle[b.toLowerCase()],d=c&&X.call(y.attrHandle,b.toLowerCase())?c(a,b,!I):void 0;return void 0!==d?d:x.attributes||!I?a.getAttribute(b):(d=a.getAttributeNode(b))&&d.specified?d.value:null},b.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},b.uniqueSort=function(a){var b,c=[],d=0,e=0;if(E=!x.detectDuplicates,D=!x.sortStable&&a.slice(0),a.sort(U),E){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return D=null,a},z=b.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=z(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d++];)c+=z(b);return c},y=b.selectors={cacheLength:50,createPseudo:d,match:ob,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(vb,wb),a[3]=(a[4]||a[5]||"").replace(vb,wb),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]),a},PSEUDO:function(a){var b,c=!a[5]&&a[2];return ob.CHILD.test(a[0])?null:(a[3]&&void 0!==a[4]?a[2]=a[4]:c&&mb.test(c)&&(b=m(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(vb,wb).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=R[a+" "];return b||(b=new RegExp("(^|"+db+")"+a+"("+db+"|$)"))&&R(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==V&&a.getAttribute("class")||"")})},ATTR:function(a,c,d){return function(e){var f=b.attr(e,a);return null==f?"!="===c:c?(f+="","="===c?f===d:"!="===c?f!==d:"^="===c?d&&0===f.indexOf(d):"*="===c?d&&f.indexOf(d)>-1:"$="===c?d&&f.slice(-d.length)===d:"~="===c?(" "+f+" ").indexOf(d)>-1:"|="===c?f===d||f.slice(0,d.length+1)===d+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){for(;p;){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(k=q[N]||(q[N]={}),j=k[a]||[],n=j[0]===P&&j[1],m=j[0]===P&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[P,n,m];break}}else if(s&&(j=(b[N]||(b[N]={}))[a])&&j[0]===P)m=j[1];else for(;(l=++n&&l&&l[p]||(m=n=0)||o.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(s&&((l[N]||(l[N]={}))[a]=[P,m]),l!==b)););return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,c){var e,f=y.pseudos[a]||y.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return f[N]?f(c):f.length>1?(e=[a,a,"",c],y.setFilters.hasOwnProperty(a.toLowerCase())?d(function(a,b){for(var d,e=f(a,c),g=e.length;g--;)d=bb.call(a,e[g]),a[d]=!(b[d]=e[g])}):function(a){return f(a,0,e)}):f}},pseudos:{not:d(function(a){var b=[],c=[],e=B(a.replace(ib,"$1"));return e[N]?d(function(a,b,c,d){for(var f,g=e(a,null,d,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,d,f){return b[0]=a,e(b,null,f,c),!c.pop()}}),has:d(function(a){return function(c){return b(a,c).length>0}}),contains:d(function(a){return function(b){return(b.textContent||b.innerText||z(b)).indexOf(a)>-1}}),lang:d(function(a){return nb.test(a||"")||b.error("unsupported lang: "+a),a=a.replace(vb,wb).toLowerCase(),function(b){var c;do if(c=I?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===H},focus:function(a){return a===G.activeElement&&(!G.hasFocus||G.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!y.pseudos.empty(a)},header:function(a){return qb.test(a.nodeName)},input:function(a){return pb.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:j(function(){return[0]}),last:j(function(a,b){return[b-1]}),eq:j(function(a,b,c){return[0>c?c+b:c]}),even:j(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:j(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:j(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:j(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},y.pseudos.nth=y.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})y.pseudos[w]=h(w);for(w in{submit:!0,reset:!0})y.pseudos[w]=i(w);return l.prototype=y.filters=y.pseudos,y.setFilters=new l,B=b.compile=function(a,b){var c,d=[],e=[],f=T[a+" "];if(!f){for(b||(b=m(a)),c=b.length;c--;)f=s(b[c]),f[N]?d.push(f):e.push(f);f=T(a,t(e,d))}return f},x.sortStable=N.split("").sort(U).join("")===N,x.detectDuplicates=!!E,F(),x.sortDetached=e(function(a){return 1&a.compareDocumentPosition(G.createElement("div"))}),e(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||f("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),x.attributes&&e(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||f("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),e(function(a){return null==a.getAttribute("disabled")})||f(cb,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),b}(a);ab.find=eb,ab.expr=eb.selectors,ab.expr[":"]=ab.expr.pseudos,ab.unique=eb.uniqueSort,ab.text=eb.getText,ab.isXMLDoc=eb.isXML,ab.contains=eb.contains;var fb=ab.expr.match.needsContext,gb=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,hb=/^.[^:#\[\.,]*$/;ab.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?ab.find.matchesSelector(d,a)?[d]:[]:ab.find.matches(a,ab.grep(b,function(a){return 1===a.nodeType}))},ab.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(ab(a).filter(function(){for(b=0;c>b;b++)if(ab.contains(e[b],this))return!0}));for(b=0;c>b;b++)ab.find(a,e[b],d);return d=this.pushStack(c>1?ab.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(d(this,a||[],!1))},not:function(a){return this.pushStack(d(this,a||[],!0))},is:function(a){return!!d(this,"string"==typeof a&&fb.test(a)?ab(a):a||[],!1).length}});var ib,jb=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,kb=ab.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:jb.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||ib).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof ab?b[0]:b,ab.merge(this,ab.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:$,!0)),gb.test(c[1])&&ab.isPlainObject(b))for(c in b)ab.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}return d=$.getElementById(c[2]),d&&d.parentNode&&(this.length=1,this[0]=d),this.context=$,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):ab.isFunction(a)?"undefined"!=typeof ib.ready?ib.ready(a):a(ab):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),ab.makeArray(a,this))};kb.prototype=ab.fn,ib=ab($);var lb=/^(?:parents|prev(?:Until|All))/,mb={children:!0,contents:!0,next:!0,prev:!0};ab.extend({dir:function(a,b,c){for(var d=[],e=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(e&&ab(a).is(c))break;d.push(a)}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),ab.fn.extend({has:function(a){var b=ab(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(ab.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=fb.test(a)||"string"!=typeof a?ab(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&ab.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?ab.unique(f):f)},index:function(a){return a?"string"==typeof a?U.call(ab(a),this[0]):U.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(ab.unique(ab.merge(this.get(),ab(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),ab.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return ab.dir(a,"parentNode")},parentsUntil:function(a,b,c){return ab.dir(a,"parentNode",c)},next:function(a){return e(a,"nextSibling")},prev:function(a){return e(a,"previousSibling")},nextAll:function(a){return ab.dir(a,"nextSibling")},prevAll:function(a){return ab.dir(a,"previousSibling")},nextUntil:function(a,b,c){return ab.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return ab.dir(a,"previousSibling",c)},siblings:function(a){return ab.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return ab.sibling(a.firstChild)},contents:function(a){return a.contentDocument||ab.merge([],a.childNodes)}},function(a,b){ab.fn[a]=function(c,d){var e=ab.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=ab.filter(d,e)),this.length>1&&(mb[a]||ab.unique(e),lb.test(a)&&e.reverse()),this.pushStack(e)}});var nb=/\S+/g,ob={};ab.Callbacks=function(a){a="string"==typeof a?ob[a]||f(a):ab.extend({},a);var b,c,d,e,g,h,i=[],j=!a.once&&[],k=function(f){for(b=a.memory&&f,c=!0,h=e||0,e=0,g=i.length,d=!0;i&&g>h;h++)if(i[h].apply(f[0],f[1])===!1&&a.stopOnFalse){b=!1;break}d=!1,i&&(j?j.length&&k(j.shift()):b?i=[]:l.disable())},l={add:function(){if(i){var c=i.length;!function f(b){ab.each(b,function(b,c){var d=ab.type(c);"function"===d?a.unique&&l.has(c)||i.push(c):c&&c.length&&"string"!==d&&f(c)})}(arguments),d?g=i.length:b&&(e=c,k(b))}return this},remove:function(){return i&&ab.each(arguments,function(a,b){for(var c;(c=ab.inArray(b,i,c))>-1;)i.splice(c,1),d&&(g>=c&&g--,h>=c&&h--)}),this},has:function(a){return a?ab.inArray(a,i)>-1:!(!i||!i.length)},empty:function(){return i=[],g=0,this},disable:function(){return i=j=b=void 0,this},disabled:function(){return!i},lock:function(){return j=void 0,b||l.disable(),this},locked:function(){return!j},fireWith:function(a,b){return!i||c&&!j||(b=b||[],b=[a,b.slice?b.slice():b],d?j.push(b):k(b)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!c}};return l},ab.extend({Deferred:function(a){var b=[["resolve","done",ab.Callbacks("once memory"),"resolved"],["reject","fail",ab.Callbacks("once memory"),"rejected"],["notify","progress",ab.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return ab.Deferred(function(c){ab.each(b,function(b,f){var g=ab.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&ab.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?ab.extend(a,d):d}},e={};return d.pipe=d.then,ab.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=R.call(arguments),g=f.length,h=1!==g||a&&ab.isFunction(a.promise)?g:0,i=1===h?a:ab.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?R.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=new Array(g),c=new Array(g),d=new Array(g);g>e;e++)f[e]&&ab.isFunction(f[e].promise)?f[e].promise().done(j(e,d,f)).fail(i.reject).progress(j(e,c,b)):--h;return h||i.resolveWith(d,f),i.promise()}});var pb;ab.fn.ready=function(a){return ab.ready.promise().done(a),this},ab.extend({isReady:!1,readyWait:1,holdReady:function(a){a?ab.readyWait++:ab.ready(!0)},ready:function(a){(a===!0?--ab.readyWait:ab.isReady)||(ab.isReady=!0,a!==!0&&--ab.readyWait>0||(pb.resolveWith($,[ab]),ab.fn.trigger&&ab($).trigger("ready").off("ready")))}}),ab.ready.promise=function(b){return pb||(pb=ab.Deferred(),"complete"===$.readyState?setTimeout(ab.ready):($.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1))),pb.promise(b)},ab.ready.promise();var qb=ab.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===ab.type(c)){e=!0;for(h in c)ab.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,ab.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(ab(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f};ab.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType},h.uid=1,h.accepts=ab.acceptData,h.prototype={key:function(a){if(!h.accepts(a))return 0;var b={},c=a[this.expando];if(!c){c=h.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,b)}catch(d){b[this.expando]=c,ab.extend(a,b)}}return this.cache[c]||(this.cache[c]={}),c},set:function(a,b,c){var d,e=this.key(a),f=this.cache[e];if("string"==typeof b)f[b]=c;else if(ab.isEmptyObject(f))ab.extend(this.cache[e],b);else for(d in b)f[d]=b[d];return f},get:function(a,b){var c=this.cache[this.key(a)];return void 0===b?c:c[b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,ab.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=this.key(a),g=this.cache[f];if(void 0===b)this.cache[f]={};else{ab.isArray(b)?d=b.concat(b.map(ab.camelCase)):(e=ab.camelCase(b),b in g?d=[b,e]:(d=e,d=d in g?[d]:d.match(nb)||[])),c=d.length;for(;c--;)delete g[d[c]]}},hasData:function(a){return!ab.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var rb=new h,sb=new h,tb=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ub=/([A-Z])/g;ab.extend({hasData:function(a){return sb.hasData(a)||rb.hasData(a)},data:function(a,b,c){return sb.access(a,b,c)},removeData:function(a,b){sb.remove(a,b)},_data:function(a,b,c){return rb.access(a,b,c)},_removeData:function(a,b){rb.remove(a,b)}}),ab.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=sb.get(f),1===f.nodeType&&!rb.get(f,"hasDataAttrs"))){for(c=g.length;c--;)d=g[c].name,0===d.indexOf("data-")&&(d=ab.camelCase(d.slice(5)),i(f,d,e[d]));rb.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){sb.set(this,a)}):qb(this,function(b){var c,d=ab.camelCase(a);if(f&&void 0===b){if(c=sb.get(f,a),void 0!==c)return c;if(c=sb.get(f,d),void 0!==c)return c;if(c=i(f,d,void 0),void 0!==c)return c}else this.each(function(){var c=sb.get(this,d);sb.set(this,d,b),-1!==a.indexOf("-")&&void 0!==c&&sb.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){sb.remove(this,a)})}}),ab.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=rb.get(a,b),c&&(!d||ab.isArray(c)?d=rb.access(a,b,ab.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=ab.queue(a,b),d=c.length,e=c.shift(),f=ab._queueHooks(a,b),g=function(){ab.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return rb.get(a,c)||rb.access(a,c,{empty:ab.Callbacks("once memory").add(function(){rb.remove(a,[b+"queue",c])})})}}),ab.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?ab.queue(this[0],a):void 0===b?this:this.each(function(){var c=ab.queue(this,a,b);ab._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&ab.dequeue(this,a)})},dequeue:function(a){return this.each(function(){ab.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=ab.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)c=rb.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var vb=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,wb=["Top","Right","Bottom","Left"],xb=function(a,b){return a=b||a,"none"===ab.css(a,"display")||!ab.contains(a.ownerDocument,a)},yb=/^(?:checkbox|radio)$/i;!function(){var a=$.createDocumentFragment(),b=a.appendChild($.createElement("div"));b.innerHTML="<input type='radio' checked='checked' name='t'/>",Z.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",Z.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var zb="undefined";Z.focusinBubbles="onfocusin"in a;var Ab=/^key/,Bb=/^(?:mouse|contextmenu)|click/,Cb=/^(?:focusinfocus|focusoutblur)$/,Db=/^([^.]*)(?:\.(.+)|)$/;ab.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=rb.get(a);if(q)for(c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=ab.guid++),(i=q.events)||(i=q.events={}),(g=q.handle)||(g=q.handle=function(b){return typeof ab!==zb&&ab.event.triggered!==b.type?ab.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(nb)||[""],j=b.length;j--;)h=Db.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n&&(l=ab.event.special[n]||{},n=(e?l.delegateType:l.bindType)||n,l=ab.event.special[n]||{},k=ab.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&ab.expr.match.needsContext.test(e),namespace:o.join(".")},f),(m=i[n])||(m=i[n]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,o,g)!==!1||a.addEventListener&&a.addEventListener(n,g,!1)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),ab.event.global[n]=!0)},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=rb.hasData(a)&&rb.get(a);if(q&&(i=q.events)){for(b=(b||"").match(nb)||[""],j=b.length;j--;)if(h=Db.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=ab.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=i[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;f--;)k=m[f],!e&&p!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||ab.removeEvent(a,n,q.handle),delete i[n])}else for(n in i)ab.event.remove(a,n+b[j],c,d,!0);ab.isEmptyObject(i)&&(delete q.handle,rb.remove(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,j,k,l,m=[d||$],n=X.call(b,"type")?b.type:b,o=X.call(b,"namespace")?b.namespace.split("."):[];if(g=h=d=d||$,3!==d.nodeType&&8!==d.nodeType&&!Cb.test(n+ab.event.triggered)&&(n.indexOf(".")>=0&&(o=n.split("."),n=o.shift(),o.sort()),j=n.indexOf(":")<0&&"on"+n,b=b[ab.expando]?b:new ab.Event(n,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=o.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:ab.makeArray(c,[b]),l=ab.event.special[n]||{},e||!l.trigger||l.trigger.apply(d,c)!==!1)){if(!e&&!l.noBubble&&!ab.isWindow(d)){for(i=l.delegateType||n,Cb.test(i+n)||(g=g.parentNode);g;g=g.parentNode)m.push(g),h=g;h===(d.ownerDocument||$)&&m.push(h.defaultView||h.parentWindow||a)}for(f=0;(g=m[f++])&&!b.isPropagationStopped();)b.type=f>1?i:l.bindType||n,k=(rb.get(g,"events")||{})[b.type]&&rb.get(g,"handle"),k&&k.apply(g,c),k=j&&g[j],k&&k.apply&&ab.acceptData(g)&&(b.result=k.apply(g,c),b.result===!1&&b.preventDefault());return b.type=n,e||b.isDefaultPrevented()||l._default&&l._default.apply(m.pop(),c)!==!1||!ab.acceptData(d)||j&&ab.isFunction(d[n])&&!ab.isWindow(d)&&(h=d[j],h&&(d[j]=null),ab.event.triggered=n,d[n](),ab.event.triggered=void 0,h&&(d[j]=h)),b.result}},dispatch:function(a){a=ab.event.fix(a);var b,c,d,e,f,g=[],h=R.call(arguments),i=(rb.get(this,"events")||{})[a.type]||[],j=ab.event.special[a.type]||{};if(h[0]=a,a.delegateTarget=this,!j.preDispatch||j.preDispatch.call(this,a)!==!1){for(g=ab.event.handlers.call(this,a,i),b=0;(e=g[b++])&&!a.isPropagationStopped();)for(a.currentTarget=e.elem,c=0;(f=e.handlers[c++])&&!a.isImmediatePropagationStopped();)(!a.namespace_re||a.namespace_re.test(f.namespace))&&(a.handleObj=f,a.data=f.data,d=((ab.event.special[f.origType]||{}).handle||f.handler).apply(e.elem,h),void 0!==d&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()));return j.postDispatch&&j.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!==this;i=i.parentNode||this)if(i.disabled!==!0||"click"!==a.type){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?ab(e,this).index(i)>=0:ab.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||$,d=c.documentElement,e=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a
}},fix:function(a){if(a[ab.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=Bb.test(e)?this.mouseHooks:Ab.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new ab.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=$),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==l()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===l()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&ab.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return ab.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=ab.extend(new ab.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?ab.event.trigger(e,null,b):ab.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},ab.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)},ab.Event=function(a,b){return this instanceof ab.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.getPreventDefault&&a.getPreventDefault()?j:k):this.type=a,b&&ab.extend(this,b),this.timeStamp=a&&a.timeStamp||ab.now(),void(this[ab.expando]=!0)):new ab.Event(a,b)},ab.Event.prototype={isDefaultPrevented:k,isPropagationStopped:k,isImmediatePropagationStopped:k,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=j,a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=j,a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=j,this.stopPropagation()}},ab.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){ab.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!ab.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),Z.focusinBubbles||ab.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){ab.event.simulate(b,a.target,ab.event.fix(a),!0)};ab.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=rb.access(d,b);e||d.addEventListener(a,c,!0),rb.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=rb.access(d,b)-1;e?rb.access(d,b,e):(d.removeEventListener(a,c,!0),rb.remove(d,b))}}}),ab.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(g in a)this.on(g,b,c,a[g],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=k;else if(!d)return this;return 1===e&&(f=d,d=function(a){return ab().off(a),f.apply(this,arguments)},d.guid=f.guid||(f.guid=ab.guid++)),this.each(function(){ab.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,ab(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=k),this.each(function(){ab.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){ab.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?ab.event.trigger(a,b,c,!0):void 0}});var Eb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Fb=/<([\w:]+)/,Gb=/<|&#?\w+;/,Hb=/<(?:script|style|link)/i,Ib=/checked\s*(?:[^=]|=\s*.checked.)/i,Jb=/^$|\/(?:java|ecma)script/i,Kb=/^true\/(.*)/,Lb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Mb={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Mb.optgroup=Mb.option,Mb.tbody=Mb.tfoot=Mb.colgroup=Mb.caption=Mb.thead,Mb.th=Mb.td,ab.extend({clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=ab.contains(a.ownerDocument,a);if(!(Z.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||ab.isXMLDoc(a)))for(g=r(h),f=r(a),d=0,e=f.length;e>d;d++)s(f[d],g[d]);if(b)if(c)for(f=f||r(a),g=g||r(h),d=0,e=f.length;e>d;d++)q(f[d],g[d]);else q(a,h);return g=r(h,"script"),g.length>0&&p(g,!i&&r(a,"script")),h},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k=b.createDocumentFragment(),l=[],m=0,n=a.length;n>m;m++)if(e=a[m],e||0===e)if("object"===ab.type(e))ab.merge(l,e.nodeType?[e]:e);else if(Gb.test(e)){for(f=f||k.appendChild(b.createElement("div")),g=(Fb.exec(e)||["",""])[1].toLowerCase(),h=Mb[g]||Mb._default,f.innerHTML=h[1]+e.replace(Eb,"<$1></$2>")+h[2],j=h[0];j--;)f=f.lastChild;ab.merge(l,f.childNodes),f=k.firstChild,f.textContent=""}else l.push(b.createTextNode(e));for(k.textContent="",m=0;e=l[m++];)if((!d||-1===ab.inArray(e,d))&&(i=ab.contains(e.ownerDocument,e),f=r(k.appendChild(e),"script"),i&&p(f),c))for(j=0;e=f[j++];)Jb.test(e.type||"")&&c.push(e);return k},cleanData:function(a){for(var b,c,d,e,f,g,h=ab.event.special,i=0;void 0!==(c=a[i]);i++){if(ab.acceptData(c)&&(f=c[rb.expando],f&&(b=rb.cache[f]))){if(d=Object.keys(b.events||{}),d.length)for(g=0;void 0!==(e=d[g]);g++)h[e]?ab.event.remove(c,e):ab.removeEvent(c,e,b.handle);rb.cache[f]&&delete rb.cache[f]}delete sb.cache[c[sb.expando]]}}}),ab.fn.extend({text:function(a){return qb(this,function(a){return void 0===a?ab.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=a)})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=m(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=m(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?ab.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||ab.cleanData(r(c)),c.parentNode&&(b&&ab.contains(c.ownerDocument,c)&&p(r(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(ab.cleanData(r(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return ab.clone(this,a,b)})},html:function(a){return qb(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!Hb.test(a)&&!Mb[(Fb.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Eb,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(ab.cleanData(r(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,ab.cleanData(r(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=S.apply([],a);var c,d,e,f,g,h,i=0,j=this.length,k=this,l=j-1,m=a[0],p=ab.isFunction(m);if(p||j>1&&"string"==typeof m&&!Z.checkClone&&Ib.test(m))return this.each(function(c){var d=k.eq(c);p&&(a[0]=m.call(this,c,d.html())),d.domManip(a,b)});if(j&&(c=ab.buildFragment(a,this[0].ownerDocument,!1,this),d=c.firstChild,1===c.childNodes.length&&(c=d),d)){for(e=ab.map(r(c,"script"),n),f=e.length;j>i;i++)g=c,i!==l&&(g=ab.clone(g,!0,!0),f&&ab.merge(e,r(g,"script"))),b.call(this[i],g,i);if(f)for(h=e[e.length-1].ownerDocument,ab.map(e,o),i=0;f>i;i++)g=e[i],Jb.test(g.type||"")&&!rb.access(g,"globalEval")&&ab.contains(h,g)&&(g.src?ab._evalUrl&&ab._evalUrl(g.src):ab.globalEval(g.textContent.replace(Lb,"")))}return this}}),ab.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){ab.fn[a]=function(a){for(var c,d=[],e=ab(a),f=e.length-1,g=0;f>=g;g++)c=g===f?this:this.clone(!0),ab(e[g])[b](c),T.apply(d,c.get());return this.pushStack(d)}});var Nb,Ob={},Pb=/^margin/,Qb=new RegExp("^("+vb+")(?!px)[a-z%]+$","i"),Rb=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)};!function(){function b(){h.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",f.appendChild(g);var b=a.getComputedStyle(h,null);c="1%"!==b.top,d="4px"===b.width,f.removeChild(g)}var c,d,e="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",f=$.documentElement,g=$.createElement("div"),h=$.createElement("div");h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",Z.clearCloneStyle="content-box"===h.style.backgroundClip,g.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",g.appendChild(h),a.getComputedStyle&&ab.extend(Z,{pixelPosition:function(){return b(),c},boxSizingReliable:function(){return null==d&&b(),d},reliableMarginRight:function(){var b,c=h.appendChild($.createElement("div"));return c.style.cssText=h.style.cssText=e,c.style.marginRight=c.style.width="0",h.style.width="1px",f.appendChild(g),b=!parseFloat(a.getComputedStyle(c,null).marginRight),f.removeChild(g),h.innerHTML="",b}})}(),ab.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var Sb=/^(none|table(?!-c[ea]).+)/,Tb=new RegExp("^("+vb+")(.*)$","i"),Ub=new RegExp("^([+-])=("+vb+")","i"),Vb={position:"absolute",visibility:"hidden",display:"block"},Wb={letterSpacing:0,fontWeight:400},Xb=["Webkit","O","Moz","ms"];ab.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=v(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=ab.camelCase(b),i=a.style;return b=ab.cssProps[h]||(ab.cssProps[h]=x(i,h)),g=ab.cssHooks[b]||ab.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=Ub.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(ab.css(a,b)),f="number"),void(null!=c&&c===c&&("number"!==f||ab.cssNumber[h]||(c+="px"),Z.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]="",i[b]=c))))}},css:function(a,b,c,d){var e,f,g,h=ab.camelCase(b);return b=ab.cssProps[h]||(ab.cssProps[h]=x(a.style,h)),g=ab.cssHooks[b]||ab.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=v(a,b,d)),"normal"===e&&b in Wb&&(e=Wb[b]),""===c||c?(f=parseFloat(e),c===!0||ab.isNumeric(f)?f||0:e):e}}),ab.each(["height","width"],function(a,b){ab.cssHooks[b]={get:function(a,c,d){return c?0===a.offsetWidth&&Sb.test(ab.css(a,"display"))?ab.swap(a,Vb,function(){return A(a,b,d)}):A(a,b,d):void 0},set:function(a,c,d){var e=d&&Rb(a);return y(a,c,d?z(a,b,d,"border-box"===ab.css(a,"boxSizing",!1,e),e):0)}}}),ab.cssHooks.marginRight=w(Z.reliableMarginRight,function(a,b){return b?ab.swap(a,{display:"inline-block"},v,[a,"marginRight"]):void 0}),ab.each({margin:"",padding:"",border:"Width"},function(a,b){ab.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+wb[d]+b]=f[d]||f[d-2]||f[0];return e}},Pb.test(a)||(ab.cssHooks[a+b].set=y)}),ab.fn.extend({css:function(a,b){return qb(this,function(a,b,c){var d,e,f={},g=0;if(ab.isArray(b)){for(d=Rb(a),e=b.length;e>g;g++)f[b[g]]=ab.css(a,b[g],!1,d);return f}return void 0!==c?ab.style(a,b,c):ab.css(a,b)},a,b,arguments.length>1)},show:function(){return B(this,!0)},hide:function(){return B(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){xb(this)?ab(this).show():ab(this).hide()})}}),ab.Tween=C,C.prototype={constructor:C,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(ab.cssNumber[c]?"":"px")},cur:function(){var a=C.propHooks[this.prop];return a&&a.get?a.get(this):C.propHooks._default.get(this)},run:function(a){var b,c=C.propHooks[this.prop];return this.pos=b=this.options.duration?ab.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):C.propHooks._default.set(this),this}},C.prototype.init.prototype=C.prototype,C.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=ab.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){ab.fx.step[a.prop]?ab.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[ab.cssProps[a.prop]]||ab.cssHooks[a.prop])?ab.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},C.propHooks.scrollTop=C.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},ab.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},ab.fx=C.prototype.init,ab.fx.step={};var Yb,Zb,$b=/^(?:toggle|show|hide)$/,_b=new RegExp("^(?:([+-])=|)("+vb+")([a-z%]*)$","i"),ac=/queueHooks$/,bc=[G],cc={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=_b.exec(b),f=e&&e[3]||(ab.cssNumber[a]?"":"px"),g=(ab.cssNumber[a]||"px"!==f&&+d)&&_b.exec(ab.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,ab.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};ab.Animation=ab.extend(I,{tweener:function(a,b){ab.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],cc[c]=cc[c]||[],cc[c].unshift(b)},prefilter:function(a,b){b?bc.unshift(a):bc.push(a)}}),ab.speed=function(a,b,c){var d=a&&"object"==typeof a?ab.extend({},a):{complete:c||!c&&b||ab.isFunction(a)&&a,duration:a,easing:c&&b||b&&!ab.isFunction(b)&&b};return d.duration=ab.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in ab.fx.speeds?ab.fx.speeds[d.duration]:ab.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){ab.isFunction(d.old)&&d.old.call(this),d.queue&&ab.dequeue(this,d.queue)},d},ab.fn.extend({fadeTo:function(a,b,c,d){return this.filter(xb).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=ab.isEmptyObject(a),f=ab.speed(b,c,d),g=function(){var b=I(this,ab.extend({},a),f);(e||rb.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=ab.timers,g=rb.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&ac.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&ab.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=rb.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=ab.timers,g=d?d.length:0;for(c.finish=!0,ab.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),ab.each(["toggle","show","hide"],function(a,b){var c=ab.fn[b];ab.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(E(b,!0),a,d,e)}}),ab.each({slideDown:E("show"),slideUp:E("hide"),slideToggle:E("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){ab.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),ab.timers=[],ab.fx.tick=function(){var a,b=0,c=ab.timers;for(Yb=ab.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||ab.fx.stop(),Yb=void 0},ab.fx.timer=function(a){ab.timers.push(a),a()?ab.fx.start():ab.timers.pop()},ab.fx.interval=13,ab.fx.start=function(){Zb||(Zb=setInterval(ab.fx.tick,ab.fx.interval))},ab.fx.stop=function(){clearInterval(Zb),Zb=null},ab.fx.speeds={slow:600,fast:200,_default:400},ab.fn.delay=function(a,b){return a=ab.fx?ab.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a=$.createElement("input"),b=$.createElement("select"),c=b.appendChild($.createElement("option"));a.type="checkbox",Z.checkOn=""!==a.value,Z.optSelected=c.selected,b.disabled=!0,Z.optDisabled=!c.disabled,a=$.createElement("input"),a.value="t",a.type="radio",Z.radioValue="t"===a.value}();var dc,ec,fc=ab.expr.attrHandle;ab.fn.extend({attr:function(a,b){return qb(this,ab.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){ab.removeAttr(this,a)})}}),ab.extend({attr:function(a,b,c){var d,e,f=a.nodeType;return a&&3!==f&&8!==f&&2!==f?typeof a.getAttribute===zb?ab.prop(a,b,c):(1===f&&ab.isXMLDoc(a)||(b=b.toLowerCase(),d=ab.attrHooks[b]||(ab.expr.match.bool.test(b)?ec:dc)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=ab.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void ab.removeAttr(a,b)):void 0},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(nb);if(f&&1===a.nodeType)for(;c=f[e++];)d=ab.propFix[c]||c,ab.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)},attrHooks:{type:{set:function(a,b){if(!Z.radioValue&&"radio"===b&&ab.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),ec={set:function(a,b,c){return b===!1?ab.removeAttr(a,c):a.setAttribute(c,c),c}},ab.each(ab.expr.match.bool.source.match(/\w+/g),function(a,b){var c=fc[b]||ab.find.attr;fc[b]=function(a,b,d){var e,f;return d||(f=fc[b],fc[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,fc[b]=f),e}});var gc=/^(?:input|select|textarea|button)$/i;ab.fn.extend({prop:function(a,b){return qb(this,ab.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[ab.propFix[a]||a]})}}),ab.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;return a&&3!==g&&8!==g&&2!==g?(f=1!==g||!ab.isXMLDoc(a),f&&(b=ab.propFix[b]||b,e=ab.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]):void 0},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||gc.test(a.nodeName)||a.href?a.tabIndex:-1}}}}),Z.optSelected||(ab.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),ab.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ab.propFix[this.toLowerCase()]=this});var hc=/[\t\r\n\f]/g;ab.fn.extend({addClass:function(a){var b,c,d,e,f,g,h="string"==typeof a&&a,i=0,j=this.length;if(ab.isFunction(a))return this.each(function(b){ab(this).addClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(nb)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(hc," "):" ")){for(f=0;e=b[f++];)d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=ab.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0===arguments.length||"string"==typeof a&&a,i=0,j=this.length;if(ab.isFunction(a))return this.each(function(b){ab(this).removeClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(nb)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(hc," "):"")){for(f=0;e=b[f++];)for(;d.indexOf(" "+e+" ")>=0;)d=d.replace(" "+e+" "," ");g=a?ab.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(ab.isFunction(a)?function(c){ab(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c)for(var b,d=0,e=ab(this),f=a.match(nb)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else(c===zb||"boolean"===c)&&(this.className&&rb.set(this,"__className__",this.className),this.className=this.className||a===!1?"":rb.get(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(hc," ").indexOf(b)>=0)return!0;return!1}});var ic=/\r/g;ab.fn.extend({val:function(a){var b,c,d,e=this[0];return arguments.length?(d=ab.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,ab(this).val()):a,null==e?e="":"number"==typeof e?e+="":ab.isArray(e)&&(e=ab.map(e,function(a){return null==a?"":a+""})),b=ab.valHooks[this.type]||ab.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))})):e?(b=ab.valHooks[e.type]||ab.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(ic,""):null==c?"":c)):void 0}}),ab.extend({valHooks:{select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(Z.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&ab.nodeName(c.parentNode,"optgroup"))){if(b=ab(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=ab.makeArray(b),g=e.length;g--;)d=e[g],(d.selected=ab.inArray(ab(d).val(),f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),ab.each(["radio","checkbox"],function(){ab.valHooks[this]={set:function(a,b){return ab.isArray(b)?a.checked=ab.inArray(ab(a).val(),b)>=0:void 0}},Z.checkOn||(ab.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})}),ab.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){ab.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),ab.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var jc=ab.now(),kc=/\?/;ab.parseJSON=function(a){return JSON.parse(a+"")},ab.parseXML=function(a){var b,c;if(!a||"string"!=typeof a)return null;try{c=new DOMParser,b=c.parseFromString(a,"text/xml")}catch(d){b=void 0}return(!b||b.getElementsByTagName("parsererror").length)&&ab.error("Invalid XML: "+a),b};var lc,mc,nc=/#.*$/,oc=/([?&])_=[^&]*/,pc=/^(.*?):[ \t]*([^\r\n]*)$/gm,qc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,rc=/^(?:GET|HEAD)$/,sc=/^\/\//,tc=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,uc={},vc={},wc="*/".concat("*");try{mc=location.href}catch(xc){mc=$.createElement("a"),mc.href="",mc=mc.href}lc=tc.exec(mc.toLowerCase())||[],ab.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:mc,type:"GET",isLocal:qc.test(lc[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":wc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ab.parseJSON,"text xml":ab.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?L(L(a,ab.ajaxSettings),b):L(ab.ajaxSettings,a)},ajaxPrefilter:J(uc),ajaxTransport:J(vc),ajax:function(a,b){function c(a,b,c,g){var i,k,r,s,u,w=b;2!==t&&(t=2,h&&clearTimeout(h),d=void 0,f=g||"",v.readyState=a>0?4:0,i=a>=200&&300>a||304===a,c&&(s=M(l,v,c)),s=N(l,s,v,i),i?(l.ifModified&&(u=v.getResponseHeader("Last-Modified"),u&&(ab.lastModified[e]=u),u=v.getResponseHeader("etag"),u&&(ab.etag[e]=u)),204===a||"HEAD"===l.type?w="nocontent":304===a?w="notmodified":(w=s.state,k=s.data,r=s.error,i=!r)):(r=w,(a||!w)&&(w="error",0>a&&(a=0))),v.status=a,v.statusText=(b||w)+"",i?o.resolveWith(m,[k,w,v]):o.rejectWith(m,[v,w,r]),v.statusCode(q),q=void 0,j&&n.trigger(i?"ajaxSuccess":"ajaxError",[v,l,i?k:r]),p.fireWith(m,[v,w]),j&&(n.trigger("ajaxComplete",[v,l]),--ab.active||ab.event.trigger("ajaxStop")))}"object"==typeof a&&(b=a,a=void 0),b=b||{};var d,e,f,g,h,i,j,k,l=ab.ajaxSetup({},b),m=l.context||l,n=l.context&&(m.nodeType||m.jquery)?ab(m):ab.event,o=ab.Deferred(),p=ab.Callbacks("once memory"),q=l.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!g)for(g={};b=pc.exec(f);)g[b[1].toLowerCase()]=b[2];b=g[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?f:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(l.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return d&&d.abort(b),c(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,l.url=((a||l.url||mc)+"").replace(nc,"").replace(sc,lc[1]+"//"),l.type=b.method||b.type||l.method||l.type,l.dataTypes=ab.trim(l.dataType||"*").toLowerCase().match(nb)||[""],null==l.crossDomain&&(i=tc.exec(l.url.toLowerCase()),l.crossDomain=!(!i||i[1]===lc[1]&&i[2]===lc[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(lc[3]||("http:"===lc[1]?"80":"443")))),l.data&&l.processData&&"string"!=typeof l.data&&(l.data=ab.param(l.data,l.traditional)),K(uc,l,b,v),2===t)return v;j=l.global,j&&0===ab.active++&&ab.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!rc.test(l.type),e=l.url,l.hasContent||(l.data&&(e=l.url+=(kc.test(e)?"&":"?")+l.data,delete l.data),l.cache===!1&&(l.url=oc.test(e)?e.replace(oc,"$1_="+jc++):e+(kc.test(e)?"&":"?")+"_="+jc++)),l.ifModified&&(ab.lastModified[e]&&v.setRequestHeader("If-Modified-Since",ab.lastModified[e]),ab.etag[e]&&v.setRequestHeader("If-None-Match",ab.etag[e])),(l.data&&l.hasContent&&l.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",l.contentType),v.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+("*"!==l.dataTypes[0]?", "+wc+"; q=0.01":""):l.accepts["*"]);for(k in l.headers)v.setRequestHeader(k,l.headers[k]);if(l.beforeSend&&(l.beforeSend.call(m,v,l)===!1||2===t))return v.abort();u="abort";for(k in{success:1,error:1,complete:1})v[k](l[k]);if(d=K(vc,l,b,v)){v.readyState=1,j&&n.trigger("ajaxSend",[v,l]),l.async&&l.timeout>0&&(h=setTimeout(function(){v.abort("timeout")},l.timeout));try{t=1,d.send(r,c)}catch(w){if(!(2>t))throw w;c(-1,w)}}else c(-1,"No Transport");return v},getJSON:function(a,b,c){return ab.get(a,b,c,"json")},getScript:function(a,b){return ab.get(a,void 0,b,"script")}}),ab.each(["get","post"],function(a,b){ab[b]=function(a,c,d,e){return ab.isFunction(c)&&(e=e||d,d=c,c=void 0),ab.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),ab.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){ab.fn[b]=function(a){return this.on(b,a)}}),ab._evalUrl=function(a){return ab.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},ab.fn.extend({wrapAll:function(a){var b;return ab.isFunction(a)?this.each(function(b){ab(this).wrapAll(a.call(this,b))}):(this[0]&&(b=ab(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return this.each(ab.isFunction(a)?function(b){ab(this).wrapInner(a.call(this,b))}:function(){var b=ab(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=ab.isFunction(a);return this.each(function(c){ab(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){ab.nodeName(this,"body")||ab(this).replaceWith(this.childNodes)}).end()}}),ab.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0},ab.expr.filters.visible=function(a){return!ab.expr.filters.hidden(a)};var yc=/%20/g,zc=/\[\]$/,Ac=/\r?\n/g,Bc=/^(?:submit|button|image|reset|file)$/i,Cc=/^(?:input|select|textarea|keygen)/i;ab.param=function(a,b){var c,d=[],e=function(a,b){b=ab.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=ab.ajaxSettings&&ab.ajaxSettings.traditional),ab.isArray(a)||a.jquery&&!ab.isPlainObject(a))ab.each(a,function(){e(this.name,this.value)});else for(c in a)O(c,a[c],b,e);return d.join("&").replace(yc,"+")},ab.fn.extend({serialize:function(){return ab.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=ab.prop(this,"elements");return a?ab.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!ab(this).is(":disabled")&&Cc.test(this.nodeName)&&!Bc.test(a)&&(this.checked||!yb.test(a))}).map(function(a,b){var c=ab(this).val();return null==c?null:ab.isArray(c)?ab.map(c,function(a){return{name:b.name,value:a.replace(Ac,"\r\n")}}):{name:b.name,value:c.replace(Ac,"\r\n")}}).get()}}),ab.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var Dc=0,Ec={},Fc={0:200,1223:204},Gc=ab.ajaxSettings.xhr();a.ActiveXObject&&ab(a).on("unload",function(){for(var a in Ec)Ec[a]()}),Z.cors=!!Gc&&"withCredentials"in Gc,Z.ajax=Gc=!!Gc,ab.ajaxTransport(function(a){var b;return Z.cors||Gc&&!a.crossDomain?{send:function(c,d){var e,f=a.xhr(),g=++Dc;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)f.setRequestHeader(e,c[e]);b=function(a){return function(){b&&(delete Ec[g],b=f.onload=f.onerror=null,"abort"===a?f.abort():"error"===a?d(f.status,f.statusText):d(Fc[f.status]||f.status,f.statusText,"string"==typeof f.responseText?{text:f.responseText}:void 0,f.getAllResponseHeaders()))}},f.onload=b(),f.onerror=b("error"),b=Ec[g]=b("abort"),f.send(a.hasContent&&a.data||null)},abort:function(){b&&b()}}:void 0}),ab.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return ab.globalEval(a),a}}}),ab.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),ab.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=ab("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),$.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Hc=[],Ic=/(=)\?(?=&|$)|\?\?/;
ab.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Hc.pop()||ab.expando+"_"+jc++;return this[a]=!0,a}}),ab.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Ic.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ic.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=ab.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Ic,"$1"+e):b.jsonp!==!1&&(b.url+=(kc.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||ab.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Hc.push(e)),g&&ab.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),ab.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||$;var d=gb.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=ab.buildFragment([a],b,e),e&&e.length&&ab(e).remove(),ab.merge([],d.childNodes))};var Jc=ab.fn.load;ab.fn.load=function(a,b,c){if("string"!=typeof a&&Jc)return Jc.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=a.slice(h),a=a.slice(0,h)),ab.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&ab.ajax({url:a,type:e,dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?ab("<div>").append(ab.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,f||[a.responseText,b,a])}),this},ab.expr.filters.animated=function(a){return ab.grep(ab.timers,function(b){return a===b.elem}).length};var Kc=a.document.documentElement;ab.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=ab.css(a,"position"),l=ab(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=ab.css(a,"top"),i=ab.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),ab.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},ab.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){ab.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;return f?(b=f.documentElement,ab.contains(b,d)?(typeof d.getBoundingClientRect!==zb&&(e=d.getBoundingClientRect()),c=P(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e):void 0},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===ab.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),ab.nodeName(a[0],"html")||(d=a.offset()),d.top+=ab.css(a[0],"borderTopWidth",!0),d.left+=ab.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-ab.css(c,"marginTop",!0),left:b.left-d.left-ab.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||Kc;a&&!ab.nodeName(a,"html")&&"static"===ab.css(a,"position");)a=a.offsetParent;return a||Kc})}}),ab.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,c){var d="pageYOffset"===c;ab.fn[b]=function(e){return qb(this,function(b,e,f){var g=P(b);return void 0===f?g?g[c]:b[e]:void(g?g.scrollTo(d?a.pageXOffset:f,d?f:a.pageYOffset):b[e]=f)},b,e,arguments.length,null)}}),ab.each(["top","left"],function(a,b){ab.cssHooks[b]=w(Z.pixelPosition,function(a,c){return c?(c=v(a,b),Qb.test(c)?ab(a).position()[b]+"px":c):void 0})}),ab.each({Height:"height",Width:"width"},function(a,b){ab.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){ab.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return qb(this,function(b,c,d){var e;return ab.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?ab.css(b,c,g):ab.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),ab.fn.size=function(){return this.length},ab.fn.andSelf=ab.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ab});var Lc=a.jQuery,Mc=a.$;return ab.noConflict=function(b){return a.$===ab&&(a.$=Mc),b&&a.jQuery===ab&&(a.jQuery=Lc),ab},typeof b===zb&&(a.jQuery=a.$=ab),ab}),function(a,b){function c(b,c){var e,f,g,h=b.nodeName.toLowerCase();return"area"===h?(e=b.parentNode,f=e.name,b.href&&f&&"map"===e.nodeName.toLowerCase()?(g=a("img[usemap=#"+f+"]")[0],!!g&&d(g)):!1):(/input|select|textarea|button|object/.test(h)?!b.disabled:"a"===h?b.href||c:c)&&d(b)}function d(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}var e=0,f=/^ui-id-\d+$/;a.ui=a.ui||{},a.extend(a.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),a.fn.extend({focus:function(b){return function(c,d){return"number"==typeof c?this.each(function(){var b=this;setTimeout(function(){a(b).focus(),d&&d.call(b)},c)}):b.apply(this,arguments)}}(a.fn.focus),scrollParent:function(){var b;return b=a.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.css(this,"position"))&&/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(c){if(c!==b)return this.css("zIndex",c);if(this.length)for(var d,e,f=a(this[0]);f.length&&f[0]!==document;){if(d=f.css("position"),("absolute"===d||"relative"===d||"fixed"===d)&&(e=parseInt(f.css("zIndex"),10),!isNaN(e)&&0!==e))return e;f=f.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})},removeUniqueId:function(){return this.each(function(){f.test(this.id)&&a(this).removeAttr("id")})}}),a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return c(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var d=a.attr(b,"tabindex"),e=isNaN(d);return(e||d>=0)&&c(b,!e)}}),a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(c,d){function e(b,c,d,e){return a.each(f,function(){c-=parseFloat(a.css(b,"padding"+this))||0,d&&(c-=parseFloat(a.css(b,"border"+this+"Width"))||0),e&&(c-=parseFloat(a.css(b,"margin"+this))||0)}),c}var f="Width"===d?["Left","Right"]:["Top","Bottom"],g=d.toLowerCase(),h={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(c){return c===b?h["inner"+d].call(this):this.each(function(){a(this).css(g,e(this,c)+"px")})},a.fn["outer"+d]=function(b,c){return"number"!=typeof b?h["outer"+d].call(this,b):this.each(function(){a(this).css(g,e(this,b,!0,c)+"px")})}}),a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=function(b){return function(c){return arguments.length?b.call(this,a.camelCase(c)):b.call(this)}}(a.fn.removeData)),a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),a.support.selectstart="onselectstart"in document.createElement("div"),a.fn.extend({disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a.extend(a.ui,{plugin:{add:function(b,c,d){var e,f=a.ui[b].prototype;for(e in d)f.plugins[e]=f.plugins[e]||[],f.plugins[e].push([c,d[e]])},call:function(a,b,c){var d,e=a.plugins[b];if(e&&a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType)for(d=0;e.length>d;d++)a.options[e[d][0]]&&e[d][1].apply(a.element,c)}},hasScroll:function(b,c){if("hidden"===a(b).css("overflow"))return!1;var d=c&&"left"===c?"scrollLeft":"scrollTop",e=!1;return b[d]>0?!0:(b[d]=1,e=b[d]>0,b[d]=0,e)}})}(jQuery),function(a,b){var c=0,d=Array.prototype.slice,e=a.cleanData;a.cleanData=function(b){for(var c,d=0;null!=(c=b[d]);d++)try{a(c).triggerHandler("remove")}catch(f){}e(b)},a.widget=function(c,d,e){var f,g,h,i,j={},k=c.split(".")[0];c=c.split(".")[1],f=k+"-"+c,e||(e=d,d=a.Widget),a.expr[":"][f.toLowerCase()]=function(b){return!!a.data(b,f)},a[k]=a[k]||{},g=a[k][c],h=a[k][c]=function(a,c){return this._createWidget?(arguments.length&&this._createWidget(a,c),b):new h(a,c)},a.extend(h,g,{version:e.version,_proto:a.extend({},e),_childConstructors:[]}),i=new d,i.options=a.widget.extend({},i.options),a.each(e,function(c,e){return a.isFunction(e)?(j[c]=function(){var a=function(){return d.prototype[c].apply(this,arguments)},b=function(a){return d.prototype[c].apply(this,a)};return function(){var c,d=this._super,f=this._superApply;return this._super=a,this._superApply=b,c=e.apply(this,arguments),this._super=d,this._superApply=f,c}}(),b):(j[c]=e,b)}),h.prototype=a.widget.extend(i,{widgetEventPrefix:g?i.widgetEventPrefix||c:c},j,{constructor:h,namespace:k,widgetName:c,widgetFullName:f}),g?(a.each(g._childConstructors,function(b,c){var d=c.prototype;a.widget(d.namespace+"."+d.widgetName,h,c._proto)}),delete g._childConstructors):d._childConstructors.push(h),a.widget.bridge(c,h)},a.widget.extend=function(c){for(var e,f,g=d.call(arguments,1),h=0,i=g.length;i>h;h++)for(e in g[h])f=g[h][e],g[h].hasOwnProperty(e)&&f!==b&&(c[e]=a.isPlainObject(f)?a.isPlainObject(c[e])?a.widget.extend({},c[e],f):a.widget.extend({},f):f);return c},a.widget.bridge=function(c,e){var f=e.prototype.widgetFullName||c;a.fn[c]=function(g){var h="string"==typeof g,i=d.call(arguments,1),j=this;return g=!h&&i.length?a.widget.extend.apply(null,[g].concat(i)):g,this.each(h?function(){var d,e=a.data(this,f);return e?a.isFunction(e[g])&&"_"!==g.charAt(0)?(d=e[g].apply(e,i),d!==e&&d!==b?(j=d&&d.jquery?j.pushStack(d.get()):d,!1):b):a.error("no such method '"+g+"' for "+c+" widget instance"):a.error("cannot call methods on "+c+" prior to initialization; attempted to call method '"+g+"'")}:function(){var b=a.data(this,f);b?b.option(g||{})._init():a.data(this,f,new e(g,this))}),j}},a.Widget=function(){},a.Widget._childConstructors=[],a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,d){d=a(d||this.defaultElement||this)[0],this.element=a(d),this.uuid=c++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=a.widget.extend({},this.options,this._getCreateOptions(),b),this.bindings=a(),this.hoverable=a(),this.focusable=a(),d!==this&&(a.data(d,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===d&&this.destroy()}}),this.document=a(d.style?d.ownerDocument:d.document||d),this.window=a(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},option:function(c,d){var e,f,g,h=c;if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof c)if(h={},e=c.split("."),c=e.shift(),e.length){for(f=h[c]=a.widget.extend({},this.options[c]),g=0;e.length-1>g;g++)f[e[g]]=f[e[g]]||{},f=f[e[g]];if(c=e.pop(),1===arguments.length)return f[c]===b?null:f[c];f[c]=d}else{if(1===arguments.length)return this.options[c]===b?null:this.options[c];h[c]=d}return this._setOptions(h),this},_setOptions:function(a){var b;for(b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){return this.options[a]=b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(c,d,e){var f,g=this;"boolean"!=typeof c&&(e=d,d=c,c=!1),e?(d=f=a(d),this.bindings=this.bindings.add(d)):(e=d,d=this.element,f=this.widget()),a.each(e,function(e,h){function i(){return c||g.options.disabled!==!0&&!a(this).hasClass("ui-state-disabled")?("string"==typeof h?g[h]:h).apply(g,arguments):b}"string"!=typeof h&&(i.guid=h.guid=h.guid||i.guid||a.guid++);var j=e.match(/^(\w+)\s*(.*)$/),k=j[1]+g.eventNamespace,l=j[2];l?f.delegate(l,k,i):d.bind(k,i)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,a.unbind(b).undelegate(b)},_delay:function(a,b){function c(){return("string"==typeof a?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(c,b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b),this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b),this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,c,d){var e,f,g=this.options[b];if(d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.apply(this.element[0],[c].concat(d))===!1||c.isDefaultPrevented())}},a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(d,e,f){"string"==typeof e&&(e={effect:e});var g,h=e?e===!0||"number"==typeof e?c:e.effect||c:b;e=e||{},"number"==typeof e&&(e={duration:e}),g=!a.isEmptyObject(e),e.complete=f,e.delay&&d.delay(e.delay),g&&a.effects&&a.effects.effect[h]?d[b](e):h!==b&&d[h]?d[h](e.duration,e.easing,f):d.queue(function(c){a(this)[b](),f&&f.call(d[0]),c()})}})}(jQuery),function(a){var b=!1;a(document).mouseup(function(){b=!1}),a.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(a){return b._mouseDown(a)}).bind("click."+this.widgetName,function(c){return!0===a.data(c.target,b.widgetName+".preventClickEvent")?(a.removeData(c.target,b.widgetName+".preventClickEvent"),c.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(c){if(!b){this._mouseStarted&&this._mouseUp(c),this._mouseDownEvent=c;var d=this,e=1===c.which,f="string"==typeof this.options.cancel&&c.target.nodeName?a(c.target).closest(this.options.cancel).length:!1;return e&&!f&&this._mouseCapture(c)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){d.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&(this._mouseStarted=this._mouseStart(c)!==!1,!this._mouseStarted)?(c.preventDefault(),!0):(!0===a.data(c.target,this.widgetName+".preventClickEvent")&&a.removeData(c.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return d._mouseMove(a)},this._mouseUpDelegate=function(a){return d._mouseUp(a)},a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),c.preventDefault(),b=!0,!0)):!0}},_mouseMove:function(b){return a.ui.ie&&(!document.documentMode||9>document.documentMode)&&!b.button?this._mouseUp(b):this._mouseStarted?(this._mouseDrag(b),b.preventDefault()):(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,b)!==!1,this._mouseStarted?this._mouseDrag(b):this._mouseUp(b)),!this._mouseStarted)},_mouseUp:function(b){return a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,b.target===this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b)),!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(a,b){function c(a,b,c){return[parseFloat(a[0])*(n.test(a[0])?b/100:1),parseFloat(a[1])*(n.test(a[1])?c/100:1)]}function d(b,c){return parseInt(a.css(b,c),10)||0}function e(b){var c=b[0];return 9===c.nodeType?{width:b.width(),height:b.height(),offset:{top:0,left:0}}:a.isWindow(c)?{width:b.width(),height:b.height(),offset:{top:b.scrollTop(),left:b.scrollLeft()}}:c.preventDefault?{width:0,height:0,offset:{top:c.pageY,left:c.pageX}}:{width:b.outerWidth(),height:b.outerHeight(),offset:b.offset()}}a.ui=a.ui||{};var f,g=Math.max,h=Math.abs,i=Math.round,j=/left|center|right/,k=/top|center|bottom/,l=/[\+\-]\d+(\.[\d]+)?%?/,m=/^\w+/,n=/%$/,o=a.fn.position;a.position={scrollbarWidth:function(){if(f!==b)return f;var c,d,e=a("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),g=e.children()[0];return a("body").append(e),c=g.offsetWidth,e.css("overflow","scroll"),d=g.offsetWidth,c===d&&(d=e[0].clientWidth),e.remove(),f=c-d},getScrollInfo:function(b){var c=b.isWindow||b.isDocument?"":b.element.css("overflow-x"),d=b.isWindow||b.isDocument?"":b.element.css("overflow-y"),e="scroll"===c||"auto"===c&&b.width<b.element[0].scrollWidth,f="scroll"===d||"auto"===d&&b.height<b.element[0].scrollHeight;return{width:f?a.position.scrollbarWidth():0,height:e?a.position.scrollbarWidth():0}},getWithinInfo:function(b){var c=a(b||window),d=a.isWindow(c[0]),e=!!c[0]&&9===c[0].nodeType;return{element:c,isWindow:d,isDocument:e,offset:c.offset()||{left:0,top:0},scrollLeft:c.scrollLeft(),scrollTop:c.scrollTop(),width:d?c.width():c.outerWidth(),height:d?c.height():c.outerHeight()}}},a.fn.position=function(b){if(!b||!b.of)return o.apply(this,arguments);b=a.extend({},b);var f,n,p,q,r,s,t=a(b.of),u=a.position.getWithinInfo(b.within),v=a.position.getScrollInfo(u),w=(b.collision||"flip").split(" "),x={};return s=e(t),t[0].preventDefault&&(b.at="left top"),n=s.width,p=s.height,q=s.offset,r=a.extend({},q),a.each(["my","at"],function(){var a,c,d=(b[this]||"").split(" ");1===d.length&&(d=j.test(d[0])?d.concat(["center"]):k.test(d[0])?["center"].concat(d):["center","center"]),d[0]=j.test(d[0])?d[0]:"center",d[1]=k.test(d[1])?d[1]:"center",a=l.exec(d[0]),c=l.exec(d[1]),x[this]=[a?a[0]:0,c?c[0]:0],b[this]=[m.exec(d[0])[0],m.exec(d[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===b.at[0]?r.left+=n:"center"===b.at[0]&&(r.left+=n/2),"bottom"===b.at[1]?r.top+=p:"center"===b.at[1]&&(r.top+=p/2),f=c(x.at,n,p),r.left+=f[0],r.top+=f[1],this.each(function(){var e,j,k=a(this),l=k.outerWidth(),m=k.outerHeight(),o=d(this,"marginLeft"),s=d(this,"marginTop"),y=l+o+d(this,"marginRight")+v.width,z=m+s+d(this,"marginBottom")+v.height,A=a.extend({},r),B=c(x.my,k.outerWidth(),k.outerHeight());"right"===b.my[0]?A.left-=l:"center"===b.my[0]&&(A.left-=l/2),"bottom"===b.my[1]?A.top-=m:"center"===b.my[1]&&(A.top-=m/2),A.left+=B[0],A.top+=B[1],a.support.offsetFractions||(A.left=i(A.left),A.top=i(A.top)),e={marginLeft:o,marginTop:s},a.each(["left","top"],function(c,d){a.ui.position[w[c]]&&a.ui.position[w[c]][d](A,{targetWidth:n,targetHeight:p,elemWidth:l,elemHeight:m,collisionPosition:e,collisionWidth:y,collisionHeight:z,offset:[f[0]+B[0],f[1]+B[1]],my:b.my,at:b.at,within:u,elem:k})}),b.using&&(j=function(a){var c=q.left-A.left,d=c+n-l,e=q.top-A.top,f=e+p-m,i={target:{element:t,left:q.left,top:q.top,width:n,height:p},element:{element:k,left:A.left,top:A.top,width:l,height:m},horizontal:0>d?"left":c>0?"right":"center",vertical:0>f?"top":e>0?"bottom":"middle"};l>n&&n>h(c+d)&&(i.horizontal="center"),m>p&&p>h(e+f)&&(i.vertical="middle"),i.important=g(h(c),h(d))>g(h(e),h(f))?"horizontal":"vertical",b.using.call(this,a,i)}),k.offset(a.extend(A,{using:j}))})},a.ui.position={fit:{left:function(a,b){var c,d=b.within,e=d.isWindow?d.scrollLeft:d.offset.left,f=d.width,h=a.left-b.collisionPosition.marginLeft,i=e-h,j=h+b.collisionWidth-f-e;b.collisionWidth>f?i>0&&0>=j?(c=a.left+i+b.collisionWidth-f-e,a.left+=i-c):a.left=j>0&&0>=i?e:i>j?e+f-b.collisionWidth:e:i>0?a.left+=i:j>0?a.left-=j:a.left=g(a.left-h,a.left)},top:function(a,b){var c,d=b.within,e=d.isWindow?d.scrollTop:d.offset.top,f=b.within.height,h=a.top-b.collisionPosition.marginTop,i=e-h,j=h+b.collisionHeight-f-e;b.collisionHeight>f?i>0&&0>=j?(c=a.top+i+b.collisionHeight-f-e,a.top+=i-c):a.top=j>0&&0>=i?e:i>j?e+f-b.collisionHeight:e:i>0?a.top+=i:j>0?a.top-=j:a.top=g(a.top-h,a.top)}},flip:{left:function(a,b){var c,d,e=b.within,f=e.offset.left+e.scrollLeft,g=e.width,i=e.isWindow?e.scrollLeft:e.offset.left,j=a.left-b.collisionPosition.marginLeft,k=j-i,l=j+b.collisionWidth-g-i,m="left"===b.my[0]?-b.elemWidth:"right"===b.my[0]?b.elemWidth:0,n="left"===b.at[0]?b.targetWidth:"right"===b.at[0]?-b.targetWidth:0,o=-2*b.offset[0];0>k?(c=a.left+m+n+o+b.collisionWidth-g-f,(0>c||h(k)>c)&&(a.left+=m+n+o)):l>0&&(d=a.left-b.collisionPosition.marginLeft+m+n+o-i,(d>0||l>h(d))&&(a.left+=m+n+o))},top:function(a,b){var c,d,e=b.within,f=e.offset.top+e.scrollTop,g=e.height,i=e.isWindow?e.scrollTop:e.offset.top,j=a.top-b.collisionPosition.marginTop,k=j-i,l=j+b.collisionHeight-g-i,m="top"===b.my[1],n=m?-b.elemHeight:"bottom"===b.my[1]?b.elemHeight:0,o="top"===b.at[1]?b.targetHeight:"bottom"===b.at[1]?-b.targetHeight:0,p=-2*b.offset[1];0>k?(d=a.top+n+o+p+b.collisionHeight-g-f,a.top+n+o+p>k&&(0>d||h(k)>d)&&(a.top+=n+o+p)):l>0&&(c=a.top-b.collisionPosition.marginTop+n+o+p-i,a.top+n+o+p>l&&(c>0||l>h(c))&&(a.top+=n+o+p))}},flipfit:{left:function(){a.ui.position.flip.left.apply(this,arguments),a.ui.position.fit.left.apply(this,arguments)},top:function(){a.ui.position.flip.top.apply(this,arguments),a.ui.position.fit.top.apply(this,arguments)}}},function(){var b,c,d,e,f,g=document.getElementsByTagName("body")[0],h=document.createElement("div");b=document.createElement(g?"div":"body"),d={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},g&&a.extend(d,{position:"absolute",left:"-1000px",top:"-1000px"});for(f in d)b.style[f]=d[f];b.appendChild(h),c=g||document.documentElement,c.insertBefore(b,c.firstChild),h.style.cssText="position: absolute; left: 10.7432222px;",e=a(h).offset().left,a.support.offsetFractions=e>10&&11>e,b.innerHTML="",c.removeChild(b)}()}(jQuery),function(a){a.widget("ui.draggable",a.ui.mouse,{version:"1.10.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(b){var c=this.options;return this.helper||c.disabled||a(b.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(b),this.handle?(a(c.iframeFix===!0?"iframe":c.iframeFix).each(function(){a("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(a(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(b){var c=this.options;return this.helper=this._createHelper(b),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt),this._setContainment(),this._trigger("start",b)===!1?(this._clear(),!1):(this._cacheHelperProportions(),a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this._mouseDrag(b,!0),a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,b),!0)},_mouseDrag:function(b,c){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute"),!c){var d=this._uiHash();if(this._trigger("drag",b,d)===!1)return this._mouseUp({}),!1;this.position=d.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),!1},_mouseStop:function(b){var c=this,d=!1;return a.ui.ddmanager&&!this.options.dropBehaviour&&(d=a.ui.ddmanager.drop(this,b)),this.dropped&&(d=this.dropped,this.dropped=!1),"original"!==this.options.helper||a.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!d||"valid"===this.options.revert&&d||this.options.revert===!0||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,d)?a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){c._trigger("stop",b)!==!1&&c._clear()}):this._trigger("stop",b)!==!1&&this._clear(),!1):!1},_mouseUp:function(b){return a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,b),a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(b){return this.options.handle?!!a(b.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b])):"clone"===c.helper?this.element.clone().removeAttr("id"):this.element;return d.parents("body").length||d.appendTo("parent"===c.appendTo?this.element[0].parentNode:c.appendTo),d[0]===this.element[0]||/(fixed|absolute)/.test(d.css("position"))||d.css("position","absolute"),d},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){var b=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=this.element.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b,c,d,e=this.options;return e.containment?"window"===e.containment?void(this.containment=[a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,a(window).scrollLeft()+a(window).width()-this.helperProportions.width-this.margins.left,a(window).scrollTop()+(a(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===e.containment?void(this.containment=[0,0,a(document).width()-this.helperProportions.width-this.margins.left,(a(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):e.containment.constructor===Array?void(this.containment=e.containment):("parent"===e.containment&&(e.containment=this.helper[0].parentNode),c=a(e.containment),d=c[0],void(d&&(b="hidden"!==c.css("overflow"),this.containment=[(parseInt(c.css("borderLeftWidth"),10)||0)+(parseInt(c.css("paddingLeft"),10)||0),(parseInt(c.css("borderTopWidth"),10)||0)+(parseInt(c.css("paddingTop"),10)||0),(b?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(c.css("borderRightWidth"),10)||0)-(parseInt(c.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(b?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(c.css("borderBottomWidth"),10)||0)-(parseInt(c.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=c))):void(this.containment=null)},_convertPositionTo:function(b,c){c||(c=this.position);var d="absolute"===b?1:-1,e="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:e.scrollTop(),left:e.scrollLeft()}),{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*d,left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*d}
},_generatePosition:function(b){var c,d,e,f,g=this.options,h="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=b.pageX,j=b.pageY;return this.offset.scroll||(this.offset.scroll={top:h.scrollTop(),left:h.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(d=this.relative_container.offset(),c=[this.containment[0]+d.left,this.containment[1]+d.top,this.containment[2]+d.left,this.containment[3]+d.top]):c=this.containment,b.pageX-this.offset.click.left<c[0]&&(i=c[0]+this.offset.click.left),b.pageY-this.offset.click.top<c[1]&&(j=c[1]+this.offset.click.top),b.pageX-this.offset.click.left>c[2]&&(i=c[2]+this.offset.click.left),b.pageY-this.offset.click.top>c[3]&&(j=c[3]+this.offset.click.top)),g.grid&&(e=g.grid[1]?this.originalPageY+Math.round((j-this.originalPageY)/g.grid[1])*g.grid[1]:this.originalPageY,j=c?e-this.offset.click.top>=c[1]||e-this.offset.click.top>c[3]?e:e-this.offset.click.top>=c[1]?e-g.grid[1]:e+g.grid[1]:e,f=g.grid[0]?this.originalPageX+Math.round((i-this.originalPageX)/g.grid[0])*g.grid[0]:this.originalPageX,i=c?f-this.offset.click.left>=c[0]||f-this.offset.click.left>c[2]?f:f-this.offset.click.left>=c[0]?f-g.grid[0]:f+g.grid[0]:f)),{top:j-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:i-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(b,c,d){return d=d||this._uiHash(),a.ui.plugin.call(this,b,[c,d]),"drag"===b&&(this.positionAbs=this._convertPositionTo("absolute")),a.Widget.prototype._trigger.call(this,b,c,d)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),a.ui.plugin.add("draggable","connectToSortable",{start:function(b,c){var d=a(this).data("ui-draggable"),e=d.options,f=a.extend({},c,{item:d.element});d.sortables=[],a(e.connectToSortable).each(function(){var c=a.data(this,"ui-sortable");c&&!c.options.disabled&&(d.sortables.push({instance:c,shouldRevert:c.options.revert}),c.refreshPositions(),c._trigger("activate",b,f))})},stop:function(b,c){var d=a(this).data("ui-draggable"),e=a.extend({},c,{item:d.element});a.each(d.sortables,function(){this.instance.isOver?(this.instance.isOver=0,d.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(b),this.instance.options.helper=this.instance.options._helper,"original"===d.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",b,e))})},drag:function(b,c){var d=a(this).data("ui-draggable"),e=this;a.each(d.sortables,function(){var f=!1,g=this;this.instance.positionAbs=d.positionAbs,this.instance.helperProportions=d.helperProportions,this.instance.offset.click=d.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(f=!0,a.each(d.sortables,function(){return this.instance.positionAbs=d.positionAbs,this.instance.helperProportions=d.helperProportions,this.instance.offset.click=d.offset.click,this!==g&&this.instance._intersectsWith(this.instance.containerCache)&&a.contains(g.instance.element[0],this.instance.element[0])&&(f=!1),f})),f?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(e).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return c.helper[0]},b.target=this.instance.currentItem[0],this.instance._mouseCapture(b,!0),this.instance._mouseStart(b,!0,!0),this.instance.offset.click.top=d.offset.click.top,this.instance.offset.click.left=d.offset.click.left,this.instance.offset.parent.left-=d.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=d.offset.parent.top-this.instance.offset.parent.top,d._trigger("toSortable",b),d.dropped=this.instance.element,d.currentItem=d.element,this.instance.fromOutside=d),this.instance.currentItem&&this.instance._mouseDrag(b)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",b,this.instance._uiHash(this.instance)),this.instance._mouseStop(b,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),d._trigger("fromSortable",b),d.dropped=!1)})}}),a.ui.plugin.add("draggable","cursor",{start:function(){var b=a("body"),c=a(this).data("ui-draggable").options;b.css("cursor")&&(c._cursor=b.css("cursor")),b.css("cursor",c.cursor)},stop:function(){var b=a(this).data("ui-draggable").options;b._cursor&&a("body").css("cursor",b._cursor)}}),a.ui.plugin.add("draggable","opacity",{start:function(b,c){var d=a(c.helper),e=a(this).data("ui-draggable").options;d.css("opacity")&&(e._opacity=d.css("opacity")),d.css("opacity",e.opacity)},stop:function(b,c){var d=a(this).data("ui-draggable").options;d._opacity&&a(c.helper).css("opacity",d._opacity)}}),a.ui.plugin.add("draggable","scroll",{start:function(){var b=a(this).data("ui-draggable");b.scrollParent[0]!==document&&"HTML"!==b.scrollParent[0].tagName&&(b.overflowOffset=b.scrollParent.offset())},drag:function(b){var c=a(this).data("ui-draggable"),d=c.options,e=!1;c.scrollParent[0]!==document&&"HTML"!==c.scrollParent[0].tagName?(d.axis&&"x"===d.axis||(c.overflowOffset.top+c.scrollParent[0].offsetHeight-b.pageY<d.scrollSensitivity?c.scrollParent[0].scrollTop=e=c.scrollParent[0].scrollTop+d.scrollSpeed:b.pageY-c.overflowOffset.top<d.scrollSensitivity&&(c.scrollParent[0].scrollTop=e=c.scrollParent[0].scrollTop-d.scrollSpeed)),d.axis&&"y"===d.axis||(c.overflowOffset.left+c.scrollParent[0].offsetWidth-b.pageX<d.scrollSensitivity?c.scrollParent[0].scrollLeft=e=c.scrollParent[0].scrollLeft+d.scrollSpeed:b.pageX-c.overflowOffset.left<d.scrollSensitivity&&(c.scrollParent[0].scrollLeft=e=c.scrollParent[0].scrollLeft-d.scrollSpeed))):(d.axis&&"x"===d.axis||(b.pageY-a(document).scrollTop()<d.scrollSensitivity?e=a(document).scrollTop(a(document).scrollTop()-d.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<d.scrollSensitivity&&(e=a(document).scrollTop(a(document).scrollTop()+d.scrollSpeed))),d.axis&&"y"===d.axis||(b.pageX-a(document).scrollLeft()<d.scrollSensitivity?e=a(document).scrollLeft(a(document).scrollLeft()-d.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<d.scrollSensitivity&&(e=a(document).scrollLeft(a(document).scrollLeft()+d.scrollSpeed)))),e!==!1&&a.ui.ddmanager&&!d.dropBehaviour&&a.ui.ddmanager.prepareOffsets(c,b)}}),a.ui.plugin.add("draggable","snap",{start:function(){var b=a(this).data("ui-draggable"),c=b.options;b.snapElements=[],a(c.snap.constructor!==String?c.snap.items||":data(ui-draggable)":c.snap).each(function(){var c=a(this),d=c.offset();this!==b.element[0]&&b.snapElements.push({item:this,width:c.outerWidth(),height:c.outerHeight(),top:d.top,left:d.left})})},drag:function(b,c){var d,e,f,g,h,i,j,k,l,m,n=a(this).data("ui-draggable"),o=n.options,p=o.snapTolerance,q=c.offset.left,r=q+n.helperProportions.width,s=c.offset.top,t=s+n.helperProportions.height;for(l=n.snapElements.length-1;l>=0;l--)h=n.snapElements[l].left,i=h+n.snapElements[l].width,j=n.snapElements[l].top,k=j+n.snapElements[l].height,h-p>r||q>i+p||j-p>t||s>k+p||!a.contains(n.snapElements[l].item.ownerDocument,n.snapElements[l].item)?(n.snapElements[l].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,b,a.extend(n._uiHash(),{snapItem:n.snapElements[l].item})),n.snapElements[l].snapping=!1):("inner"!==o.snapMode&&(d=p>=Math.abs(j-t),e=p>=Math.abs(k-s),f=p>=Math.abs(h-r),g=p>=Math.abs(i-q),d&&(c.position.top=n._convertPositionTo("relative",{top:j-n.helperProportions.height,left:0}).top-n.margins.top),e&&(c.position.top=n._convertPositionTo("relative",{top:k,left:0}).top-n.margins.top),f&&(c.position.left=n._convertPositionTo("relative",{top:0,left:h-n.helperProportions.width}).left-n.margins.left),g&&(c.position.left=n._convertPositionTo("relative",{top:0,left:i}).left-n.margins.left)),m=d||e||f||g,"outer"!==o.snapMode&&(d=p>=Math.abs(j-s),e=p>=Math.abs(k-t),f=p>=Math.abs(h-q),g=p>=Math.abs(i-r),d&&(c.position.top=n._convertPositionTo("relative",{top:j,left:0}).top-n.margins.top),e&&(c.position.top=n._convertPositionTo("relative",{top:k-n.helperProportions.height,left:0}).top-n.margins.top),f&&(c.position.left=n._convertPositionTo("relative",{top:0,left:h}).left-n.margins.left),g&&(c.position.left=n._convertPositionTo("relative",{top:0,left:i-n.helperProportions.width}).left-n.margins.left)),!n.snapElements[l].snapping&&(d||e||f||g||m)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,b,a.extend(n._uiHash(),{snapItem:n.snapElements[l].item})),n.snapElements[l].snapping=d||e||f||g||m)}}),a.ui.plugin.add("draggable","stack",{start:function(){var b,c=this.data("ui-draggable").options,d=a.makeArray(a(c.stack)).sort(function(b,c){return(parseInt(a(b).css("zIndex"),10)||0)-(parseInt(a(c).css("zIndex"),10)||0)});d.length&&(b=parseInt(a(d[0]).css("zIndex"),10)||0,a(d).each(function(c){a(this).css("zIndex",b+c)}),this.css("zIndex",b+d.length))}}),a.ui.plugin.add("draggable","zIndex",{start:function(b,c){var d=a(c.helper),e=a(this).data("ui-draggable").options;d.css("zIndex")&&(e._zIndex=d.css("zIndex")),d.css("zIndex",e.zIndex)},stop:function(b,c){var d=a(this).data("ui-draggable").options;d._zIndex&&a(c.helper).css("zIndex",d._zIndex)}})}(jQuery),function(a){function b(a,b,c){return a>b&&b+c>a}a.widget("ui.droppable",{version:"1.10.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var b,c=this.options,d=c.accept;this.isover=!1,this.isout=!0,this.accept=a.isFunction(d)?d:function(a){return a.is(d)},this.proportions=function(){return arguments.length?void(b=arguments[0]):b?b:b={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},a.ui.ddmanager.droppables[c.scope]=a.ui.ddmanager.droppables[c.scope]||[],a.ui.ddmanager.droppables[c.scope].push(this),c.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var b=0,c=a.ui.ddmanager.droppables[this.options.scope];c.length>b;b++)c[b]===this&&c.splice(b,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(b,c){"accept"===b&&(this.accept=a.isFunction(c)?c:function(a){return a.is(c)}),a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),c&&this._trigger("activate",b,this.ui(c))},_deactivate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),c&&this._trigger("deactivate",b,this.ui(c))},_over:function(b){var c=a.ui.ddmanager.current;c&&(c.currentItem||c.element)[0]!==this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",b,this.ui(c)))},_out:function(b){var c=a.ui.ddmanager.current;c&&(c.currentItem||c.element)[0]!==this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",b,this.ui(c)))},_drop:function(b,c){var d=c||a.ui.ddmanager.current,e=!1;return d&&(d.currentItem||d.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var b=a.data(this,"ui-droppable");return b.options.greedy&&!b.options.disabled&&b.options.scope===d.options.scope&&b.accept.call(b.element[0],d.currentItem||d.element)&&a.ui.intersect(d,a.extend(b,{offset:b.element.offset()}),b.options.tolerance)?(e=!0,!1):void 0}),e?!1:this.accept.call(this.element[0],d.currentItem||d.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",b,this.ui(d)),this.element):!1):!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}}),a.ui.intersect=function(a,c,d){if(!c.offset)return!1;var e,f,g=(a.positionAbs||a.position.absolute).left,h=(a.positionAbs||a.position.absolute).top,i=g+a.helperProportions.width,j=h+a.helperProportions.height,k=c.offset.left,l=c.offset.top,m=k+c.proportions().width,n=l+c.proportions().height;switch(d){case"fit":return g>=k&&m>=i&&h>=l&&n>=j;case"intersect":return g+a.helperProportions.width/2>k&&m>i-a.helperProportions.width/2&&h+a.helperProportions.height/2>l&&n>j-a.helperProportions.height/2;case"pointer":return e=(a.positionAbs||a.position.absolute).left+(a.clickOffset||a.offset.click).left,f=(a.positionAbs||a.position.absolute).top+(a.clickOffset||a.offset.click).top,b(f,l,c.proportions().height)&&b(e,k,c.proportions().width);case"touch":return(h>=l&&n>=h||j>=l&&n>=j||l>h&&j>n)&&(g>=k&&m>=g||i>=k&&m>=i||k>g&&i>m);default:return!1}},a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(b,c){var d,e,f=a.ui.ddmanager.droppables[b.options.scope]||[],g=c?c.type:null,h=(b.currentItem||b.element).find(":data(ui-droppable)").addBack();a:for(d=0;f.length>d;d++)if(!(f[d].options.disabled||b&&!f[d].accept.call(f[d].element[0],b.currentItem||b.element))){for(e=0;h.length>e;e++)if(h[e]===f[d].element[0]){f[d].proportions().height=0;continue a}f[d].visible="none"!==f[d].element.css("display"),f[d].visible&&("mousedown"===g&&f[d]._activate.call(f[d],c),f[d].offset=f[d].element.offset(),f[d].proportions({width:f[d].element[0].offsetWidth,height:f[d].element[0].offsetHeight}))}},drop:function(b,c){var d=!1;return a.each((a.ui.ddmanager.droppables[b.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&a.ui.intersect(b,this,this.options.tolerance)&&(d=this._drop.call(this,c)||d),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],b.currentItem||b.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,c)))}),d},dragStart:function(b,c){b.element.parentsUntil("body").bind("scroll.droppable",function(){b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)})},drag:function(b,c){b.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(b,c),a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var d,e,f,g=a.ui.intersect(b,this,this.options.tolerance),h=!g&&this.isover?"isout":g&&!this.isover?"isover":null;h&&(this.options.greedy&&(e=this.options.scope,f=this.element.parents(":data(ui-droppable)").filter(function(){return a.data(this,"ui-droppable").options.scope===e}),f.length&&(d=a.data(f[0],"ui-droppable"),d.greedyChild="isover"===h)),d&&"isover"===h&&(d.isover=!1,d.isout=!0,d._out.call(d,c)),this[h]=!0,this["isout"===h?"isover":"isout"]=!1,this["isover"===h?"_over":"_out"].call(this,c),d&&"isout"===h&&(d.isout=!1,d.isover=!0,d._over.call(d,c)))}})},dragStop:function(b,c){b.element.parentsUntil("body").unbind("scroll.droppable"),b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)}}}(jQuery),function(a){function b(a){return parseInt(a,10)||0}function c(a){return!isNaN(parseInt(a,10))}a.widget("ui.resizable",a.ui.mouse,{version:"1.10.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var b,c,d,e,f,g=this,h=this.options;if(this.element.addClass("ui-resizable"),a.extend(this,{_aspectRatio:!!h.aspectRatio,aspectRatio:h.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:h.helper||h.ghost||h.animate?h.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(a("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=h.handles||(a(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),b=this.handles.split(","),this.handles={},c=0;b.length>c;c++)d=a.trim(b[c]),f="ui-resizable-"+d,e=a("<div class='ui-resizable-handle "+f+"'></div>"),e.css({zIndex:h.zIndex}),"se"===d&&e.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[d]=".ui-resizable-"+d,this.element.append(e);this._renderAxis=function(b){var c,d,e,f;b=b||this.element;for(c in this.handles)this.handles[c].constructor===String&&(this.handles[c]=a(this.handles[c],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(d=a(this.handles[c],this.element),f=/sw|ne|nw|se|n|s/.test(c)?d.outerHeight():d.outerWidth(),e=["padding",/ne|nw|n/.test(c)?"Top":/se|sw|s/.test(c)?"Bottom":/^e$/.test(c)?"Right":"Left"].join(""),b.css(e,f),this._proportionallyResize()),a(this.handles[c]).length},this._renderAxis(this.element),this._handles=a(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){g.resizing||(this.className&&(e=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),g.axis=e&&e[1]?e[1]:"se")}),h.autoHide&&(this._handles.hide(),a(this.element).addClass("ui-resizable-autohide").mouseenter(function(){h.disabled||(a(this).removeClass("ui-resizable-autohide"),g._handles.show())}).mouseleave(function(){h.disabled||g.resizing||(a(this).addClass("ui-resizable-autohide"),g._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var b,c=function(b){a(b).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(c(this.element),b=this.element,this.originalElement.css({position:b.css("position"),width:b.outerWidth(),height:b.outerHeight(),top:b.css("top"),left:b.css("left")}).insertAfter(b),b.remove()),this.originalElement.css("resize",this.originalResizeStyle),c(this.originalElement),this},_mouseCapture:function(b){var c,d,e=!1;for(c in this.handles)d=a(this.handles[c])[0],(d===b.target||a.contains(d,b.target))&&(e=!0);return!this.options.disabled&&e},_mouseStart:function(c){var d,e,f,g=this.options,h=this.element.position(),i=this.element;return this.resizing=!0,/absolute/.test(i.css("position"))?i.css({position:"absolute",top:i.css("top"),left:i.css("left")}):i.is(".ui-draggable")&&i.css({position:"absolute",top:h.top,left:h.left}),this._renderProxy(),d=b(this.helper.css("left")),e=b(this.helper.css("top")),g.containment&&(d+=a(g.containment).scrollLeft()||0,e+=a(g.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:d,top:e},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:i.width(),height:i.height()},this.originalSize=this._helper?{width:i.outerWidth(),height:i.outerHeight()}:{width:i.width(),height:i.height()},this.originalPosition={left:d,top:e},this.sizeDiff={width:i.outerWidth()-i.width(),height:i.outerHeight()-i.height()},this.originalMousePosition={left:c.pageX,top:c.pageY},this.aspectRatio="number"==typeof g.aspectRatio?g.aspectRatio:this.originalSize.width/this.originalSize.height||1,f=a(".ui-resizable-"+this.axis).css("cursor"),a("body").css("cursor","auto"===f?this.axis+"-resize":f),i.addClass("ui-resizable-resizing"),this._propagate("start",c),!0},_mouseDrag:function(b){var c,d=this.helper,e={},f=this.originalMousePosition,g=this.axis,h=this.position.top,i=this.position.left,j=this.size.width,k=this.size.height,l=b.pageX-f.left||0,m=b.pageY-f.top||0,n=this._change[g];return n?(c=n.apply(this,[b,l,m]),this._updateVirtualBoundaries(b.shiftKey),(this._aspectRatio||b.shiftKey)&&(c=this._updateRatio(c,b)),c=this._respectSize(c,b),this._updateCache(c),this._propagate("resize",b),this.position.top!==h&&(e.top=this.position.top+"px"),this.position.left!==i&&(e.left=this.position.left+"px"),this.size.width!==j&&(e.width=this.size.width+"px"),this.size.height!==k&&(e.height=this.size.height+"px"),d.css(e),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),a.isEmptyObject(e)||this._trigger("resize",b,this.ui()),!1):!1},_mouseStop:function(b){this.resizing=!1;var c,d,e,f,g,h,i,j=this.options,k=this;return this._helper&&(c=this._proportionallyResizeElements,d=c.length&&/textarea/i.test(c[0].nodeName),e=d&&a.ui.hasScroll(c[0],"left")?0:k.sizeDiff.height,f=d?0:k.sizeDiff.width,g={width:k.helper.width()-f,height:k.helper.height()-e},h=parseInt(k.element.css("left"),10)+(k.position.left-k.originalPosition.left)||null,i=parseInt(k.element.css("top"),10)+(k.position.top-k.originalPosition.top)||null,j.animate||this.element.css(a.extend(g,{top:i,left:h})),k.helper.height(k.size.height),k.helper.width(k.size.width),this._helper&&!j.animate&&this._proportionallyResize()),a("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",b),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(a){var b,d,e,f,g,h=this.options;g={minWidth:c(h.minWidth)?h.minWidth:0,maxWidth:c(h.maxWidth)?h.maxWidth:1/0,minHeight:c(h.minHeight)?h.minHeight:0,maxHeight:c(h.maxHeight)?h.maxHeight:1/0},(this._aspectRatio||a)&&(b=g.minHeight*this.aspectRatio,e=g.minWidth/this.aspectRatio,d=g.maxHeight*this.aspectRatio,f=g.maxWidth/this.aspectRatio,b>g.minWidth&&(g.minWidth=b),e>g.minHeight&&(g.minHeight=e),g.maxWidth>d&&(g.maxWidth=d),g.maxHeight>f&&(g.maxHeight=f)),this._vBoundaries=g},_updateCache:function(a){this.offset=this.helper.offset(),c(a.left)&&(this.position.left=a.left),c(a.top)&&(this.position.top=a.top),c(a.height)&&(this.size.height=a.height),c(a.width)&&(this.size.width=a.width)},_updateRatio:function(a){var b=this.position,d=this.size,e=this.axis;return c(a.height)?a.width=a.height*this.aspectRatio:c(a.width)&&(a.height=a.width/this.aspectRatio),"sw"===e&&(a.left=b.left+(d.width-a.width),a.top=null),"nw"===e&&(a.top=b.top+(d.height-a.height),a.left=b.left+(d.width-a.width)),a},_respectSize:function(a){var b=this._vBoundaries,d=this.axis,e=c(a.width)&&b.maxWidth&&b.maxWidth<a.width,f=c(a.height)&&b.maxHeight&&b.maxHeight<a.height,g=c(a.width)&&b.minWidth&&b.minWidth>a.width,h=c(a.height)&&b.minHeight&&b.minHeight>a.height,i=this.originalPosition.left+this.originalSize.width,j=this.position.top+this.size.height,k=/sw|nw|w/.test(d),l=/nw|ne|n/.test(d);return g&&(a.width=b.minWidth),h&&(a.height=b.minHeight),e&&(a.width=b.maxWidth),f&&(a.height=b.maxHeight),g&&k&&(a.left=i-b.minWidth),e&&k&&(a.left=i-b.maxWidth),h&&l&&(a.top=j-b.minHeight),f&&l&&(a.top=j-b.maxHeight),a.width||a.height||a.left||!a.top?a.width||a.height||a.top||!a.left||(a.left=null):a.top=null,a},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var a,b,c,d,e,f=this.helper||this.element;for(a=0;this._proportionallyResizeElements.length>a;a++){if(e=this._proportionallyResizeElements[a],!this.borderDif)for(this.borderDif=[],c=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],d=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")],b=0;c.length>b;b++)this.borderDif[b]=(parseInt(c[b],10)||0)+(parseInt(d[b],10)||0);e.css({height:f.height()-this.borderDif[0]-this.borderDif[2]||0,width:f.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var b=this.element,c=this.options;this.elementOffset=b.offset(),this._helper?(this.helper=this.helper||a("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++c.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(a,b){return{width:this.originalSize.width+b}},w:function(a,b){var c=this.originalSize,d=this.originalPosition;return{left:d.left+b,width:c.width-b}},n:function(a,b,c){var d=this.originalSize,e=this.originalPosition;return{top:e.top+c,height:d.height-c}},s:function(a,b,c){return{height:this.originalSize.height+c}},se:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},sw:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[b,c,d]))},ne:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},nw:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[b,c,d]))}},_propagate:function(b,c){a.ui.plugin.call(this,b,[c,this.ui()]),"resize"!==b&&this._trigger(b,c,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),a.ui.plugin.add("resizable","animate",{stop:function(b){var c=a(this).data("ui-resizable"),d=c.options,e=c._proportionallyResizeElements,f=e.length&&/textarea/i.test(e[0].nodeName),g=f&&a.ui.hasScroll(e[0],"left")?0:c.sizeDiff.height,h=f?0:c.sizeDiff.width,i={width:c.size.width-h,height:c.size.height-g},j=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,k=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null;c.element.animate(a.extend(i,k&&j?{top:k,left:j}:{}),{duration:d.animateDuration,easing:d.animateEasing,step:function(){var d={width:parseInt(c.element.css("width"),10),height:parseInt(c.element.css("height"),10),top:parseInt(c.element.css("top"),10),left:parseInt(c.element.css("left"),10)};e&&e.length&&a(e[0]).css({width:d.width,height:d.height}),c._updateCache(d),c._propagate("resize",b)}})}}),a.ui.plugin.add("resizable","containment",{start:function(){var c,d,e,f,g,h,i,j=a(this).data("ui-resizable"),k=j.options,l=j.element,m=k.containment,n=m instanceof a?m.get(0):/parent/.test(m)?l.parent().get(0):m;n&&(j.containerElement=a(n),/document/.test(m)||m===document?(j.containerOffset={left:0,top:0},j.containerPosition={left:0,top:0},j.parentData={element:a(document),left:0,top:0,width:a(document).width(),height:a(document).height()||document.body.parentNode.scrollHeight}):(c=a(n),d=[],a(["Top","Right","Left","Bottom"]).each(function(a,e){d[a]=b(c.css("padding"+e))}),j.containerOffset=c.offset(),j.containerPosition=c.position(),j.containerSize={height:c.innerHeight()-d[3],width:c.innerWidth()-d[1]},e=j.containerOffset,f=j.containerSize.height,g=j.containerSize.width,h=a.ui.hasScroll(n,"left")?n.scrollWidth:g,i=a.ui.hasScroll(n)?n.scrollHeight:f,j.parentData={element:n,left:e.left,top:e.top,width:h,height:i}))},resize:function(b){var c,d,e,f,g=a(this).data("ui-resizable"),h=g.options,i=g.containerOffset,j=g.position,k=g._aspectRatio||b.shiftKey,l={top:0,left:0},m=g.containerElement;m[0]!==document&&/static/.test(m.css("position"))&&(l=i),j.left<(g._helper?i.left:0)&&(g.size.width=g.size.width+(g._helper?g.position.left-i.left:g.position.left-l.left),k&&(g.size.height=g.size.width/g.aspectRatio),g.position.left=h.helper?i.left:0),j.top<(g._helper?i.top:0)&&(g.size.height=g.size.height+(g._helper?g.position.top-i.top:g.position.top),k&&(g.size.width=g.size.height*g.aspectRatio),g.position.top=g._helper?i.top:0),g.offset.left=g.parentData.left+g.position.left,g.offset.top=g.parentData.top+g.position.top,c=Math.abs((g._helper?g.offset.left-l.left:g.offset.left-l.left)+g.sizeDiff.width),d=Math.abs((g._helper?g.offset.top-l.top:g.offset.top-i.top)+g.sizeDiff.height),e=g.containerElement.get(0)===g.element.parent().get(0),f=/relative|absolute/.test(g.containerElement.css("position")),e&&f&&(c-=Math.abs(g.parentData.left)),c+g.size.width>=g.parentData.width&&(g.size.width=g.parentData.width-c,k&&(g.size.height=g.size.width/g.aspectRatio)),d+g.size.height>=g.parentData.height&&(g.size.height=g.parentData.height-d,k&&(g.size.width=g.size.height*g.aspectRatio))},stop:function(){var b=a(this).data("ui-resizable"),c=b.options,d=b.containerOffset,e=b.containerPosition,f=b.containerElement,g=a(b.helper),h=g.offset(),i=g.outerWidth()-b.sizeDiff.width,j=g.outerHeight()-b.sizeDiff.height;b._helper&&!c.animate&&/relative/.test(f.css("position"))&&a(this).css({left:h.left-e.left-d.left,width:i,height:j}),b._helper&&!c.animate&&/static/.test(f.css("position"))&&a(this).css({left:h.left-e.left-d.left,width:i,height:j})}}),a.ui.plugin.add("resizable","alsoResize",{start:function(){var b=a(this).data("ui-resizable"),c=b.options,d=function(b){a(b).each(function(){var b=a(this);b.data("ui-resizable-alsoresize",{width:parseInt(b.width(),10),height:parseInt(b.height(),10),left:parseInt(b.css("left"),10),top:parseInt(b.css("top"),10)})})};"object"!=typeof c.alsoResize||c.alsoResize.parentNode?d(c.alsoResize):c.alsoResize.length?(c.alsoResize=c.alsoResize[0],d(c.alsoResize)):a.each(c.alsoResize,function(a){d(a)})},resize:function(b,c){var d=a(this).data("ui-resizable"),e=d.options,f=d.originalSize,g=d.originalPosition,h={height:d.size.height-f.height||0,width:d.size.width-f.width||0,top:d.position.top-g.top||0,left:d.position.left-g.left||0},i=function(b,d){a(b).each(function(){var b=a(this),e=a(this).data("ui-resizable-alsoresize"),f={},g=d&&d.length?d:b.parents(c.originalElement[0]).length?["width","height"]:["width","height","top","left"];a.each(g,function(a,b){var c=(e[b]||0)+(h[b]||0);c&&c>=0&&(f[b]=c||null)}),b.css(f)})};"object"!=typeof e.alsoResize||e.alsoResize.nodeType?i(e.alsoResize):a.each(e.alsoResize,function(a,b){i(a,b)})},stop:function(){a(this).removeData("resizable-alsoresize")}}),a.ui.plugin.add("resizable","ghost",{start:function(){var b=a(this).data("ui-resizable"),c=b.options,d=b.size;b.ghost=b.originalElement.clone(),b.ghost.css({opacity:.25,display:"block",position:"relative",height:d.height,width:d.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof c.ghost?c.ghost:""),b.ghost.appendTo(b.helper)},resize:function(){var b=a(this).data("ui-resizable");
b.ghost&&b.ghost.css({position:"relative",height:b.size.height,width:b.size.width})},stop:function(){var b=a(this).data("ui-resizable");b.ghost&&b.helper&&b.helper.get(0).removeChild(b.ghost.get(0))}}),a.ui.plugin.add("resizable","grid",{resize:function(){var b=a(this).data("ui-resizable"),c=b.options,d=b.size,e=b.originalSize,f=b.originalPosition,g=b.axis,h="number"==typeof c.grid?[c.grid,c.grid]:c.grid,i=h[0]||1,j=h[1]||1,k=Math.round((d.width-e.width)/i)*i,l=Math.round((d.height-e.height)/j)*j,m=e.width+k,n=e.height+l,o=c.maxWidth&&m>c.maxWidth,p=c.maxHeight&&n>c.maxHeight,q=c.minWidth&&c.minWidth>m,r=c.minHeight&&c.minHeight>n;c.grid=h,q&&(m+=i),r&&(n+=j),o&&(m-=i),p&&(n-=j),/^(se|s|e)$/.test(g)?(b.size.width=m,b.size.height=n):/^(ne)$/.test(g)?(b.size.width=m,b.size.height=n,b.position.top=f.top-l):/^(sw)$/.test(g)?(b.size.width=m,b.size.height=n,b.position.left=f.left-k):(n-j>0?(b.size.height=n,b.position.top=f.top-l):(b.size.height=j,b.position.top=f.top+e.height-j),m-i>0?(b.size.width=m,b.position.left=f.left-k):(b.size.width=i,b.position.left=f.left+e.width-i))}})}(jQuery),function(a){a.widget("ui.selectable",a.ui.mouse,{version:"1.10.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var b,c=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){b=a(c.options.filter,c.element[0]),b.addClass("ui-selectee"),b.each(function(){var b=a(this),c=b.offset();a.data(this,"selectable-item",{element:this,$element:b,left:c.left,top:c.top,right:c.left+b.outerWidth(),bottom:c.top+b.outerHeight(),startselected:!1,selected:b.hasClass("ui-selected"),selecting:b.hasClass("ui-selecting"),unselecting:b.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=b.addClass("ui-selectee"),this._mouseInit(),this.helper=a("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(b){var c=this,d=this.options;this.opos=[b.pageX,b.pageY],this.options.disabled||(this.selectees=a(d.filter,this.element[0]),this._trigger("start",b),a(d.appendTo).append(this.helper),this.helper.css({left:b.pageX,top:b.pageY,width:0,height:0}),d.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var d=a.data(this,"selectable-item");d.startselected=!0,b.metaKey||b.ctrlKey||(d.$element.removeClass("ui-selected"),d.selected=!1,d.$element.addClass("ui-unselecting"),d.unselecting=!0,c._trigger("unselecting",b,{unselecting:d.element}))}),a(b.target).parents().addBack().each(function(){var d,e=a.data(this,"selectable-item");return e?(d=!b.metaKey&&!b.ctrlKey||!e.$element.hasClass("ui-selected"),e.$element.removeClass(d?"ui-unselecting":"ui-selected").addClass(d?"ui-selecting":"ui-unselecting"),e.unselecting=!d,e.selecting=d,e.selected=d,d?c._trigger("selecting",b,{selecting:e.element}):c._trigger("unselecting",b,{unselecting:e.element}),!1):void 0}))},_mouseDrag:function(b){if(this.dragged=!0,!this.options.disabled){var c,d=this,e=this.options,f=this.opos[0],g=this.opos[1],h=b.pageX,i=b.pageY;return f>h&&(c=h,h=f,f=c),g>i&&(c=i,i=g,g=c),this.helper.css({left:f,top:g,width:h-f,height:i-g}),this.selectees.each(function(){var c=a.data(this,"selectable-item"),j=!1;c&&c.element!==d.element[0]&&("touch"===e.tolerance?j=!(c.left>h||f>c.right||c.top>i||g>c.bottom):"fit"===e.tolerance&&(j=c.left>f&&h>c.right&&c.top>g&&i>c.bottom),j?(c.selected&&(c.$element.removeClass("ui-selected"),c.selected=!1),c.unselecting&&(c.$element.removeClass("ui-unselecting"),c.unselecting=!1),c.selecting||(c.$element.addClass("ui-selecting"),c.selecting=!0,d._trigger("selecting",b,{selecting:c.element}))):(c.selecting&&((b.metaKey||b.ctrlKey)&&c.startselected?(c.$element.removeClass("ui-selecting"),c.selecting=!1,c.$element.addClass("ui-selected"),c.selected=!0):(c.$element.removeClass("ui-selecting"),c.selecting=!1,c.startselected&&(c.$element.addClass("ui-unselecting"),c.unselecting=!0),d._trigger("unselecting",b,{unselecting:c.element}))),c.selected&&(b.metaKey||b.ctrlKey||c.startselected||(c.$element.removeClass("ui-selected"),c.selected=!1,c.$element.addClass("ui-unselecting"),c.unselecting=!0,d._trigger("unselecting",b,{unselecting:c.element})))))}),!1}},_mouseStop:function(b){var c=this;return this.dragged=!1,a(".ui-unselecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");d.$element.removeClass("ui-unselecting"),d.unselecting=!1,d.startselected=!1,c._trigger("unselected",b,{unselected:d.element})}),a(".ui-selecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");d.$element.removeClass("ui-selecting").addClass("ui-selected"),d.selecting=!1,d.selected=!0,d.startselected=!0,c._trigger("selected",b,{selected:d.element})}),this._trigger("stop",b),this.helper.remove(),!1}})}(jQuery),function(a){function b(a,b,c){return a>b&&b+c>a}function c(a){return/left|right/.test(a.css("float"))||/inline|table-cell/.test(a.css("display"))}a.widget("ui.sortable",a.ui.mouse,{version:"1.10.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var a=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===a.axis||c(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var a=this.items.length-1;a>=0;a--)this.items[a].item.removeData(this.widgetName+"-item");return this},_setOption:function(b,c){"disabled"===b?(this.options[b]=c,this.widget().toggleClass("ui-sortable-disabled",!!c)):a.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(b,c){var d=null,e=!1,f=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(b),a(b.target).parents().each(function(){return a.data(this,f.widgetName+"-item")===f?(d=a(this),!1):void 0}),a.data(b.target,f.widgetName+"-item")===f&&(d=a(b.target)),d?!this.options.handle||c||(a(this.options.handle,d).find("*").addBack().each(function(){this===b.target&&(e=!0)}),e)?(this.currentItem=d,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(b,c,d){var e,f,g=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(b),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,g.cursorAt&&this._adjustOffsetFromHelper(g.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),g.containment&&this._setContainment(),g.cursor&&"auto"!==g.cursor&&(f=this.document.find("body"),this.storedCursor=f.css("cursor"),f.css("cursor",g.cursor),this.storedStylesheet=a("<style>*{ cursor: "+g.cursor+" !important; }</style>").appendTo(f)),g.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",g.opacity)),g.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",g.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",b,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!d)for(e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("activate",b,this._uiHash(this));return a.ui.ddmanager&&(a.ui.ddmanager.current=this),a.ui.ddmanager&&!g.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(b),!0},_mouseDrag:function(b){var c,d,e,f,g=this.options,h=!1;for(this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-b.pageY<g.scrollSensitivity?this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop+g.scrollSpeed:b.pageY-this.overflowOffset.top<g.scrollSensitivity&&(this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop-g.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-b.pageX<g.scrollSensitivity?this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft+g.scrollSpeed:b.pageX-this.overflowOffset.left<g.scrollSensitivity&&(this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft-g.scrollSpeed)):(b.pageY-a(document).scrollTop()<g.scrollSensitivity?h=a(document).scrollTop(a(document).scrollTop()-g.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<g.scrollSensitivity&&(h=a(document).scrollTop(a(document).scrollTop()+g.scrollSpeed)),b.pageX-a(document).scrollLeft()<g.scrollSensitivity?h=a(document).scrollLeft(a(document).scrollLeft()-g.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<g.scrollSensitivity&&(h=a(document).scrollLeft(a(document).scrollLeft()+g.scrollSpeed))),h!==!1&&a.ui.ddmanager&&!g.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),c=this.items.length-1;c>=0;c--)if(d=this.items[c],e=d.item[0],f=this._intersectsWithPointer(d),f&&d.instance===this.currentContainer&&e!==this.currentItem[0]&&this.placeholder[1===f?"next":"prev"]()[0]!==e&&!a.contains(this.placeholder[0],e)&&("semi-dynamic"===this.options.type?!a.contains(this.element[0],e):!0)){if(this.direction=1===f?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(d))break;this._rearrange(b,d),this._trigger("change",b,this._uiHash());break}return this._contactContainers(b),a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),this._trigger("sort",b,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(b,c){if(b){if(a.ui.ddmanager&&!this.options.dropBehaviour&&a.ui.ddmanager.drop(this,b),this.options.revert){var d=this,e=this.placeholder.offset(),f=this.options.axis,g={};f&&"x"!==f||(g.left=e.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),f&&"y"!==f||(g.top=e.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,a(this.helper).animate(g,parseInt(this.options.revert,10)||500,function(){d._clear(b)})}else this._clear(b,c);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var b=this.containers.length-1;b>=0;b--)this.containers[b]._trigger("deactivate",null,this._uiHash(this)),this.containers[b].containerCache.over&&(this.containers[b]._trigger("out",null,this._uiHash(this)),this.containers[b].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),a.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):a(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];return b=b||{},a(c).each(function(){var c=(a(b.item||this).attr(b.attribute||"id")||"").match(b.expression||/(.+)[\-=_](.+)/);c&&d.push((b.key||c[1]+"[]")+"="+(b.key&&b.expression?c[1]:c[2]))}),!d.length&&b.key&&d.push(b.key+"="),d.join("&")},toArray:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];return b=b||{},c.each(function(){d.push(a(b.item||this).attr(b.attribute||"id")||"")}),d},_intersectsWith:function(a){var b=this.positionAbs.left,c=b+this.helperProportions.width,d=this.positionAbs.top,e=d+this.helperProportions.height,f=a.left,g=f+a.width,h=a.top,i=h+a.height,j=this.offset.click.top,k=this.offset.click.left,l="x"===this.options.axis||d+j>h&&i>d+j,m="y"===this.options.axis||b+k>f&&g>b+k,n=l&&m;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?n:b+this.helperProportions.width/2>f&&g>c-this.helperProportions.width/2&&d+this.helperProportions.height/2>h&&i>e-this.helperProportions.height/2},_intersectsWithPointer:function(a){var c="x"===this.options.axis||b(this.positionAbs.top+this.offset.click.top,a.top,a.height),d="y"===this.options.axis||b(this.positionAbs.left+this.offset.click.left,a.left,a.width),e=c&&d,f=this._getDragVerticalDirection(),g=this._getDragHorizontalDirection();return e?this.floating?g&&"right"===g||"down"===f?2:1:f&&("down"===f?2:1):!1},_intersectsWithSides:function(a){var c=b(this.positionAbs.top+this.offset.click.top,a.top+a.height/2,a.height),d=b(this.positionAbs.left+this.offset.click.left,a.left+a.width/2,a.width),e=this._getDragVerticalDirection(),f=this._getDragHorizontalDirection();return this.floating&&f?"right"===f&&d||"left"===f&&!d:e&&("down"===e&&c||"up"===e&&!c)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return 0!==a&&(a>0?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return 0!==a&&(a>0?"right":"left")},refresh:function(a){return this._refreshItems(a),this.refreshPositions(),this},_connectWith:function(){var a=this.options;return a.connectWith.constructor===String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(b){function c(){h.push(this)}var d,e,f,g,h=[],i=[],j=this._connectWith();if(j&&b)for(d=j.length-1;d>=0;d--)for(f=a(j[d]),e=f.length-1;e>=0;e--)g=a.data(f[e],this.widgetFullName),g&&g!==this&&!g.options.disabled&&i.push([a.isFunction(g.options.items)?g.options.items.call(g.element):a(g.options.items,g.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),g]);for(i.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),d=i.length-1;d>=0;d--)i[d][0].each(c);return a(h)},_removeCurrentsFromItems:function(){var b=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=a.grep(this.items,function(a){for(var c=0;b.length>c;c++)if(b[c]===a.item[0])return!1;return!0})},_refreshItems:function(b){this.items=[],this.containers=[this];var c,d,e,f,g,h,i,j,k=this.items,l=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],b,{item:this.currentItem}):a(this.options.items,this.element),this]],m=this._connectWith();if(m&&this.ready)for(c=m.length-1;c>=0;c--)for(e=a(m[c]),d=e.length-1;d>=0;d--)f=a.data(e[d],this.widgetFullName),f&&f!==this&&!f.options.disabled&&(l.push([a.isFunction(f.options.items)?f.options.items.call(f.element[0],b,{item:this.currentItem}):a(f.options.items,f.element),f]),this.containers.push(f));for(c=l.length-1;c>=0;c--)for(g=l[c][1],h=l[c][0],d=0,j=h.length;j>d;d++)i=a(h[d]),i.data(this.widgetName+"-item",g),k.push({item:i,instance:g,width:0,height:0,left:0,top:0})},refreshPositions:function(b){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var c,d,e,f;for(c=this.items.length-1;c>=0;c--)d=this.items[c],d.instance!==this.currentContainer&&this.currentContainer&&d.item[0]!==this.currentItem[0]||(e=this.options.toleranceElement?a(this.options.toleranceElement,d.item):d.item,b||(d.width=e.outerWidth(),d.height=e.outerHeight()),f=e.offset(),d.left=f.left,d.top=f.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(c=this.containers.length-1;c>=0;c--)f=this.containers[c].element.offset(),this.containers[c].containerCache.left=f.left,this.containers[c].containerCache.top=f.top,this.containers[c].containerCache.width=this.containers[c].element.outerWidth(),this.containers[c].containerCache.height=this.containers[c].element.outerHeight();return this},_createPlaceholder:function(b){b=b||this;var c,d=b.options;d.placeholder&&d.placeholder.constructor!==String||(c=d.placeholder,d.placeholder={element:function(){var d=b.currentItem[0].nodeName.toLowerCase(),e=a("<"+d+">",b.document[0]).addClass(c||b.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===d?b.currentItem.children().each(function(){a("<td>&#160;</td>",b.document[0]).attr("colspan",a(this).attr("colspan")||1).appendTo(e)}):"img"===d&&e.attr("src",b.currentItem.attr("src")),c||e.css("visibility","hidden"),e},update:function(a,e){(!c||d.forcePlaceholderSize)&&(e.height()||e.height(b.currentItem.innerHeight()-parseInt(b.currentItem.css("paddingTop")||0,10)-parseInt(b.currentItem.css("paddingBottom")||0,10)),e.width()||e.width(b.currentItem.innerWidth()-parseInt(b.currentItem.css("paddingLeft")||0,10)-parseInt(b.currentItem.css("paddingRight")||0,10)))}}),b.placeholder=a(d.placeholder.element.call(b.element,b.currentItem)),b.currentItem.after(b.placeholder),d.placeholder.update(b,b.placeholder)},_contactContainers:function(d){var e,f,g,h,i,j,k,l,m,n,o=null,p=null;for(e=this.containers.length-1;e>=0;e--)if(!a.contains(this.currentItem[0],this.containers[e].element[0]))if(this._intersectsWith(this.containers[e].containerCache)){if(o&&a.contains(this.containers[e].element[0],o.element[0]))continue;o=this.containers[e],p=e}else this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",d,this._uiHash(this)),this.containers[e].containerCache.over=0);if(o)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",d,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(g=1e4,h=null,n=o.floating||c(this.currentItem),i=n?"left":"top",j=n?"width":"height",k=this.positionAbs[i]+this.offset.click[i],f=this.items.length-1;f>=0;f--)a.contains(this.containers[p].element[0],this.items[f].item[0])&&this.items[f].item[0]!==this.currentItem[0]&&(!n||b(this.positionAbs.top+this.offset.click.top,this.items[f].top,this.items[f].height))&&(l=this.items[f].item.offset()[i],m=!1,Math.abs(l-k)>Math.abs(l+this.items[f][j]-k)&&(m=!0,l+=this.items[f][j]),g>Math.abs(l-k)&&(g=Math.abs(l-k),h=this.items[f],this.direction=m?"up":"down"));if(!h&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return;h?this._rearrange(d,h,null,!0):this._rearrange(d,null,this.containers[p].element,!0),this._trigger("change",d,this._uiHash()),this.containers[p]._trigger("change",d,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",d,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b,this.currentItem])):"clone"===c.helper?this.currentItem.clone():this.currentItem;return d.parents("body").length||a("parent"!==c.appendTo?c.appendTo:this.currentItem[0].parentNode)[0].appendChild(d[0]),d[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!d[0].style.width||c.forceHelperSize)&&d.width(this.currentItem.width()),(!d[0].style.height||c.forceHelperSize)&&d.height(this.currentItem.height()),d},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b,c,d,e=this.options;"parent"===e.containment&&(e.containment=this.helper[0].parentNode),("document"===e.containment||"window"===e.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a("document"===e.containment?document:window).width()-this.helperProportions.width-this.margins.left,(a("document"===e.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(e.containment)||(b=a(e.containment)[0],c=a(e.containment).offset(),d="hidden"!==a(b).css("overflow"),this.containment=[c.left+(parseInt(a(b).css("borderLeftWidth"),10)||0)+(parseInt(a(b).css("paddingLeft"),10)||0)-this.margins.left,c.top+(parseInt(a(b).css("borderTopWidth"),10)||0)+(parseInt(a(b).css("paddingTop"),10)||0)-this.margins.top,c.left+(d?Math.max(b.scrollWidth,b.offsetWidth):b.offsetWidth)-(parseInt(a(b).css("borderLeftWidth"),10)||0)-(parseInt(a(b).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,c.top+(d?Math.max(b.scrollHeight,b.offsetHeight):b.offsetHeight)-(parseInt(a(b).css("borderTopWidth"),10)||0)-(parseInt(a(b).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(b,c){c||(c=this.position);var d="absolute"===b?1:-1,e="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,f=/(html|body)/i.test(e[0].tagName);return{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():f?0:e.scrollTop())*d,left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():f?0:e.scrollLeft())*d}},_generatePosition:function(b){var c,d,e=this.options,f=b.pageX,g=b.pageY,h="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=/(html|body)/i.test(h[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(b.pageX-this.offset.click.left<this.containment[0]&&(f=this.containment[0]+this.offset.click.left),b.pageY-this.offset.click.top<this.containment[1]&&(g=this.containment[1]+this.offset.click.top),b.pageX-this.offset.click.left>this.containment[2]&&(f=this.containment[2]+this.offset.click.left),b.pageY-this.offset.click.top>this.containment[3]&&(g=this.containment[3]+this.offset.click.top)),e.grid&&(c=this.originalPageY+Math.round((g-this.originalPageY)/e.grid[1])*e.grid[1],g=this.containment?c-this.offset.click.top>=this.containment[1]&&c-this.offset.click.top<=this.containment[3]?c:c-this.offset.click.top>=this.containment[1]?c-e.grid[1]:c+e.grid[1]:c,d=this.originalPageX+Math.round((f-this.originalPageX)/e.grid[0])*e.grid[0],f=this.containment?d-this.offset.click.left>=this.containment[0]&&d-this.offset.click.left<=this.containment[2]?d:d-this.offset.click.left>=this.containment[0]?d-e.grid[0]:d+e.grid[0]:d)),{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():i?0:h.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():i?0:h.scrollLeft())}},_rearrange:function(a,b,c,d){c?c[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?b.item[0]:b.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var e=this.counter;this._delay(function(){e===this.counter&&this.refreshPositions(!d)})},_clear:function(a,b){function c(a,b,c){return function(d){c._trigger(a,d,b._uiHash(b))}}this.reverting=!1;var d,e=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(d in this._storedCSS)("auto"===this._storedCSS[d]||"static"===this._storedCSS[d])&&(this._storedCSS[d]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!b&&e.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||b||e.push(function(a){this._trigger("update",a,this._uiHash())}),this!==this.currentContainer&&(b||(e.push(function(a){this._trigger("remove",a,this._uiHash())}),e.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))}}.call(this,this.currentContainer)),e.push(function(a){return function(b){a._trigger("update",b,this._uiHash(this))}}.call(this,this.currentContainer)))),d=this.containers.length-1;d>=0;d--)b||e.push(c("deactivate",this,this.containers[d])),this.containers[d].containerCache.over&&(e.push(c("out",this,this.containers[d])),this.containers[d].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!b){for(this._trigger("beforeStop",a,this._uiHash()),d=0;e.length>d;d++)e[d].call(this,a);this._trigger("stop",a,this._uiHash())}return this.fromOutside=!1,!1}if(b||this._trigger("beforeStop",a,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!b){for(d=0;e.length>d;d++)e[d].call(this,a);this._trigger("stop",a,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){a.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(b){var c=b||this;return{helper:c.helper,placeholder:c.placeholder||a([]),position:c.position,originalPosition:c.originalPosition,offset:c.positionAbs,item:c.currentItem,sender:b?b.element:null}}})}(jQuery),function(a,b){var c="ui-effects-";a.effects={effect:{}},function(a,b){function c(a,b,c){var d=l[b.type]||{};return null==a?c||!b.def?null:b.def:(a=d.floor?~~a:parseFloat(a),isNaN(a)?b.def:d.mod?(a+d.mod)%d.mod:0>a?0:a>d.max?d.max:a)}function d(c){var d=j(),e=d._rgba=[];return c=c.toLowerCase(),o(i,function(a,f){var g,h=f.re.exec(c),i=h&&f.parse(h),j=f.space||"rgba";return i?(g=d[j](i),d[k[j].cache]=g[k[j].cache],e=d._rgba=g._rgba,!1):b}),e.length?("0,0,0,0"===e.join()&&a.extend(e,f.transparent),d):f[c]}function e(a,b,c){return c=(c+1)%1,1>6*c?a+6*(b-a)*c:1>2*c?b:2>3*c?a+6*(b-a)*(2/3-c):a}var f,g="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",h=/^([\-+])=\s*(\d+\.?\d*)/,i=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[2.55*a[1],2.55*a[2],2.55*a[3],a[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],j=a.Color=function(b,c,d,e){return new a.Color.fn.parse(b,c,d,e)},k={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},l={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},m=j.support={},n=a("<p>")[0],o=a.each;n.style.cssText="background-color:rgba(1,1,1,.5)",m.rgba=n.style.backgroundColor.indexOf("rgba")>-1,o(k,function(a,b){b.cache="_"+a,b.props.alpha={idx:3,type:"percent",def:1}}),j.fn=a.extend(j.prototype,{parse:function(e,g,h,i){if(e===b)return this._rgba=[null,null,null,null],this;(e.jquery||e.nodeType)&&(e=a(e).css(g),g=b);var l=this,m=a.type(e),n=this._rgba=[];return g!==b&&(e=[e,g,h,i],m="array"),"string"===m?this.parse(d(e)||f._default):"array"===m?(o(k.rgba.props,function(a,b){n[b.idx]=c(e[b.idx],b)}),this):"object"===m?(e instanceof j?o(k,function(a,b){e[b.cache]&&(l[b.cache]=e[b.cache].slice())}):o(k,function(b,d){var f=d.cache;o(d.props,function(a,b){if(!l[f]&&d.to){if("alpha"===a||null==e[a])return;l[f]=d.to(l._rgba)}l[f][b.idx]=c(e[a],b,!0)}),l[f]&&0>a.inArray(null,l[f].slice(0,3))&&(l[f][3]=1,d.from&&(l._rgba=d.from(l[f])))}),this):b},is:function(a){var c=j(a),d=!0,e=this;return o(k,function(a,f){var g,h=c[f.cache];return h&&(g=e[f.cache]||f.to&&f.to(e._rgba)||[],o(f.props,function(a,c){return null!=h[c.idx]?d=h[c.idx]===g[c.idx]:b})),d}),d},_space:function(){var a=[],b=this;
return o(k,function(c,d){b[d.cache]&&a.push(c)}),a.pop()},transition:function(a,b){var d=j(a),e=d._space(),f=k[e],g=0===this.alpha()?j("transparent"):this,h=g[f.cache]||f.to(g._rgba),i=h.slice();return d=d[f.cache],o(f.props,function(a,e){var f=e.idx,g=h[f],j=d[f],k=l[e.type]||{};null!==j&&(null===g?i[f]=j:(k.mod&&(j-g>k.mod/2?g+=k.mod:g-j>k.mod/2&&(g-=k.mod)),i[f]=c((j-g)*b+g,e)))}),this[e](i)},blend:function(b){if(1===this._rgba[3])return this;var c=this._rgba.slice(),d=c.pop(),e=j(b)._rgba;return j(a.map(c,function(a,b){return(1-d)*e[b]+d*a}))},toRgbaString:function(){var b="rgba(",c=a.map(this._rgba,function(a,b){return null==a?b>2?1:0:a});return 1===c[3]&&(c.pop(),b="rgb("),b+c.join()+")"},toHslaString:function(){var b="hsla(",c=a.map(this.hsla(),function(a,b){return null==a&&(a=b>2?1:0),b&&3>b&&(a=Math.round(100*a)+"%"),a});return 1===c[3]&&(c.pop(),b="hsl("),b+c.join()+")"},toHexString:function(b){var c=this._rgba.slice(),d=c.pop();return b&&c.push(~~(255*d)),"#"+a.map(c,function(a){return a=(a||0).toString(16),1===a.length?"0"+a:a}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),j.fn.parse.prototype=j.fn,k.hsla.to=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b,c,d=a[0]/255,e=a[1]/255,f=a[2]/255,g=a[3],h=Math.max(d,e,f),i=Math.min(d,e,f),j=h-i,k=h+i,l=.5*k;return b=i===h?0:d===h?60*(e-f)/j+360:e===h?60*(f-d)/j+120:60*(d-e)/j+240,c=0===j?0:.5>=l?j/k:j/(2-k),[Math.round(b)%360,c,l,null==g?1:g]},k.hsla.from=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b=a[0]/360,c=a[1],d=a[2],f=a[3],g=.5>=d?d*(1+c):d+c-d*c,h=2*d-g;return[Math.round(255*e(h,g,b+1/3)),Math.round(255*e(h,g,b)),Math.round(255*e(h,g,b-1/3)),f]},o(k,function(d,e){var f=e.props,g=e.cache,i=e.to,k=e.from;j.fn[d]=function(d){if(i&&!this[g]&&(this[g]=i(this._rgba)),d===b)return this[g].slice();var e,h=a.type(d),l="array"===h||"object"===h?d:arguments,m=this[g].slice();return o(f,function(a,b){var d=l["object"===h?a:b.idx];null==d&&(d=m[b.idx]),m[b.idx]=c(d,b)}),k?(e=j(k(m)),e[g]=m,e):j(m)},o(f,function(b,c){j.fn[b]||(j.fn[b]=function(e){var f,g=a.type(e),i="alpha"===b?this._hsla?"hsla":"rgba":d,j=this[i](),k=j[c.idx];return"undefined"===g?k:("function"===g&&(e=e.call(this,k),g=a.type(e)),null==e&&c.empty?this:("string"===g&&(f=h.exec(e),f&&(e=k+parseFloat(f[2])*("+"===f[1]?1:-1))),j[c.idx]=e,this[i](j)))})})}),j.hook=function(b){var c=b.split(" ");o(c,function(b,c){a.cssHooks[c]={set:function(b,e){var f,g,h="";if("transparent"!==e&&("string"!==a.type(e)||(f=d(e)))){if(e=j(f||e),!m.rgba&&1!==e._rgba[3]){for(g="backgroundColor"===c?b.parentNode:b;(""===h||"transparent"===h)&&g&&g.style;)try{h=a.css(g,"backgroundColor"),g=g.parentNode}catch(i){}e=e.blend(h&&"transparent"!==h?h:"_default")}e=e.toRgbaString()}try{b.style[c]=e}catch(i){}}},a.fx.step[c]=function(b){b.colorInit||(b.start=j(b.elem,c),b.end=j(b.end),b.colorInit=!0),a.cssHooks[c].set(b.elem,b.start.transition(b.end,b.pos))}})},j.hook(g),a.cssHooks.borderColor={expand:function(a){var b={};return o(["Top","Right","Bottom","Left"],function(c,d){b["border"+d+"Color"]=a}),b}},f=a.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function c(b){var c,d,e=b.ownerDocument.defaultView?b.ownerDocument.defaultView.getComputedStyle(b,null):b.currentStyle,f={};if(e&&e.length&&e[0]&&e[e[0]])for(d=e.length;d--;)c=e[d],"string"==typeof e[c]&&(f[a.camelCase(c)]=e[c]);else for(c in e)"string"==typeof e[c]&&(f[c]=e[c]);return f}function d(b,c){var d,e,g={};for(d in c)e=c[d],b[d]!==e&&(f[d]||(a.fx.step[d]||!isNaN(parseFloat(e)))&&(g[d]=e));return g}var e=["add","remove","toggle"],f={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(b,c){a.fx.step[c]=function(a){("none"!==a.end&&!a.setAttr||1===a.pos&&!a.setAttr)&&(jQuery.style(a.elem,c,a.end),a.setAttr=!0)}}),a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),a.effects.animateClass=function(b,f,g,h){var i=a.speed(f,g,h);return this.queue(function(){var f,g=a(this),h=g.attr("class")||"",j=i.children?g.find("*").addBack():g;j=j.map(function(){var b=a(this);return{el:b,start:c(this)}}),f=function(){a.each(e,function(a,c){b[c]&&g[c+"Class"](b[c])})},f(),j=j.map(function(){return this.end=c(this.el[0]),this.diff=d(this.start,this.end),this}),g.attr("class",h),j=j.map(function(){var b=this,c=a.Deferred(),d=a.extend({},i,{queue:!1,complete:function(){c.resolve(b)}});return this.el.animate(this.diff,d),c.promise()}),a.when.apply(a,j.get()).done(function(){f(),a.each(arguments,function(){var b=this.el;a.each(this.diff,function(a){b.css(a,"")})}),i.complete.call(g[0])})})},a.fn.extend({addClass:function(b){return function(c,d,e,f){return d?a.effects.animateClass.call(this,{add:c},d,e,f):b.apply(this,arguments)}}(a.fn.addClass),removeClass:function(b){return function(c,d,e,f){return arguments.length>1?a.effects.animateClass.call(this,{remove:c},d,e,f):b.apply(this,arguments)}}(a.fn.removeClass),toggleClass:function(c){return function(d,e,f,g,h){return"boolean"==typeof e||e===b?f?a.effects.animateClass.call(this,e?{add:d}:{remove:d},f,g,h):c.apply(this,arguments):a.effects.animateClass.call(this,{toggle:d},e,f,g)}}(a.fn.toggleClass),switchClass:function(b,c,d,e,f){return a.effects.animateClass.call(this,{add:c,remove:b},d,e,f)}})}(),function(){function d(b,c,d,e){return a.isPlainObject(b)&&(c=b,b=b.effect),b={effect:b},null==c&&(c={}),a.isFunction(c)&&(e=c,d=null,c={}),("number"==typeof c||a.fx.speeds[c])&&(e=d,d=c,c={}),a.isFunction(d)&&(e=d,d=null),c&&a.extend(b,c),d=d||c.duration,b.duration=a.fx.off?0:"number"==typeof d?d:d in a.fx.speeds?a.fx.speeds[d]:a.fx.speeds._default,b.complete=e||c.complete,b}function e(b){return!b||"number"==typeof b||a.fx.speeds[b]?!0:"string"!=typeof b||a.effects.effect[b]?a.isFunction(b)?!0:"object"!=typeof b||b.effect?!1:!0:!0}a.extend(a.effects,{version:"1.10.4",save:function(a,b){for(var d=0;b.length>d;d++)null!==b[d]&&a.data(c+b[d],a[0].style[b[d]])},restore:function(a,d){var e,f;for(f=0;d.length>f;f++)null!==d[f]&&(e=a.data(c+d[f]),e===b&&(e=""),a.css(d[f],e))},setMode:function(a,b){return"toggle"===b&&(b=a.is(":hidden")?"show":"hide"),b},getBaseline:function(a,b){var c,d;switch(a[0]){case"top":c=0;break;case"middle":c=.5;break;case"bottom":c=1;break;default:c=a[0]/b.height}switch(a[1]){case"left":d=0;break;case"center":d=.5;break;case"right":d=1;break;default:d=a[1]/b.width}return{x:d,y:c}},createWrapper:function(b){if(b.parent().is(".ui-effects-wrapper"))return b.parent();var c={width:b.outerWidth(!0),height:b.outerHeight(!0),"float":b.css("float")},d=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),e={width:b.width(),height:b.height()},f=document.activeElement;try{f.id}catch(g){f=document.body}return b.wrap(d),(b[0]===f||a.contains(b[0],f))&&a(f).focus(),d=b.parent(),"static"===b.css("position")?(d.css({position:"relative"}),b.css({position:"relative"})):(a.extend(c,{position:b.css("position"),zIndex:b.css("z-index")}),a.each(["top","left","bottom","right"],function(a,d){c[d]=b.css(d),isNaN(parseInt(c[d],10))&&(c[d]="auto")}),b.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),b.css(e),d.css(c).show()},removeWrapper:function(b){var c=document.activeElement;return b.parent().is(".ui-effects-wrapper")&&(b.parent().replaceWith(b),(b[0]===c||a.contains(b[0],c))&&a(c).focus()),b},setTransition:function(b,c,d,e){return e=e||{},a.each(c,function(a,c){var f=b.cssUnit(c);f[0]>0&&(e[c]=f[0]*d+f[1])}),e}}),a.fn.extend({effect:function(){function b(b){function d(){a.isFunction(f)&&f.call(e[0]),a.isFunction(b)&&b()}var e=a(this),f=c.complete,h=c.mode;(e.is(":hidden")?"hide"===h:"show"===h)?(e[h](),d()):g.call(e[0],c,d)}var c=d.apply(this,arguments),e=c.mode,f=c.queue,g=a.effects.effect[c.effect];return a.fx.off||!g?e?this[e](c.duration,c.complete):this.each(function(){c.complete&&c.complete.call(this)}):f===!1?this.each(b):this.queue(f||"fx",b)},show:function(a){return function(b){if(e(b))return a.apply(this,arguments);var c=d.apply(this,arguments);return c.mode="show",this.effect.call(this,c)}}(a.fn.show),hide:function(a){return function(b){if(e(b))return a.apply(this,arguments);var c=d.apply(this,arguments);return c.mode="hide",this.effect.call(this,c)}}(a.fn.hide),toggle:function(a){return function(b){if(e(b)||"boolean"==typeof b)return a.apply(this,arguments);var c=d.apply(this,arguments);return c.mode="toggle",this.effect.call(this,c)}}(a.fn.toggle),cssUnit:function(b){var c=this.css(b),d=[];return a.each(["em","px","%","pt"],function(a,b){c.indexOf(b)>0&&(d=[parseFloat(c),b])}),d}})}(),function(){var b={};a.each(["Quad","Cubic","Quart","Quint","Expo"],function(a,c){b[c]=function(b){return Math.pow(b,a+2)}}),a.extend(b,{Sine:function(a){return 1-Math.cos(a*Math.PI/2)},Circ:function(a){return 1-Math.sqrt(1-a*a)},Elastic:function(a){return 0===a||1===a?a:-Math.pow(2,8*(a-1))*Math.sin((80*(a-1)-7.5)*Math.PI/15)},Back:function(a){return a*a*(3*a-2)},Bounce:function(a){for(var b,c=4;((b=Math.pow(2,--c))-1)/11>a;);return 1/Math.pow(4,3-c)-7.5625*Math.pow((3*b-2)/22-a,2)}}),a.each(b,function(b,c){a.easing["easeIn"+b]=c,a.easing["easeOut"+b]=function(a){return 1-c(1-a)},a.easing["easeInOut"+b]=function(a){return.5>a?c(2*a)/2:1-c(-2*a+2)/2}})}()}(jQuery),Webos.Script=function(a,b,c){this.js=a,this.args=b,b||(b=new Webos.Arguments({}));var d=b.getOptions(),e=b.getParams();""!=a&&null!=a&&(a="try { "+a+" \n} catch(error) { W.Error.catchError(error); }"),a="(function(args) { "+a+"\n })(new W.Arguments({ options: "+JSON.stringify(d)+", params: "+JSON.stringify(e)+" }));",Webos.Script.run(a,c)},Webos.Script.create=function(a,b,c){return new Webos.Script(a,b,c)},Webos.Script.run=function(a,b){if("string"==typeof b&&(b={sourceUrl:b}),b=$.extend({sourceUrl:"",context:null,arguments:null},b),b.sourceUrl&&/^\s*(\S*?)\s*$/m.test(b.sourceUrl)&&(a+="\n//# sourceURL="+b.sourceUrl),b.context||b.arguments){Webos.Script.run._ctx=b.context||window,Webos.Script.run._args=b.arguments||[];var c="";if(!(b.arguments instanceof Array)){c=Object.keys(b.arguments).join(", ");var d=[];for(var e in b.arguments)d.push(b.arguments[e]);Webos.Script.run._args=d}a="(function ("+c+") { "+a+"\n }).apply(Webos.Script.run._ctx, Webos.Script.run._args);"}var f=document.createElement("script");f.innerHTML="\n"+a+"\n",document.head?document.head.appendChild(f):document.appendChild(f)},Webos.Script.load=function(a){$.ajax({url:a,dataType:"script",cache:!0,async:!1})},Webos.ScriptFile=function(a){if(/^(\/|~\/)/.test(a)||(a="/"+a),this.run=function(){if(Webos.ScriptFile._cache[this.path]=this._js,this._js){var b="try {"+this._js+"\n} catch(error) { W.Error.catchError(error); }";Webos.Script.run(b,a)}},this._js=null,this.path=a,"undefined"!=typeof W.ScriptFile._cache[a])return this._js=W.ScriptFile._cache[a],void this.run();var b=this;new Webos.ServerCall({"class":"FileController",method:"getContents",arguments:{file:a},async:!1}).load(function(a){var c=a.getStandardChannel();c&&(b._js=c,b.run())})},Webos.ScriptFile._cache={},Webos.ScriptFile.load=function(){for(var a=new Webos.ServerCall.Group([],{async:!1}),b=0;b<arguments.length;b++)!function(b){a.add(new Webos.ServerCall({"class":"FileController",method:"getContents",arguments:{file:b},async:!1}),function(a){var c=a.getStandardChannel();c&&(c="try {"+c+"\n} catch(error) { W.Error.catchError(error); }",Webos.Script.run(c,b))})}(arguments[b]);return a.load(),a},Webos.require=function(a,b,c){if(b=Webos.Callback.toCallback(b),!a)return void b.success();var d=[];if(a instanceof Array){if(0==a.length)return void b.success();d=a}else d=[a];for(var e=new Webos.Operation,f=0,g=function(a){f++,a&&Webos.require._stacks[a.get("path")]&&delete Webos.require._stacks[a.get("path")],f==d.length&&(b.success(),e.setCompleted(!0))},h=0;h<d.length;h++)!function(a,d){"object"!=typeof d&&(d={path:d}),d=$.extend({path:"",contents:"",context:null,arguments:[],styleContainer:null,exportApis:[],process:!0,optionnal:!1,type:"text/javascript"},c,d);var e;if(d.contents)e=Webos.BlobFile.fromString(d.contents,{mime_type:d.type,path:d.path});else{if(!d.path)return void g();var f=d.path;"string"==typeof f&&(f=f.replace(/^\.\//,"")),e=W.File.get(f,{is_dir:!1})}var h=function(a){if(d.process===!1)return void g(e);if("function"==typeof d.process)return d.process(a,d),void g(e);if("js"==e.get("extension")||e.matchesMimeType("text/javascript")){var c=Webos.require._currentFile;if(Webos.require._stacks[e.get("path")]=[],Webos.require._currentFile=e.get("path"),"undefined"!=typeof d.exportApis){d.exportApis instanceof Array||(d.exportApis=[d.exportApis]);for(var f="",h=0;h<d.exportApis.length;h++){var i=d.exportApis[h];f+="if (typeof "+i+' != "undefined") { window.'+i+" = "+i+"; }\n"}a+="\n"+f}if(a="try { "+a+" \n} catch(error) { W.Error.catchError(error); }",Webos.Script.run(a,{scourceUrl:e.get("path"),context:d.context,arguments:d.arguments}),Webos.require._currentFile=c,d.optionnal)g(e);else{var j=Webos.require._stacks[e.get("path")],k=Webos.Operation.group(j);k.observables().length>0&&!k.completed()?(k.one("success",function(){g(e)}),k.oneEach("error",function(){b.error()})):g(e)}}else"css"==e.get("extension")||e.matchesMimeType("text/css")?(Webos.Stylesheet.insertCss(a,d.styleContainer),g(e)):b.error(Webos.Callback.Result.error('Unknown file type: "'+e.get("extension")+'" (file path: "'+e.get("path")+'")'))};if(d.contents)h(d.contents);else if(d.path){e.readAsText([function(a){h(a)},b.error])}}(h,d[h]);return Webos.require._currentFile&&Webos.require._stacks[Webos.require._currentFile].push(e),e},Webos.require._stacks={},Webos.require._currentFile=null,Webos.require._currentOperation=null,Webos.eval=function(a,b,c){if(b=Webos.Callback.toCallback(b),c=$.extend({styleContainer:null},c),!a)return void b.success();var d=[];if(a instanceof Array){if(0==files.length)return void b.success();d=a}else d=[String(a)];for(var e=0,f=function(){e++,e==d.length&&b.success()},g=0;g<d.length;g++)!function(a){var c=(new Date).getTime(),d=Webos.require._currentFile;Webos.require._stacks[c]=[],Webos.require._currentFile=c;var e=new Function(a);try{e()}catch(g){W.Error.catchError(g)}Webos.require._currentFile=d;var h=Webos.require._stacks[c],i=Webos.Observable.group(h);i.observables().length>0?(i.one("success",function(){f()}),i.oneEach("error",function(){b.error()})):f(),Webos.require._currentFile&&Webos.require._stacks[Webos.require._currentFile].push(call)}(d[g])},Webos.Arguments=function(a){this.args=$.extend({},a),"undefined"==typeof this.args.options&&(this.args.options={}),"undefined"==typeof this.args.params&&(this.args.params=[]),this.isOption=function(a){return"undefined"!=typeof this.args.options[a]},this.getOption=function(a){return this.args.options[a]},this.getOptions=function(){return this.args.options},this.countNbrParams=function(){return this.args.params.length},this.isParam=function(a){return"undefined"!=typeof this.args.params[a]},this.getParam=function(a){return this.args.params[a]},this.getParams=function(){return this.args.params}},Webos.Arguments.parse=function(a){if(Webos.isInstanceOf(a,Webos.Arguments))return a;if("object"==typeof a)return new Webos.Arguments(a);var b=a.split(" ");b.shift();for(var c=b.join(" "),d={options:{},params:[]},e={strStarted:!1,strType:"",strIndex:"",strContent:"",previous:"",strOptionType:"",strStage:"index"},f=$.extend({},e),g=0;g<c.length;g++){var h=c[g];'"'==h?"\\"==f.previous?"content"==f.strStage?(f.strContent=f.strContent.substr(0,-1),f.strContent+=h):(f.strIndex=f.strIndex.substr(0,-1),f.strIndex+=h):f.strStarted=0==f.strStarted?!0:!1:" "==h&&1!=f.strStarted?"options"==f.strType?"short"==f.strOptionType?f.strStage="content":(d.options[f.strIndex]=f.strContent,f=$.extend({},e)):(d.params.push(f.strIndex),f=$.extend({},e)):"-"==h?"-"==f.previous?f.strOptionType="long":" "==f.previous||""==f.previous?(f.strType="options",f.strOptionType="short",f.strStage="index"):"content"==f.strStage?f.strContent+=h:f.strIndex+=h:"="==h?"options"==f.strType&&"long"==f.strOptionType&&(f.strStage="content"):"content"==f.strStage?f.strContent+=h:"options"==f.strType?"long"==f.strOptionType?f.strIndex+=h:(d.options[h]="",f=$.extend({},e),f.strType="options",f.strOptionType="short",f.strStage="index",f.strIndex=h):f.strIndex+=h,f.previous=h}return f.strIndex&&("options"==f.strType?d.options[f.strIndex]=f.strContent:d.params.push(f.strIndex)),new Webos.Arguments(d)},Webos.inherit=function(a,b){var c=function(){};c.prototype=b.prototype,a.prototype=$.extend(!0,{},new c,a.prototype),a.uber=b.prototype,a._parent=b,a.prototype.constructor=a,a.prototype._super=function(a){if("function"==typeof this.constructor.uber[a]){for(var b=[],c=1;c<arguments.length;c++)b.push(arguments[c]);return this.constructor.uber[a].apply(this,b)}return"undefined"!=typeof this.constructor.uber[a]?this.constructor.uber[a]:void 0}},Webos.isInstanceOf=function(a,b){if(!a||"object"!=typeof a||!b)return!1;var c;do if(c=c?c._parent:a.constructor,c===b)return!0;while(c._parent);try{if(a instanceof b)return!0}catch(d){}return!1},Webos.Observable=function(){this._observers=[]},Webos.Observable.prototype={_observers:[],_lastObserver:-1,on:function(a,b){var c=this;if("object"==typeof a){var d=a;for(var e in d){var b=d[e];"function"==typeof b&&this.on(e,b)}return this}for(var d=a.split(" "),f=[],g=0;g<d.length;g++)f.push(d[g].split(".")[0]);var h=++this._lastObserver;this._observers.push({fn:b,eventsNames:f,events:d,id:h});var i="stop.garbagecollector.observable.webos";return Webos.Process&&Webos.Process.current()&&a!=i&&Webos.Process.current().once(i,function(){setTimeout(function(){c.off(h)},0)}),h},bind:function(a,b){return this.on(a,b)},once:function(a,b){var c=this,d=this.on(a,function(a){c.off(d),b.call(this,a)});return d},one:function(a,b){return this.once(a,b)},off:function(a,b){var c=[];if("number"==typeof a)for(var d=0;d<this._observers.length;d++){var e=this._observers[d];a!=e.id&&c.push(e)}else{a=String(a);for(var f=a.split(" "),d=0;d<this._observers.length;d++){var e=this._observers[d],g=!0;b&&e.fn===b&&(g=!1);for(var h=0;h<f.length;h++)!a||-1==jQuery.inArray(f[h],e.eventsNames)&&-1==jQuery.inArray(f[h],e.events)||(g=!1);g&&c.push(e)}}this._observers=c},unbind:function(a,b){return this.off(a,b)},trigger:function(a,b,c){b=b||{};for(var d=c||this,e=a.split(" "),f=this._observers.slice(0),g=0;g<f.length;g++)for(var h=f[g],i=0;i<e.length;i++)(-1!=jQuery.inArray(e[i],h.eventsNames)||-1!=jQuery.inArray(e[i],h.events))&&h.fn.call(d,b)},notify:function(a,b,c){return this.trigger(a,b,c)}},Webos.Observable.build=function(a){for(var b in Webos.Observable.prototype)a[b]=Webos.Observable.prototype[b];return a._observers=[],a},Webos.Observable.Group=function(a){var b=[];if(a instanceof Array)for(var c=0;c<a.length;c++)Webos.isInstanceOf(a[c],Webos.Observable)&&b.push(a[c]);else Webos.isInstanceOf(a,Webos.Observable)&&(b=[a]);this._observables=b;var d=this;for(var e in Webos.Observable.prototype)!function(a){var b=a+"Each";d[b]=function(){var b=Array.prototype.slice.call(arguments);return this._eachObservable(a,b)}}(e)},Webos.Observable.Group.prototype={_eachObservable:function(a,b){for(var c=[],d=0;d<this._observables.length;d++)if(this._observables[d][a]){var e=this._observables[d][a].apply(this._observables[d],b);c.push(e)}return c},on:function(a,b){var c=this,d=0,e=[];this._eachObservable("on",[a,function(a){d++,e.push(a),d>=c._observables.length&&(b.call(c,e),d=0,e=[])}])},bind:function(a,b){return this.on(a,b)},once:function(a,b){var c=this,d=0,e=[];this._eachObservable("once",[a,function(a){d++,e.push(a),d>=c._observables.length&&b.call(c,e)}])},one:function(a,b){return this.once(a,b)},addObservable:function(a){return Webos.isInstanceOf(a,Webos.Observable)?void this._observables.push(a):!1},removeObservable:function(a){if(!Webos.isInstanceOf(a,Webos.Observable))return!1;for(var b=[],c=0;c<this._observables.length;c++)this._observables[c]!==a&&b.push(this._observables[c]);this._observables=b},observables:function(){return this._observables}},Webos.Observable.group=function(a){return new Webos.Observable.Group(a)},Webos.Error=function(a,b,c){this.name="Webos.Error",this.stack=Webos.Error.getStackTrace(),this.process=Webos.Process.current();var d=function(a){return a.replace(/^\s+/g,"").replace(/\s+$/g,"")};this.message="undefined"!=typeof a&&null!==a&&"function"==typeof a.toString?d(a.toString()):"",""===this.message&&(this.message="An error occured while running program."),this.details="undefined"!=typeof b&&null!==b&&"function"==typeof b.toString?d(b.toString()):"",this.code=c||0,this.html={message:this.message.replace("\n","<br />"),details:this.details.replace("\n","<br />"),process:this.process?"Process : "+this.process.getPid()+'; command : "'+this.process.cmdText+'"':"",text:(this.message+(""!=this.details?"\n"+this.details:"")).replace("\n","<br />")},this.message=$("<span></span>").html(this.message).text(),this.text=this.message+(""!=this.details?"\n"+this.details:""),this.processText=this.process?"Process : "+this.process.getPid()+'; command : "'+this.process.cmdText+'"':"",this.toString=function(){return this.name+": "+this.html.text+"<br />"+this.html.process+"<br />"+this.stack.join("<br />")}},Webos.inherit(Webos.Error,Error),Webos.Error.list=[],Webos.Error.callback=function(){},Webos.Error.logError=function(a){if(a.process||(a.process=Webos.Process.current()),Webos.Error.list.push(a),"undefined"!=typeof console){var b;b=a instanceof W.Error?a.name+" [#"+a.code+"]: "+a.text+"\n"+a.stack.join("\n"):a.name+": "+a.message+"\nStack trace :\n"+a.stack,"undefined"!=typeof console&&("undefined"!=typeof console.warn?console.warn(b):console.log(b))}return a},Webos.Error.catchError=function(a){a.process||(a.process=Webos.Process.current()),Webos.Error.logError(a),"function"==typeof Webos.Error.callback&&Webos.Error.callback(a)},Webos.Error.build=function(a,b,c){return a||(a="Unknown error"),a instanceof Webos.Error?a:new Webos.Error(a,b,c)},Webos.Error.trigger=function(a,b,c){Webos.Error.catchError(Webos.Error.build(a,b,c))},Webos.Error.log=function(a,b,c){Webos.Error.logError(Webos.Error.build(a,b,c))},Webos.Error.getStackTrace=function(){var a=[],b=!1;try{e.dont.exist+=0}catch(c){if(c.stack){for(var d=c.stack.split("\n"),e=0,f=d.length;f>e;e++)d[e].match(/^\s*[A-Za-z0-9\-_\$.\s]+\(?/)&&a.push(d[e]);a.shift(),navigator.userAgent.toLowerCase().indexOf("chrome")>-1&&a.shift(),b=!0}else if(window.opera&&c.message){for(var d=c.message.split("\n"),e=0,f=d.length;f>e;e++)if(d[e].match(/^\s*[A-Za-z0-9\-_\$]+\(/)){var g=d[e];d[e+1]&&(g+=" at "+d[e+1],e++),a.push(g)}a.shift(),b=!0}}if(!b)for(var h=arguments.callee.caller;h;){var i=h.toString(),j=i.substring(i.indexOf("function")+8,i.indexOf(""))||"anonymous";a.push(j),h=h.caller}return a},Webos.Error.setErrorHandler=function(a){return"function"!=typeof a?!1:void(Webos.Error.callback=a)},Webos.Model=function(){Webos.Observable.call(this),this._initialize.apply(this,arguments)},Webos.Model.prototype={_initialize:function(a){this._data={},this._unsynced={},this.hydrate(a)},_hydrate:function(a){if(a)for(var b in a)this._data[b]=a[b]},hydrate:function(a){return this._hydrate(a)},get:function(a){var b;if("function"==typeof this[a])b=this[a]();else{var c="get"+a.charAt(0).toUpperCase()+a.substr(1);"function"==typeof this[c]?b=this[c]():"undefined"!=typeof this._data[a]&&(b=this._get(a))}return b instanceof Array&&(b=b.slice(0)),b},getAttribute:function(a){return this.get(a)},_get:function(a){return this._data[a]},data:function(){return _.clone(this._data)},set:function(a,b){var c="set"+a.charAt(0).toUpperCase()+a.substr(1);return this.exists(a)&&this.get(a)===b?!0:"function"==typeof this[c]?(this._set(a,b),this[c](b)):(this._set(a,b),!0)},_set:function(a,b){return this._unsynced[a]={value:b,state:1},!0},exists:function(a){return this.has(a)},has:function(a){var b="get"+a.charAt(0).toUpperCase()+a.substr(1);return"function"==typeof this[b]?!0:"undefined"!=typeof this._data[a]?!0:!1},isEmpty:function(){return 0==Object.keys(this._data).length},remove:function(a){return this.unset(a)},unset:function(a){var b="remove"+a.charAt(0).toUpperCase()+a.substr(1);return this.exists(a)?("function"==typeof this[b]&&this[b](),this._remove(a),!0):!0},_remove:function(a){return this._unset(a)},_unset:function(a){this._unsynced[a]={value:void 0,state:1}},changedKeys:function(){var a=[];for(var b in this._unsynced)1===this._unsynced[b].state&&a.push(b);return a},changedData:function(){for(var a=this.changedKeys(),b={},c=0;c<a.length;c++){var d=a[c];b[d]=this._unsynced[d].value}return b},hasChanged:function(a){return"undefined"!=typeof a?this._unsynced[a]?1==this._unsynced[a].state:!1:!_.isEmpty(this._unsynced)},getChanged:function(a){return this.hasChanged(a)?this._unsynced[a].value:void 0},_stageChanges:function(){for(var a=this.changedKeys(),b=0;b<a.length;b++){var c=a[b];this._unsynced[c].state=2}return a},_propagateChanges:function(a){for(var b=0;b<a.length;b++){var c=a[b];this._data[c]=this._unsynced[c].value,delete this._unsynced[c],this.trigger("update",{key:c,value:this.get(c)})}},fetch:function(){return this.load.apply(this,arguments)},load:function(a){a=Webos.Callback.toCallback(a),a.error()},save:function(){return this.sync.apply(this,arguments)},sync:function(a){a=Webos.Callback.toCallback(a),a.error()}},Webos.inherit(Webos.Model,Webos.Observable),Webos.Callback=function(a,b){var c=this;Webos.Observable.call(this),this.callbacks={success:{callback:function(){},arguments:[],context:null},error:{callback:function(a){Webos.isInstanceOf(a,Webos.Callback.Result)&&(a=a.getError()),a||(a="Unknown error"),Webos.Error.trigger(a)},arguments:[],context:null}},this.process=Webos.Process&&Webos.Process.current()?Webos.Process.current():null,"function"==typeof a&&(this.callbacks.success.callback=a),"function"==typeof b&&(this.callbacks.error.callback=b),this.fire=function(a,b){if(!c.callbacks[a])return!1;c.process&&Webos.Process.stack.push(c.process);var d;try{d=c.callbacks[a].callback.apply(c.callbacks[a].context,b)}catch(e){Webos.Error.catchError(e)}finally{return c.process&&Webos.Process.stack.pop(),c.notify("fire",{flag:a,args:b,context:c.callbacks[a].context}),d}},this.success=function(){var a=Array.prototype.slice.call(arguments);return a=a.concat(c.callbacks.success.arguments),c.fire("success",a)},this.error=function(){var a=Array.prototype.slice.call(arguments);return a=a.concat(c.callbacks.error.arguments),c.fire("error",a)}},Webos.Callback.prototype={addParam:function(a,b){b||(b="success"),this.callbacks[b].arguments.push(a)},addParams:function(a,b){b||(b="success"),this.callbacks[b].arguments.concat(a)},setContext:function(a,b){b||(b="success"),this.callbacks[b].context=a},callback:function(a,b){if(a||(a="success"),"undefined"==typeof b){if(this.callbacks[a])return this.callbacks[a].callback}else{if("function"!=typeof b)return!1;this.callbacks[a].callback=b}}},Webos.inherit(Webos.Callback,Webos.Observable),Webos.Callback.toCallback=function(a,b){if(a instanceof Webos.Callback)return a;if(a instanceof Array&&"function"==typeof a[0]&&"function"==typeof a[1])return new Webos.Callback(a[0],a[1]);switch(typeof a){case"function":return new Webos.Callback(a,Webos.Callback.toCallback(b).error);case"object":if("function"==typeof a.success&&"function"==typeof a.error)return new Webos.Callback(a.success,a.error)}return"undefined"!=typeof b?Webos.Callback.toCallback(b):new Webos.Callback},Webos.Callback.Result=function(a){a=$.extend({},{success:!0,out:null,data:{}},a),this._data=a},Webos.Callback.Result.prototype={isSuccess:function(){return this._data.success},getData:function(){return this._data.data},getError:function(a){return this.isSuccess()?void 0:(a=this._data.out,Webos.Error.build(a))},triggerError:function(a){this.isSuccess()||Webos.Error.trigger(this.getError(a))},logError:function(a){Webos.Error.log(this.getError(a))},toString:function(){return this._data.out}},Webos.Callback.Result.error=function(a){return new Webos.Callback.Result({success:!1,out:a})},function(){var a=function(){Webos.Observable.call(this)};a.prototype={_started:!1,_progress:0,_completed:!1,_failed:!1,_result:null,on:function(a,b){var c=this;if("object"==typeof a){var d=a;for(var e in d){var b=d[e];"function"==typeof b&&this.on(e,b)}return this}var f=Webos.Operation._parent.prototype.on.call(this,a,b);if(this.completed()){for(var d=a.split(" "),g=[],h=0;h<d.length;h++)g.push(d[h].split(".")[0]);setTimeout(function(){~$.inArray("complete",g)&&b.call(c,{result:c._result}),~$.inArray("error",g)&&c.failed()&&b.call(c,{result:c._result}),~$.inArray("success",g)&&!c.failed()&&b.call(c,{result:c._result})},0)}return f},started:function(){return this._started},progress:function(){return this._progress},completed:function(){return this._completed},result:function(){return this._result},failed:function(){return this._failed},setStarted:function(){this._started=!0,this.trigger("start")},setProgress:function(a){return a=Number(a),isNaN(a)?!1:(0>a&&(a=0),a>100&&(a=100),a=Math.round(a),void(this.progress()!=a&&(this._progress=a,this.trigger("progress",{value:a}))))},addProgress:function(a){return a=Number(a),isNaN(a)?!1:this.setProgress(this.progress()+a)},setCompleted:function(a,b){this.setProgress(100),"undefined"==typeof b&&(b=a);var c=function(){return a===!1?!0:Webos.isInstanceOf(a,Webos.Callback.Result)?!a.isSuccess():Webos.isInstanceOf(a,Webos.Error)?!0:!1};this._completed=!0,this._failed=c(),this._result=b,this.trigger("complete",{result:this.result(),failed:this.failed()});var d=this.failed()?"error":"success";this.trigger(d,{result:this.result()})},addCallbacks:function(a){a=Webos.Callback.toCallback(a),this.on("success",function(b){a.fire("success",[b.result])}),this.on("error",function(b){a.fire("error",[b.result])})},abort:function(){this.trigger("abort")},pause:function(){this.trigger("pause")},resume:function(){this.trigger("resume")},always:function(a){return this.on("complete",a),this},done:function(a){return this.on("success",a),this},fail:function(a){return this.on("error",a),this},then:function(a,b,c){return a&&this.done(a),b&&this.fail(b),c&&this.on("progress",c),this}},Webos.inherit(a,Webos.Observable),a.create=function(){return new a},a.Group=function(a){Webos.Observable.Group.call(this,a)},a.Group.prototype={started:function(){for(var a=this._eachObservable("started"),b=0;b<a.length;b++)if(a[b])return!0;return!1},progress:function(){for(var a=this._eachObservable("progress"),b=0,c=a.length,d=0;d<a.length;d++)b+=a[d]/c;return b},completed:function(){for(var a=this._eachObservable("completed"),b=0;b<a.length;b++)if(!a[b])return!1;return!0},failed:function(){for(var a=this._eachObservable("failed"),b=0;b<a.length;b++)if(a[b])return!0;return!1},addCallbacks:function(a){a=Webos.Callback.toCallback(a),this.on("success",function(b){a.fire("success",[b.result])}),this.on("error",function(b){a.fire("error",[b.result])})}},Webos.inherit(a.Group,Webos.Observable.Group),a.group=function(a){return new Webos.Operation.Group(a)},Webos.Operation=a}(),function(){Webos.ServerCall=function(){Webos.Operation.call(this),this._initialize.apply(this,arguments)},Webos.ServerCall.prototype={_id:null,_options:{},_url:"sbin/apicall.php",_data:{},_type:"post",_status:0,_nbrAttempts:0,_initialize:function(a){var b={"class":"",method:"",arguments:{},host:"",username:"",password:"",pid:"",key:"",transports:{skip:[]}};if(Webos.Process){var c=Webos.Process.current();c&&(b.pid=c.getPid())}var d=$.extend({},b,a);
d.host&&d.transports.skip.push("websocket"),this._options=d;var e=d["class"].replace(/Controller$/,"");e=e.charAt(0).toLowerCase()+e.substr(1),this._id=Webos.ServerCall.addCallToList(this),this._data={id:this.id(),module:e,action:d.method,arguments:encodeURIComponent(JSON.stringify(d.arguments,function(a,b){return"number"!=typeof b||isFinite(b)?b:String(b)})),user:d.username,password:d.password,pid:d.pid,key:d.key},this._status=0,this._nbrAttempts=0},acceptedTransports:function(){var a=Webos.ServerCall.transportsForCall(this),b=this._options.transports.skip;if(b&&b instanceof Array)for(var c=0;c<b.length;c++){var d=b[c];a[d]&&delete a[d]}return a},_transport:function(){var a=this.acceptedTransports();for(var b in a){usedTransportName=b;break}return usedTransportName},_load:function(){var a=this,b=this.acceptedTransports(),c=this._transport(),d=b[c];if(!d){var e="No transport available to send request",f=new W.ServerCall.Response({success:!1,channels:{1:null,2:e},out:e});return void a.setCompleted(f)}d.doRequest(this,[function(b){var c;try{if(!b)throw new Webos.Error("Empty response");c="string"==typeof b?jQuery.parseJSON(b):b}catch(d){var e="Malformed JSON data ("+d.name+"): "+d.message+". Data :\n"+b;e+="\n"+a.stack();var f=new W.ServerCall.Response({success:!1,channels:{1:null,2:e},js:null,out:e});return void a.setCompleted(f)}var f=Webos.ServerCall.Response.create(c);a.setCompleted(f)},function(){if(d=Webos.ServerCall.transport(c),a._nbrAttempts<Webos.ServerCall.options.maxAttempts&&!d.disabled())return void setTimeout(function(){a.load()},Webos.ServerCall.options.errorDelay);var e="",f="";for(var g in b){if(f==c){e=g;break}f=g}if(e)return Webos.ServerCall.disableTransport(c),a._nbrAttempts=0,void a.load();var h="An error occurred while loading a request (no working transport found)";h+="\n"+a.stack();var i=Webos.ServerCall.Response.error(h);a.setCompleted(i)}])},id:function(){return this._id},failed:function(){return this._result&&!this._result.isSuccess()},result:function(){return this._result},setStarted:function(){this._super("setStarted"),this._status=1,this._nbrAttempts++,1==this._nbrAttempts&&(this._startTime=new Date,Webos.ServerCall.callStart(this))},setCompleted:function(a){this._super("setCompleted",a),this._status=2,this._completeTime=new Date,Webos.ServerCall.callComplete(this)},load:function(a){var b=this;a&&this.addCallbacks(a),this.setStarted();for(var c=0;c<Webos.ServerCall.list.length;c++){var d=Webos.ServerCall.list[c];if(1==d._status&&d.id()!=this.id()){var e=!0;for(var f in d._data)if(d._data[f]!=this._data[f]){e=!1;break}if(e)return d.on("complete",function(){b.setCompleted(d.result())}),this}}var g=Webos.ServerCall.transport(this._transport());return this._options.async===!1||this._options.host||!g.requestsOptions.groupRequests?b._load():Webos.ServerCall._addToLoadStack(this),this},stack:function(){var a="    at "+this._url+' calling action "'+this._data.action+'" in module "'+this._data.module+'"';return a+=this._data.arguments&&"{}"!=this._data.arguments?"\n    with arguments "+JSON.stringify(this._data.arguments):"\n    without arguments",this._data.user&&(a+="\n    as "+this._data.user),this._data.pid&&(a+="\n    in process #"+this._data.pid),a}},Webos.inherit(Webos.ServerCall,Webos.Operation),Webos.ServerCall.options={groupRequests:!0,maxAttempts:3,errorDelay:1e3},Webos.ServerCall._lastMsgId=-1,Webos.ServerCall.requestMsgId=function(){return++Webos.ServerCall._lastMsgId},Webos.ServerCall.lastMsgId=function(){return Webos.ServerCall._lastMsgId},Webos.ServerCall._transports={},Webos.ServerCall.registerTransport=function(a,b){Webos.ServerCall._transports[a]=$.extend({priority:0,requestsOptions:$.extend({},Webos.ServerCall.options),name:function(){return a},supports:function(){return!1},disabled:function(){return Webos.ServerCall.transport(a)._disabled},canTransport:function(){return!1},canTransportRequestGroups:function(){return"function"==typeof b.doRequestGroup},doRequest:function(a,b){var c=new Webos.Operation;return c.addCallbacks(b),c.setCompleted(!1),c},doRequestGroup:function(a,b){var c=new Webos.Operation;return c.addCallbacks(b),c.setCompleted(!1),c}},b,{_disabled:!1})},Webos.ServerCall.unregisterTransport=function(a){delete Webos.ServerCall._transports[a]},Webos.ServerCall.enableTransport=function(a){"undefined"!=typeof Webos.ServerCall._transports[a]&&(Webos.ServerCall._transports[a]._disabled=!1)},Webos.ServerCall.disableTransport=function(a){"undefined"!=typeof Webos.ServerCall._transports[a]&&(Webos.ServerCall._transports[a]._disabled=!0)},Webos.ServerCall.transports=function(){return Webos.ServerCall._transports},Webos.ServerCall.transport=function(a){return Webos.ServerCall.transports()[a]},Webos.ServerCall.supportedTransports=function(){var a=Webos.ServerCall.transports(),b=[];for(var c in a){var d=a[c];d._disabled||d.supports()&&b.push(d)}b.sort(function(a,b){return b.priority-a.priority});for(var e={},f=0;f<b.length;f++){var g=b[f];e[g.name()]=g}return e},Webos.ServerCall.transportsForCall=function(a){var b=Webos.ServerCall.supportedTransports(),c={};for(var d in b){var e=b[d];e.canTransport(a)&&(c[d]=e)}return c},Webos.ServerCall.standalone={priority:3,options:{},requestsOptions:{groupRequests:!1},supports:function(){return Webos.standalone||Webos.built},canTransport:function(a){if(a._options&&a._options.host)return!1;if(Webos.built&&!Webos.isInstanceOf(a,Webos.ServerCall.Group)){var b=a._data.module,c=a._data.action;if("theme"==b&&"loadCss"==c)return!0;if("file"==b&&"getContents"==c)return!0}return Webos.standalone},doRequest:function(a,b){var c=Webos.ServerCall.standalone,d=Webos.Operation.create();d.addCallbacks(b);var e=Webos.ServerCall.ajax.options.url;a._options.host&&(e=a._options.host+"/"+e);var f=a._data;if(!c._handlers[f.module]||!c._handlers[f.module][f.action])return d.setCompleted({statusCode:503,out:"Operation not supported in standalone mode"}),console.log("todo",f),d;var g=a._options.arguments||{},h=a._options.async!==!1,i=c._handlers[f.module][f.action](g,a);if(Webos.isInstanceOf(i,Webos.Operation)){var j=i;return j.completed()&&!h?(b=W.Callback.toCallback(b),j.failed()?b.error(j.result()):b.success(j.result())):j.addCallbacks(b),j}return i?d.setCompleted(!0,i):(d.setCompleted({statusCode:501,out:"Operation not implemented yet in standalone mode"}),console.log("todo",f)),d},_handlers:{file:{getContents:function(a,b){var c=Webos.Operation.create(),d=a.file,e=W.File.get(d);if(!e){var f='Cannot read file "'+d+'": invalid file path';return c.setCompleted(!0,{statusCode:400,channels:{2:f},out:f}),c}if(e.get("is_dir")){var f='Cannot read file "'+e.get("path")+'": reading directories is not supported in standalone mode';return c.setCompleted(!0,{statusCode:405,channels:{2:f},out:f}),c}var g=e.get("realpath");return $.ajax({url:g,method:"get",dataType:"text",async:b._options.async!==!1,success:function(a){c.setCompleted(!0,{statusCode:200,channels:{1:a},out:a})},error:function(a,b,d){var f='Cannot read file "'+e.get("path")+'": '+d;c.setCompleted(!0,{statusCode:a.status,channels:{2:f},out:f})}}),c}},userInterface:{loadBooter:function(a){var b=Webos.Operation.create(),c=function(a){if(!a)return void b.setCompleted(Webos.ServerCall.Response.error("No user interface found"));var c=Webos.Operation.create(),d="/boot/uis/"+a,e=function(c,d,e){var f={name:a,booter:{html:c||"",js:{"main.min.js":d||""},css:{"style.min.css":e||""}}};b.setCompleted({statusCode:200,data:f})},f={};c.on("progress",function(a){100==a.value&&c.setCompleted()}),c.on("complete",function(){e(f.html,f.js,f.css)}),W.File.get(d+"/index.html").readAsText([function(a){f.html=a,c.addProgress(34)},function(a){b.setCompleted(!0,a)}]),W.File.get(d+"/main.min.js").readAsText([function(a){f.js=a,c.addProgress(34)},function(a){b.setCompleted(!0,a)}]),W.File.get(d+"/style.min.css").readAsText([function(a){f.css=a,c.addProgress(34)},function(){c.addProgress(34)}])};return a.ui?c(a.ui):W.File.get("/etc/uis.json").readAsText([function(a){for(var b=$.parseJSON(a),d="",e=0;e<b.length;e++){var f=b[e];if(f.isDefault){d=f.name;break}}!d&&b[0]&&(d=b[0].name),c(d)},function(a){b.setCompleted(!0,a)}]),b}},user:{getLogged:function(){return{}},canRegister:function(){return{statusCode:200,data:{register:!1,autoEnable:!1}}}},config:{_getConfig:function(a){var b=Webos.Operation.create(),c=W.File.get(a);return c.readAsText([function(a){var d={};if("json"==c.get("extension"))d=$.parseJSON(a);else if("xml"==c.get("extension")){var e=$.parseXML(a),f=$(e);f.find("config").children("attribute").each(function(){var a=$(this).attr("name"),b=$(this).attr("value");d[a]=b})}b.setCompleted({statusCode:200,data:d})},function(a){b.setCompleted(!0,a)}]),b},getConfig:function(a){return this._getConfig(a.path)},getUserConfig:function(a){return this._getConfig(a.base)}},applicationShortcut:{get:function(){var a=Webos.Operation.create();a.on("progress",function(a){if(99==a.value&&!this.completed()){for(var d in c){var e=parseInt(c[d]);e>0&&b.applications[d]&&(b.applications[d].favorite=e)}var f=Webos.Translation.language();if(Webos.Locale.getDefault().name()!==f)for(var g in b){var h=b[g];for(var i in h){var j=h[i];j[f]&&(b[g][i]=$.extend({},j,j[f]))}}this.setCompleted({statusCode:200,data:b})}});var b={},c={},d=W.File.get("/usr/share/applications.json"),e=W.File.get("/usr/share/categories.json");return d.readAsText([function(c){b.applications=$.parseJSON(c),a.addProgress(33)},function(b){a.setCompleted(!0,b)}]),e.readAsText([function(c){b.categories=$.parseJSON(c),a.addProgress(33)},function(b){a.setCompleted(!0,b)}]),Webos.ConfigFile.load("/etc/ske1/.config/favorites.xml",[function(b){c=b.data(),a.addProgress(33)},function(){a.addProgress(33)}]),a}},theme:{loadCss:function(a){var b=Webos.Operation.create(),c=W.File.get("/usr/share/css/themes/"+a.theme+"/"+a.ui+"/main.min.css");return c.readAsText([function(a){b.setCompleted({statusCode:200,data:{css:{"main.min.css":a}}})},function(a){b.setCompleted(!0,a)}]),b}},cmd:{_lastPid:-1,execute:function(a){var b=this,c=Webos.Operation.create(),d=a.cmd.split(" ").shift(),e=W.File.get("/usr/bin/"+d+".js");return e.readAsText([function(a){c.setCompleted({statusCode:200,data:{pid:++b._lastPid,key:"",authorizations:[],path:e.get("path"),script:a}})},function(a){c.setCompleted(!0,a)}]),c}},terminal:{register:function(a){return this.getPromptData(a)},getPromptData:function(){return{statusCode:200,data:{username:null,host:null,location:"/"}}}}}},Webos.ServerCall.registerTransport("standalone",Webos.ServerCall.standalone),Webos.ServerCall.ajax={priority:1,options:{url:"sbin/apicall.php",group:{url:"sbin/apicallgroup.php",type:"post"}},supports:function(){return jQuery.support.ajax},canTransport:function(a){return Webos.standalone&&!a._options.host?!1:!0},doRequest:function(a,b){var c=new Webos.Operation;c.addCallbacks(b);var d=Webos.ServerCall.ajax.options.url;a._options.host&&(d=a._options.host+"/"+d);var e=$.extend({},a._data,{id:Webos.ServerCall.requestMsgId()});return $.ajax({url:d,data:e,type:a._type,async:a._options.async===!1?!1:!0,dataType:"text",success:function(a){c.setCompleted(a)},error:function(){c.setCompleted(!1)}}),c},doRequestGroup:function(a,b){var c=new Webos.Operation;c.addCallbacks(b);for(var d=[],e=!0,f=0;f<a.length;f++){var g=a[f];g.started()||g.setStarted(),d[f]=g._data,"string"==typeof d[f].arguments&&(d[f].arguments=JSON.parse(decodeURIComponent(d[f].arguments))),e&&g._options.async===!1&&(e=!1)}var h=Webos.ServerCall.requestMsgId();return $.ajax({url:Webos.ServerCall.ajax.options.group.url,data:{id:h,groupped:!0,data:JSON.stringify(d)},type:Webos.ServerCall.ajax.options.group.type,async:e,dataType:"text",success:function(a){c.setCompleted(a)},error:function(a,b,d){var e="An error occurred while loading an ajax request";b&&(e+=" (status : "+b,d&&(e+=", "+d),e+=")"),c.setCompleted(Webos.Error.build(e))}}),c}},Webos.ServerCall.registerTransport("ajax",Webos.ServerCall.ajax),Webos.ServerCall.websocket={priority:2,options:{server:null},_socket:null,_lastRespId:null,_pendingOperations:{},supports:function(){return"undefined"!=typeof window.WebSocket},canTransport:function(a){return Webos.standalone?!1:a._options.async!==!1},socket:function(){return Webos.ServerCall.websocket._socket},_pendingOperation:function(a){return Webos.ServerCall.websocket._pendingOperations[a]},_lastPendingOperationId:function(){for(var a in Webos.ServerCall.websocket._pendingOperations);return a},_pendingOperationsNbr:function(){var a=0;for(var b in Webos.ServerCall.websocket._pendingOperations)a++;return a},getServerStatus:function(a){var b=new Webos.Operation;return b.addCallbacks(a),new Webos.ServerCall({"class":"WebSocketController",method:"getServerStatus",transports:{skip:["websocket"]}}).load([function(a){var c=a.getData();Webos.ServerCall.websocket.options.server=c,b.setCompleted(c)},function(a){b.setCompleted(a)}]),b},startServer:function(a){console.log("Starting server...");var b=new Webos.ServerCall({"class":"WebSocketController",method:"startServer",transports:{skip:["websocket"]}}).load();return b.addCallbacks(a),b},stopServer:function(a){console.log("Stopping server...");var b=new Webos.ServerCall({"class":"WebSocketController",method:"stopServer",transports:{skip:["websocket"]}}).load();return b.addCallbacks(a),b.on("success",function(){Webos.ServerCall.websocket.options.server.started=!1}),b},restartServer:function(a){console.log("Restarting server...");var b=new Webos.ServerCall({"class":"WebSocketController",method:"restartServer",transports:{skip:["websocket"]}}).load();return b.addCallbacks(a),b},connect:function(a){if(Webos.ServerCall.websocket._connecting){var b=Webos.ServerCall.websocket._connectOperation;return b.addCallbacks(a),b}var b=new Webos.Operation;b.addCallbacks(a);var c=function(a){return a.enabled?void(a.started?d(a):a.autoStart?Webos.ServerCall.websocket.startServer([function(){Webos.ServerCall.websocket.options.server.started=!0,d(a)},function(a){b.setCompleted(a)}]):(Webos.ServerCall.disableTransport("websocket"),b.setCompleted(Webos.Error.build("WebSocket server not started")))):(Webos.ServerCall.disableTransport("websocket"),void b.setCompleted(Webos.Error.build("WebSocket server not enabled")))},d=function(a){var c=a.protocol+"://"+document.location.host+":"+a.port+"/api";console.log("Connecting WebSocket "+c+"...");var d=new WebSocket(c);Webos.ServerCall.websocket._socket=d;var e=function(){d.removeEventListener("error",e),b.setCompleted(Webos.Error.build("Error while connecting to WebSocket server"))};d.addEventListener("open",function(){d.removeEventListener("error",e),1==this.readyState?(console.log("WebSocket connected !"),b.setCompleted(d)):b.setCompleted(Webos.Error.build("Error while connecting to WebSocket server"))}),d.addEventListener("error",e),d.addEventListener("message",function(a){console.log("socket receive ("+a.data.length+")");var b=a.data,c=null;try{if(c=$.parseJSON(b),!c)throw c={},new Webos.Error("Empty response")}catch(d){b=d}null===c.id&&null!==Webos.ServerCall.websocket._lastRespId&&(c.id=Webos.ServerCall.websocket._lastRespId+1),null===Webos.ServerCall.websocket._lastRespId&&1==Webos.ServerCall.websocket._pendingOperationsNbr()&&(c.id=Webos.ServerCall.websocket._lastPendingOperationId());var e=Webos.ServerCall.websocket._pendingOperation(c.id);e&&(Webos.ServerCall.websocket._lastRespId=c.id,e.setCompleted(b))}),d.addEventListener("close",function(){console.log("WebSocket closed.")})};return Webos.ServerCall.websocket.options.server?(c(Webos.ServerCall.websocket.options.server),b):(Webos.ServerCall.websocket._connecting=!0,Webos.ServerCall.websocket._connectOperation=b,b.on("complete",function(){Webos.ServerCall.websocket._connecting=!1,Webos.ServerCall.websocket._connectOperation=null}),Webos.ServerCall.websocket.getServerStatus([function(a){c(a)},function(a){b.setCompleted(a)}]),b)},disconnect:function(){var a=Webos.ServerCall.websocket.socket();a&&a.close(),Webos.ServerCall.websocket._socket=null},reconnect:function(a){return Webos.ServerCall.websocket.disconnect(),Webos.ServerCall.websocket.connect(a)},_sendMsg:function(a,b){var c=new Webos.Operation;c.addCallbacks(b);var d=function(b){var d=function(a){f(),c.setCompleted(Webos.Error.build("Error while sending message to WebSocket server: "+a.toString()))},e=function(){f()},f=function(){b.removeEventListener("error",d),b.removeEventListener("message",e)};b.addEventListener("error",d),b.addEventListener("message",e);var g=function(){console.log("socket send ("+a.length+")"),c.trigger("send"),Webos.ServerCall.websocket._lastReqTime=(new Date).getTime();try{b.send(a)}catch(d){return f(),void c.setCompleted(Webos.Error.build("Error while sending message to WebSocket server: "+d.message))}};g()},e=Webos.ServerCall.websocket.socket();return e&&1==e.readyState?(d(e),c):(Webos.ServerCall.websocket.connect([function(a){d(a)},function(a){c.setCompleted(a)}]),c)},doRequest:function(a,b){var c=new Webos.Operation;c.addCallbacks(b);var d="",e=Webos.ServerCall.requestMsgId();Webos.ServerCall.websocket._pendingOperations[e]=c;try{d=JSON.stringify({id:e,type:a._type,data:a._data,http_headers:{"Accept-Language":window.navigator.language||window.navigator.userLanguage}})}catch(f){return c.setCompleted(f),c}return Webos.ServerCall.websocket._sendMsg(d,[function(){},function(a){c.setCompleted(a)}]),c},doRequestGroup:function(a,b){var c=new Webos.Operation;c.addCallbacks(b);for(var d=[],e=0;e<a.length;e++){var f=a[e];f.started()||f.setStarted(),d[e]=f._data,"string"==typeof d[e].arguments&&(d[e].arguments=JSON.parse(decodeURIComponent(d[e].arguments)))}var g=Webos.ServerCall.requestMsgId();Webos.ServerCall.websocket._pendingOperations[g]=c;try{msg=JSON.stringify({id:g,groupped:!0,type:"post",data:d,http_headers:{"Accept-Language":window.navigator.language||window.navigator.userLanguage}})}catch(h){return c.setCompleted(h),c}return Webos.ServerCall.websocket._sendMsg(msg,[function(){},function(a){c.setCompleted(a)}]),c}},Webos.ServerCall.registerTransport("websocket",Webos.ServerCall.websocket),Webos.ServerCall.list=[],Webos.ServerCall._loadStack=[],Webos.ServerCall.addCallToList=function(a){var b=Webos.ServerCall.list.push(a)-1;return Webos.ServerCall.notify("callregister",{call:a}),b},Webos.ServerCall.callStart=function(a){1==Webos.ServerCall.getNbrPendingCalls()&&Webos.ServerCall.notify("start",{list:Webos.ServerCall.list}),Webos.ServerCall.notify("callstart",{call:a})},Webos.ServerCall.callComplete=function(a){0==Webos.ServerCall.getNbrPendingCalls()&&Webos.ServerCall.notify("complete",{list:Webos.ServerCall.list}),Webos.ServerCall.notify("callcomplete",{call:a})},Webos.ServerCall._addToLoadStack=function(a){Webos.ServerCall._loadStack.push(a),1==Webos.ServerCall._loadStack.length&&setTimeout(function(){for(var a=[],b=0;b<Webos.ServerCall._loadStack.length;b++){var c=Webos.ServerCall._loadStack[b];a.push(c)}Webos.ServerCall._loadStack=[];var d=Webos.ServerCall.join(a);d._load()},0)},Webos.ServerCall._removeFromLoadStack=function(a){for(var b=[],c=0;c<Webos.ServerCall._loadStack.length;c++){var d=Webos.ServerCall._loadStack[c];a.id()!=d.id()&&b.push(d)}Webos.ServerCall._loadStack=b},Webos.ServerCall.getList=function(a){for(var b=[],c=0;c<Webos.ServerCall.list.length;c++)("undefined"==typeof a||Webos.ServerCall.list[c]._status==a)&&b.push(Webos.ServerCall.list[c]);return b},Webos.ServerCall.getPendingCalls=function(){return Webos.ServerCall.getList(1)},Webos.ServerCall.getCompletedCalls=function(){return Webos.ServerCall.getList(2)},Webos.ServerCall.getNbrPendingCalls=function(){return Webos.ServerCall.getPendingCalls().length},Webos.ServerCall.join=function(){for(var a=[],b=0;b<arguments.length;b++){var c=arguments[b];if(c instanceof Array)for(var d=0;d<c.length;d++)a.push(c[d]);else Webos.isInstanceOf(c,Webos.ServerCall)&&a.push(c)}return new Webos.ServerCall.Group(a)},Webos.Observable.build(Webos.ServerCall),Webos.ServerCall.Group=function(){Webos.Operation.call(this),this._initialize.apply(this,arguments)},Webos.ServerCall.Group.prototype={_options:{},_requests:[],_url:"sbin/apicallgroup.php",_type:"post",_status:0,_nbrAttempts:0,_initialize:function(a,b){var c={};if(this._options=$.extend({},c,b),this._requests=[],this._status=0,this._nbrAttempts=0,a instanceof Array)for(var d=0;d<a.length;d++)this.add(a[d])},add:function(a,b){b&&a.addCallbacks(b);var c=this._requests.push(a)-1;return c},acceptedTransports:function(){for(var a=Webos.ServerCall.transportsForCall(this),a={},b=0;b<this._requests.length;b++){var c=this._requests[b],d=c.acceptedTransports();for(var e in d){var f=d[e];f.canTransportRequestGroups()&&(a[e]?a[e].push(b):a[e]=[b])}}var g=this._requests.length,h=[];for(var e in a){var i=a[e],f=Webos.ServerCall.transport(e);g==i.length&&h.push(f)}h.sort(function(a,b){return b.priority-a.priority});for(var j={},b=0;b<h.length;b++){var k=h[b];j[k.name()]=k}return j},_transport:function(){var a=this.acceptedTransports();for(var b in a){usedTransportName=b;break}return usedTransportName},_load:function(){var a=this,b=this._requests;if(1==b.length){var c=b[0];c.on("success",function(b){a.setCompleted([b.result])}),c.on("error",function(b){a.setCompleted(b.result)}),c._load()}else{var d=this.acceptedTransports(),e=this._transport(),f=d[e];if(!f){var g="No transport available to send request",h=Webos.ServerCall.Response.error(g);for(var i in b)b[i].setCompleted(h);return void a.setCompleted(h)}f.doRequestGroup(b,[function(c){var d;try{if(!c)throw new Webos.Error("Empty response");d="string"==typeof c?jQuery.parseJSON(c):c}catch(e){var f,g="Malformed JSON data ("+e.name+"): "+e.message+". Data :\n"+c;for(var h in b)f=Webos.ServerCall.Response.error(g+"\n"+b[h].stack()),b[h].setCompleted(f);return f=Webos.ServerCall.Response.error(g),void a.setCompleted(f)}var f,h=0;for(var i in d.data)f=Webos.ServerCall.Response.create(d.data[i]),b[h].setCompleted(f),h++;a.setCompleted(d)},function(){if(f=Webos.ServerCall.transport(e),a._nbrAttempts<Webos.ServerCall.options.maxAttempts&&!f.disabled())return void setTimeout(function(){a.load()},Webos.ServerCall.options.errorDelay);var c="",g="";for(var h in d){if(g==e){c=h;break}g=h}if(c)return Webos.ServerCall.disableTransport(e),a._nbrAttempts=0,void a.load();var i,j="An error occurred while loading a request group (no working transport found)";for(var k in b)i=Webos.ServerCall.Response.error(j+"\n"+b[k].stack()),b[k].setCompleted(i);i=Webos.ServerCall.Response.error(j),a.setCompleted(i)}])}},load:function(a){if(a)if(a instanceof Array&&a.length==this._requests.length)for(var b=0;b<this._requests.length;b++)this._requests[b].addCallbacks(this._callbacks[b]);else{a=Webos.Callback.toCallback(a);for(var b=0;b<this._requests.length;b++)this._requests[b].addCallbacks(a)}return this.setStarted(),this._load(a),this},failed:function(){return!1},setStarted:function(){this._super("setStarted"),this._status=1,this._nbrAttempts++,1==this._nbrAttempts&&(this._startTime=new Date)},setCompleted:function(a){this._super("setCompleted",a),this._status=2,this._completeTime=new Date}},Webos.inherit(Webos.ServerCall.Group,Webos.Operation),Webos.ServerCall.Response=function(a){a&&"object"==typeof a||(a={success:!1,statusCode:500,channels:{1:a||null},out:a||null,data:{}}),a=$.extend({channels:{},out:"",data:{}},a),"boolean"!=typeof a.success&&"number"==typeof a.statusCode&&(a.success=2==String(a.statusCode).substr(0,1)?!0:!1),"number"!=typeof a.statusCode&&"boolean"==typeof a.success&&(a.statusCode=a.success?200:500),Webos.Callback.Result.call(this,a)},Webos.ServerCall.Response.prototype={getChannel:function(a){return this._data.channels[a]||""},getStandardChannel:function(){return this.getChannel(1)},getErrorsChannel:function(){return this.getChannel(2)},getAllChannels:function(){return this._data.out||""},getStatusCode:function(){return this._data.statusCode},getStatusClass:function(){return parseInt(String(this._data.statusCode).substr(0,1))},getError:function(a){if(!this.isSuccess()){a=a?a:this.getErrorsChannel()?this.getErrorsChannel():this.getAllChannels();var b=null;return a!=this.getAllChannels()&&(b=this.getAllChannels()),Webos.Error.build(a,b,this.getStatusCode())}},toString:function(){return null!==this.getAllChannels()?this.getAllChannels():""}},Webos.inherit(Webos.ServerCall.Response,Webos.Callback.Result),Webos.ServerCall.Response.error=function(a){return new Webos.Callback.Result({success:!1,channels:{2:a},out:a})},Webos.ServerCall.Response.create=function(a){return Webos.isInstanceOf(a,Webos.ServerCall.Response)?a:new Webos.ServerCall.Response(a)}}(),function(){var a={};Webos.Process=function(b){var c=this;this.pid=b.pid,this.authorizations=b.authorizations,b.args&&(this.args=b.args),a[this.pid]=b.key,this._state=0,this.main=function(){var a=b.fn,d="";c.cmd&&(d=c.cmd+".js"),a="(function (args) { "+a+"\n }).call(Webos.Process.get("+c.getPid()+"), Webos.Process.get("+c.getPid()+").getArguments());",Webos.Script.create(a,null,d)},"undefined"!=typeof this.pid&&(Webos.Process.list[this.pid]=this),Webos.Observable.call(this)},Webos.Process.prototype={main:function(){},getPid:function(){return this.pid},getKey:function(){return null},getAuthorizations:function(){return this.authorizations},getArguments:function(){return this.args},run:function(){if("ready"==this.state()){var b=this.args;"undefined"==typeof b&&(b=new Webos.Arguments),this.args=b,this._state=1,this._startTime=(new Date).getTime(),Webos.Process.stack.push(this),this.notify("start"),Webos.Process.notify("start",{process:this}),this.getKey=function(){return a[this.pid]};try{this.main.apply(this,[b])}catch(c){this.getKey=function(){return null},Webos.Error.catchError(c)}this.getKey=function(){return null},Webos.Process.stack.pop(),this.args=void 0,"killed"!=this.state()&&(this._state=2,this.notify("idle"),Webos.Process.notify("idle",{process:this}))}},stop:function(){if("running"==this.state()||"idle"==this.state()){for(var a=[],b=!1,c=0;c<Webos.Process.stack.length;c++){var d=Webos.Process.stack[c];if(d.getPid()==this.getPid())b=!0;else{if(b){d.stop();break}a.push(d)}}Webos.Process.stack=a,this._state=3,this.notify("stop"),Webos.Process.notify("stop",{process:this}),delete Webos.Process.list[this.getPid()],delete this}},state:function(){var a=["ready","running","idle","killed"];return a[this._state]},startTime:function(){return this._startTime},isRunning:function(){return 1==this._state||2==this._state},toString:function(){return"[WProcess #"+this.pid+"]"}},Webos.inherit(Webos.Process,Webos.Observable),Webos.Process.list={},Webos.Process.stack=[],Webos.Process.get=function(a){return Webos.Process.list[a]},Webos.Process.current=function(){return Webos.Process.stack[Webos.Process.stack.length-1]},Webos.Process.listAll=function(){var a=[];for(var b in Webos.Process.list)a.push(Webos.Process.list[b]);return a},Webos.Observable.build(Webos.Process),Webos.Authorizations=function(a){this.authorizations=a||[]},Webos.Authorizations.prototype={can:function(a){for(var b=0;b<this.authorizations.length;b++)if(this.authorizations[b]==a)return!0;return!1},get:function(){return this.authorizations},set:function(a){a!=this.authorizations&&(this.authorizations=a)},add:function(a){for(var b=0;b<this.authorizations.length;b++)if(this.authorizations[b]==a)return;this.authorizations.push(a)},remove:function(a){for(var b=0;b<this.authorizations.length;b++)this.authorizations[b]==a&&delete this.authorizations[b]},model:function(a){var b=function(a,b){if(a.length!=b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!=b[c]){for(var d=!1,e=0;e<b.length;e++)a[c]==b[e]&&(d=!0);if(!d)return!1}return!0};if("undefined"==typeof a){for(var c in Webos.Authorizations.models)if(b(Webos.Authorizations.models[c],this.authorizations))return c;return"select"}return"undefined"==typeof Webos.Authorizations.models[a]?!1:b(Webos.Authorizations.models[a],this.authorizations)?!0:(this.authorizations=Webos.Authorizations.models[a],!0)}},Webos.Authorizations.all=["file.user.read","file.user.write","file.home.read","file.home.write","file.system.read","file.system.write","user.read","user.edit","user.self.edit","user.manage","package.read","package.manage"],Webos.Authorizations.models={user:["file.user.read","file.user.write","user.self.edit","package.read"],admin:Webos.Authorizations.all,guest:["file.user.read"]}}(),Webos.Cmd=function(a){this.cmdText=a.cmd,this.cmd=this.cmdText.split(" ").shift(),this.terminal=a.terminal,a.args=Webos.Arguments.parse(a.args?a.args:a.cmd),Webos.Process.call(this,{args:a.args})},Webos.Cmd.prototype={getTerminal:function(){return this.terminal},run:function(a){a=Webos.Callback.toCallback(a);var b=this;new Webos.ServerCall({"class":"CmdController",method:"execute",arguments:{cmd:this.cmdText,terminal:this.terminal.getId()}}).load([function(c){var d=c.getAllChannels();d&&b.getTerminal().echo(d);var e=c.getData();if(e.script){var f=new Webos.Authorizations;for(var g in e.authorizations)f.add(e.authorizations[g]);Webos.Process.call(b,{pid:e.pid,key:e.key,authorizations:f,fn:e.script}),Webos.Cmd.uber.run.call(b),a.success(b)}else this.stop(),a.success(b)},function(c){var d=c.getAllChannels();d&&b.getTerminal().echo(d),a.error(c)}])}},Webos.inherit(Webos.Cmd,Webos.Process),Webos.Cmd.execute=function(a,b){b=Webos.Callback.toCallback(b);var c=Webos.Terminal.create();c.enterCmd(a,b)},Webos.Terminal=function(){this._data={location:"~"},this._initialized=!1,this._output="",this.id=Webos.Terminal.register(this),Webos.Observable.call(this)},Webos.Terminal.prototype={getId:function(){return this.id},data:function(){return this._data},get:function(a){return this._data[a]},setLocation:function(a){this._data.location=a},relativePath:function(a,b){b.success(this.get("location")+"/"+a)},absolutePath:function(a){var b=a;return"/"!=a.substr(0,1)&&"~/"!=a.substr(0,2)&&"~"!=a&&(b=this.get("location")+"/"+a),b},echo:function(a){a=String(a).replace(/\n/g,"<br />").replace(/(^ | $)/g,"&nbsp;"),this._output+=a,this.notify("echo",{contents:a,output:this._output,cmd:this.cmd})},prompt:function(a,b){var c=this;if(!this._promptCallback){var d=b;b=$.extend({label:"",type:"text"},b),"yn"==b.type&&(b.label+=" [Y/n] ");var e=function(b){a(b)};this._promptCallback=function(f,g){if("keydown"==f.type&&13==f.keyCode){f.preventDefault(),c._promptCallback=null;var h=$(g).val();switch($(g).replaceWith(h),c.echo("\n"),b.type){case"yn":"Y"==h||"n"==h?e(h):(0!=d.label.indexOf("\n")&&(d.label="\n"+d.label),c.prompt(a,d));break;case"text":default:e(h)}}};var f="Webos.Terminal._list["+this.getId()+"]._promptCallback";b.label+='<input type="text" onkeydown="'+f+'(event || window.event, this);"',"yn"==b.type&&(b.label+=' size="2" maxlength="1"'),b.label+="/>",this.echo(b.label)}},enterCmd:function(a,b){return this._output="",this.cmd=new Webos.Cmd("string"==typeof a?{cmd:a,terminal:this}:$.extend({},a,{terminal:this})),this.cmd.run(Webos.Callback.toCallback(b)),this.cmd},_refreshUserData:function(a,b){return b=Webos.Callback.toCallback(b),a?void Webos.User.getByUsername(a,[function(a){if(!a){var c={root:!1};return void b.success(c)}a.authorizations([function(a){var c=a.model(),d={root:"admin"==c};b.success(d)},b.error])},b.error]):void b.success({root:!1})},refreshData:function(a){a=Webos.Callback.toCallback(a);var b=this;this._initialized?new Webos.ServerCall({"class":"TerminalController",method:"getPromptData",arguments:{terminal:this.getId()}}).load([function(c){var d=c.getData();d.host||(d.host=window.location.host),b._data=d,b._refreshUserData(b._data.username,[function(c){b._data=$.extend({},b._data,c),a.success(b)},function(){a.success(b)}])},a.error]):this.init(a)},init:function(a){a=Webos.Callback.toCallback(a);var b=this;new Webos.ServerCall({"class":"TerminalController",method:"register",arguments:{terminal:this.getId()}}).load([function(c){var d=c.getData();d.host||(d.host=window.location.host),b._data=d,b._initialized=!0,b._refreshUserData(b._data.username,[function(c){b._data=$.extend({},b._data,c),a.success(b)},function(){a.success(b)}])},a.error])
}},Webos.inherit(Webos.Terminal,Webos.Observable),Webos.Terminal._list=[],Webos.Terminal.register=function(a){return Webos.Terminal._list.push(a)-1},Webos.Terminal.get=function(a){return Webos.Terminal._list[a]},Webos.Terminal.create=function(){return new Webos.Terminal},Webos.User=function(a,b){this._id=parseInt(a),Webos.Model.call(this,b)},Webos.User.prototype={id:function(){return this._id},disabled:function(){return this._get("disabled")?!0:!1},setId:function(){return!1},isLogged:function(){return null!==Webos.User.logged?this.id()===Webos.User.logged:void 0},getAuthorizations:function(a){if(a=Webos.Callback.toCallback(a),"undefined"!=typeof this._authorizations)return void a.success(this._authorizations);var b=this;return new Webos.ServerCall({"class":"UserController",method:"getAuthorizations",arguments:{user:this.id()}}).load(new Webos.Callback(function(c){var d=c.getData(),e=[];for(var f in d)e.push(d[f]);b._authorizations=new Webos.Authorizations(e),a.success(b._authorizations)},a.error))},authorizations:function(a){return this.getAuthorizations(a)},setRealname:function(a){return this._set("realname",String(a))},setUsername:function(a){return a=String(a).toLowerCase(),/^[a-z0-9_\-\.]{3,}$/.test(a)?this._set("username",String(a)):!1},setPassword:function(a,b,c){c=Webos.Callback.toCallback(c);var d=this;return new Webos.ServerCall({"class":"UserController",method:"setPassword",arguments:{actualPassword:a||"",newPassword:b||"",user:this.id()}}).load(new Webos.Callback(function(){c.success(),d.notify("updatepassword")},function(a){c.error(a)}))},setAuthorizations:function(a,b){return b=Webos.Callback.toCallback(b),new Webos.ServerCall({"class":"UserController",method:"setAuthorizations",arguments:{authorizations:a.get(),user:this.id()}}).load(new Webos.Callback(function(){b.success()},function(a){b.error(a)}))},setEmail:function(a){return a=String(a),/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(a)?this._set("email",a):!1},setDisabled:function(a){return this._set("disabled",a?!0:!1)},remove:function(a){a=Webos.Callback.toCallback(a);var b=this;return new Webos.ServerCall({"class":"UserController",method:"remove",arguments:{user:this.id()}}).load(new Webos.Callback(function(){b.notify("remove"),delete Webos.User.cache[b.id()],b.isLogged()&&Webos.User.logout(a),delete b},function(b){a.error(b)}))},toString:function(){return this.get("username")},sync:function(a){a=Webos.Callback.toCallback(a);var b=this,c={},d=0;for(var e in this._unsynced)1===this._unsynced[e].state&&(this._unsynced[e].state=2,c[e]=this._unsynced[e].value,d++);return 0===d?void a.success(this):new Webos.ServerCall({"class":"UserController",method:"setMultipleAttributes",arguments:{data:c,user:this.id()}}).load(new Webos.Callback(function(){for(var c in b._unsynced)2===b._unsynced[c].state&&(b._data[c]=b._unsynced[c].value,delete b._unsynced[c],b.notify("update",{key:c,value:b._data[c].value}));a.success(b)},a.error))}},Webos.inherit(Webos.User,Webos.Model),Webos.Observable.build(Webos.User),Webos.User.cache={},Webos.User.logged=null,Webos.User.get=function(a,b){return a=Webos.Callback.toCallback(a),"undefined"==typeof b?void("number"==typeof Webos.User.logged&&Webos.User.cache[Webos.User.logged]?a.success(Webos.User.cache[Webos.User.logged]):Webos.User.getLogged([function(b){a.success(b)},a.error])):"undefined"!=typeof Webos.User.cache[b]?void a.success(Webos.User.cache[b]):new Webos.ServerCall({"class":"UserController",method:"getAttributes",arguments:{userId:b}}).load(new Webos.Callback(function(b){var c=b.getData(),d=new Webos.User(c.id,c);Webos.User.cache[d.id()]=d,a.success(d)},function(b){a.error(b)}))},Webos.User.getLogged=function(a){return a=Webos.Callback.toCallback(a),"number"==typeof Webos.User.logged&&Webos.User.cache[Webos.User.logged]?void a.success(Webos.User.cache[Webos.User.logged]):Webos.User.logged===!1?void a.success():new Webos.ServerCall({"class":"UserController",method:"getLogged"}).load([function(b){var c=b.getData();if("undefined"!=typeof c.id){var d=new Webos.User(c.id,c);Webos.User.cache[d.id()]=d,Webos.User.logged=d.id(),a.success(d),Webos.User._startPingTimer()}else Webos.User.logged=!1,a.success()},a.error])},Webos.User.getByUsername=function(a,b){b=Webos.Callback.toCallback(b);for(var c in Webos.User.cache)if(Webos.User.cache[c].get("username")===a)return void b.success(Webos.User.cache[c]);return new Webos.ServerCall({"class":"UserController",method:"getAttributesByUsername",arguments:{username:a}}).load(new Webos.Callback(function(a){var c=a.getData(),d=new Webos.User(c.id,c);Webos.User.cache[d.id()]=d,b.success(d)},function(a){b.error(a)}))},Webos.User.login=function(a,b,c){return c=Webos.Callback.toCallback(c),Webos.User.notify("beforelogin"),new Webos.ServerCall({"class":"UserController",method:"connect",arguments:{username:a,password:b}}).load(new Webos.Callback(function(a){var b=a.getData(),d=new Webos.User(b.id,b);Webos.User.cache[d.id()]=d,Webos.User.logged=d.id(),Webos.User.notify("login",{user:d}),c.success(d)},c.error))},Webos.User.logout=function(a){return a=Webos.Callback.toCallback(a),Webos.User.notify("beforelogout"),new Webos.ServerCall({"class":"UserController",method:"disconnect"}).load(new Webos.Callback(function(){Webos.User.logged=!1,Webos.User.notify("logout"),a.success()},a.error))},Webos.User._pingTimer=null,Webos.User._pingInterval=36e4,Webos.User._startPingTimer=function(){null===Webos.User._pingTimer&&(Webos.User._pingTimer=setInterval(function(){return void Webos.User._stopPingTimer()},Webos.User._pingInterval))},Webos.User._stopPingTimer=function(){null!==Webos.User._pingTimer&&(clearInterval(Webos.User._pingTimer),Webos.User._pingTimer=null)},Webos.User.bind("login",function(){Webos.User._startPingTimer()}),Webos.User.bind("logout",function(){Webos.User._stopPingTimer()}),Webos.User.list=function(a){return a=Webos.Callback.toCallback(a),new Webos.ServerCall({"class":"UserController",method:"getList"}).load(new Webos.Callback(function(b){var c=b.getData();for(var d in c){var e=new Webos.User(d,c[d]);"undefined"!=typeof Webos.User.cache[e.id()]?(Webos.User.cache[e.id()].hydrate(c[d]),c[d]=Webos.User.cache[e.id()]):(Webos.User.cache[e.id()]=e,c[d]=e)}a.success(c)},a.error))},Webos.User.create=function(a,b,c){return c=Webos.Callback.toCallback(c),b=b.get(),new Webos.ServerCall({"class":"UserController",method:"create",arguments:{data:a,authorizations:b}}).load(new Webos.Callback(function(){c.success()},c.error))},Webos.User.register=function(a,b,c){return c=Webos.Callback.toCallback(c),new Webos.ServerCall({"class":"UserController",method:"register",arguments:{data:a,captchaData:{id:b.id,value:b.value}}}).load(new Webos.Callback(function(){c.success()},c.error))},Webos.User._registerSettings=null,Webos.User.canRegister=function(a){return a=Webos.Callback.toCallback(a),null!==Webos.User._registerSettings?void a.success(Webos.User._registerSettings):new Webos.ServerCall({"class":"UserController",method:"canRegister"}).load([function(b){Webos.User._registerSettings=b.getData(),a.success(Webos.User._registerSettings)},a.error])},Webos.User._resetPasswordSettings=null,Webos.User.canResetPassword=function(a){return a=Webos.Callback.toCallback(a),null!==Webos.User._resetPasswordSettings?void a.success(Webos.User._resetPasswordSettings):new Webos.ServerCall({"class":"UserController",method:"canResetPassword"}).load([function(b){Webos.User._resetPasswordSettings=b.getData(),a.success(Webos.User._resetPasswordSettings)},a.error])},Webos.User.sendResetPasswordRequest=function(a,b){return b=Webos.Callback.toCallback(b),new Webos.ServerCall({"class":"UserController",method:"sendResetPasswordRequest",arguments:{email:a,webosUrl:window.location.href}}).load([function(){b.success()},b.error])},Webos.User.getTokenByEmail=function(a,b){return b=Webos.Callback.toCallback(b),new Webos.ServerCall({"class":"UserController",method:"getTokenByEmail",arguments:{email:a}}).load([function(a){b.success(a.getData())},b.error])},Webos.User.resetPassword=function(a,b,c,d){return d=Webos.Callback.toCallback(d),new Webos.ServerCall({"class":"UserController",method:"resetPassword",arguments:{tokenId:a,key:b,newPassword:c}}).load([function(){d.success()},d.error])},Webos.User.evalPasswordPower=function(a){var b=0;return a.length>=6&&(b++,-1!=a.search("[A-Z]")&&b++,-1!=a.search("[0-9]")&&b++,(a.length>=8||-1!=a.search("[ -/:-@[-`{-~]"))&&b++),25*b},Webos.User.stats=function(a){return a=Webos.Callback.toCallback(a),new Webos.ServerCall({"class":"UserController",method:"getStats"}).load([function(b){a.success(b.getData())},a.error])},Webos.base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(a){if(window.btoa)return window.btoa(unescape(encodeURIComponent(a)));for(var b,c,d,e,f,g,h,i="",j=0;j<a.length;)b=a.charCodeAt(j++),c=a.charCodeAt(j++),d=a.charCodeAt(j++),e=b>>2,f=(3&b)<<4|c>>4,g=(15&c)<<2|d>>6,h=63&d,isNaN(c)?g=h=64:isNaN(d)&&(h=64),i=i+this._keyStr.charAt(e)+this._keyStr.charAt(f)+this._keyStr.charAt(g)+this._keyStr.charAt(h);return i},decode:function(a){if(window.atob)return decodeURIComponent(escape(window.atob(a)));var b,c,d,e,f,g,h,i="",j=0;for(a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");j<a.length;)e=this._keyStr.indexOf(a.charAt(j++)),f=this._keyStr.indexOf(a.charAt(j++)),g=this._keyStr.indexOf(a.charAt(j++)),h=this._keyStr.indexOf(a.charAt(j++)),b=e<<2|f>>4,c=(15&f)<<4|g>>2,d=(3&g)<<6|h,i+=String.fromCharCode(b),64!=g&&(i+=String.fromCharCode(c)),64!=h&&(i+=String.fromCharCode(d));return i},utf8Encode:function(a){a=a.replace(/\r\n/g,"\n");for(var b="",c=0;c<a.length;c++){var d=a.charCodeAt(c);128>d?b+=String.fromCharCode(d):d>127&&2048>d?(b+=String.fromCharCode(d>>6|192),b+=String.fromCharCode(63&d|128)):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128),b+=String.fromCharCode(63&d|128))}return b},utf8Decode:function(a){for(var b="",c=0,d=c1=c2=0;c<a.length;)d=a.charCodeAt(c),128>d?(b+=String.fromCharCode(d),c++):d>191&&224>d?(c2=a.charCodeAt(c+1),b+=String.fromCharCode((31&d)<<6|63&c2),c+=2):(c2=a.charCodeAt(c+1),c3=a.charCodeAt(c+2),b+=String.fromCharCode((15&d)<<12|(63&c2)<<6|63&c3),c+=3);return b}},Webos.File=function(a,b){b&&(this._mountPoint=b),Webos.Model.call(this,a)},Webos.File.prototype={hydrate:function(a){var b=a.path||this.get("path");return b&&(a.dirname||(-1!=b.indexOf("/",1)?a.dirname=b.replace(/\/[^\/]*\/?$/,""):-1==b.indexOf("/")||"/"==b?a.dirname=void 0:0==b.indexOf("/")&&(a.dirname="/")),a.basename||(a.basename=b.replace(/^.*[\/\\]/g,"")),a.is_dir!==!1||a.extension||(a.extension=/\./.test(b)?/[^.]+$/.exec(b)[0]:""),a.is_dir!==!1||a.filename||(a.filename=/\./.test(b)?a.basename.substr(0,a.basename.lastIndexOf(".")):a.basename),a.extension&&(a.extension=a.extension.toLowerCase())),"undefined"==typeof a.is_binary&&(a.mime_type?a.is_binary=0!=a.mime_type.indexOf("text/"):this.exists("is_binary")||(a.is_binary=!0)),"undefined"==typeof a.labels&&(a.labels={}),a.labels.hidden||(a.labels.hidden="."==a.basename.charAt(0)),"undefined"==typeof a.labels.trashed&&(a.labels.trashed=!1),Webos.Model.prototype.hydrate.call(this,a)},mountPoint:function(){return this._mountPoint},_updateData:function(a){var b={};for(var c in a)this._get(c)!==a[c]&&(b[c]=a[c]);var d=this.get("path");this.hydrate($.extend({},b));var e=this.get("dirname");if(e!=this.get("path")&&Webos.File.isCached(e)){var f=Webos.File.get(e);if(f._contents){for(var g=!1,h=0;h<f._contents.length;h++)if(f._contents[h].get("path")==this.get("path")){g=!0;break}g||f._contents.push(this)}}var i=this.get("path");if(d!=i){var j=$.extend({},this.data());this.hydrate({path:d}),this._remove();var k=Webos.File.get(i);k._updateData(Webos.isInstanceOf(k,this.constructor)?j:{is_dir:j.is_dir})}else{for(var c in b)this.notify("update",{key:c,value:b[c]});Webos.File.notify("load",{file:this})}},_remove:function(){this.notify("remove"),Webos.File.notify("remove",{file:this});var a=this.get("dirname");if(a!=this.get("path")&&Webos.File.isCached(a)){var b=Webos.File.get(a);if(b._contents){for(var c=[],d=0;d<b._contents.length;d++)b._contents[d].get("path")!=this.get("path")&&c.push(b._contents[d]);b._contents=c}}Webos.File.clearCache(this.get("path")),delete this},_unsupportedMethod:function(a){var b=Webos.Operation.create();return b.addCallbacks(a),b.setCompleted(Webos.Callback.Result.error('Cannot execute this operation on this type of file "'+this.get("path")+'"')),b},matchesMimeType:function(a){var b=(this.get("mime_type")||"").split(";")[0];return-1!==a.indexOf("*")?(a=a.replace(/[-\/\\^$+?.()|[\]{}]/g,"\\$&").replace("*","(.+)"),new RegExp(a,"i").test(b)):b==a},load:function(a){return this._unsupportedMethod(a)},rename:function(a,b){return this._unsupportedMethod(b)},remove:function(a){return this._unsupportedMethod(a)},readAsText:function(a){return this._unsupportedMethod(a)},readAsBinary:function(a){return this._unsupportedMethod(a)},readAsBlob:function(a){var b=this,c=Webos.Operation.create();return c.addCallbacks(a),this.readAsBinary([function(a){for(var d=b.get("mime_type")||"",e=512,f=window.atob(a),g=[],h=0;h<f.length;h+=e){for(var i=f.slice(h,h+e),j=new Array(i.length),k=0;k<i.length;k++)j[k]=i.charCodeAt(k);var l=new Uint8Array(j);g.push(l)}var m=new Blob(g,{type:d});c.setCompleted(m)},function(a){c.setCompleted(a)}]),c},contents:function(a){return this._unsupportedMethod(a)},getContents:function(a){return this.contents(a)},_writeAsText:function(){return this._unsupportedMethod()},writeAsText:function(a,b){return this._unsupportedMethod(b)},writeAsBinary:function(a,b){return this._unsupportedMethod(b)},writeAsDataUrl:function(a,b){if(!this.writeAsBinary)return this._unsupportedMethod(b);var c=a.replace(/^data:([a-z0-9-\/]+);base64,/,"");return this.writeAsBinary(c,b)},writeAsBlob:function(a,b){var c=Webos.Operation.create();c.addCallbacks(b);var d=new FileReader;return d.onload=function(a){this.writeAsDataUrl(a.target.result,[function(){c.setCompleted()},function(a){c.setCompleted(a)}])},d.onerror=function(){c.setCompleted(Webos.Callback.Result.error("Cannot read blob as data URL"))},d.readAsDataURL(a),c},setContents:function(a,b){return this.writeAsText(a,b)},share:function(a){return this._unsupportedMethod(a)},can:function(a){var b="read"==a?"readable":"writable";return this.get(b)},is:function(a){return this._get("labels")&&this._get("labels")[a]?!0:!1},checkAuthorization:function(a,b){return this.can(a)?!0:(b=Webos.Callback.toCallback(b),b.error(Webos.Callback.Result.error("Vous n'avez pas les droits requis pour "+("read"==a?"ouvrir":"modifier")+' le fichier "'+this.get("path")+'"')),!1)},clearCache:function(a){if("undefined"!=typeof this._contents)if(a&&this.get("is_dir")){for(var b=[],c=0;c<this._contents.length;c++)this._contents[c].get("path")!=a&&b.push(this._contents[c]);this._contents=b}else delete this._contents},toString:function(){return this.get("path")}},Webos.inherit(Webos.File,Webos.Model),Webos.Observable.build(Webos.File),Webos.File._cache={},Webos.File._mountedDevices={},Webos.File._toAbsolutePath=function(a){if(a=String(a),Webos.Process){var b=Webos.Process.current();if(Webos.isInstanceOf(b,Webos.Cmd)){var c=b.getTerminal();a=c.absolutePath(a)}}return a},Webos.File._mountPointByPath=function(a){a=Webos.File._toAbsolutePath(a);var b=Webos.File.mountedDevices(),c=[];for(var d in b)0==Webos.File.cleanPath(a).indexOf(d)&&c.push(d);if(c.length)return c.sort(function(a,b){return b.length-a.length})[0]},Webos.File.get=function(a,b,c){if(window.File&&a instanceof window.File)return new Webos.LocalFile(a);if(Webos.isInstanceOf(a,Webos.File))return a;if("undefined"!=typeof a){if(path=Webos.File._toAbsolutePath(a),Webos.File.isCached(path))return Webos.File._cache[path];var d=Webos.File.mountedDevices(),e=Webos.File._mountPointByPath(path);if("undefined"!=typeof e)return a=Webos[d[e].get("driver")].get(path,d[e],b),c||(Webos.File._cache[a.get("path")]=a),a}},Webos.File.load=function(a,b){b=Webos.Callback.toCallback(b);var c=function(a){"undefined"!=typeof Webos.File._cache[a.get("path")]?(Webos.File._cache[a.get("path")]._hydrate(a.data()),a=Webos.File._cache[a.get("path")],Webos.File.notify("load",{file:a})):Webos.File._cache[a.get("path")]=a};if("undefined"!=typeof a){var d=Webos.File.get(a,{},!1);d.load([function(){c(d),b.success(d)},b.error])}},Webos.File.listDir=function(a,b){b=Webos.Callback.toCallback(b);var c=Webos.File.get(a,{is_dir:!0});c.contents([function(a){b.success(a)},b.error])},Webos.File.createFile=function(a,b){b=Webos.Callback.toCallback(b);var c=Webos.File.mountedDevices();for(var d in c)if(0==Webos.File.cleanPath(a).indexOf(d))return void function(c){Webos[c.get("driver")].createFile(a,c,[function(a){b.success(a)},b.error])}(c[d]);return new Webos.ServerCall({"class":"FileController",method:"createFile",arguments:{file:a}}).load([function(c){var d=Webos.File.get(a);d._updateData(c.getData()),b.success(d)},b.error])},Webos.File.createFolder=function(a,b){b=Webos.Callback.toCallback(b);var c=Webos.File.mountedDevices();for(var d in c)if(0==Webos.File.cleanPath(a).indexOf(d))return void function(c){Webos[c.get("driver")].createFolder(a,c,[function(a){b.success(a)},b.error])}(c[d]);return new Webos.ServerCall({"class":"FileController",method:"createFolder",arguments:{file:a}}).load([function(c){var d=Webos.File.get(a);d._updateData(c.getData()),b.success(d)},b.error])},Webos.File.copy=function(a,b,c){a=Webos.File.get(a),b=Webos.File.get(b),c=Webos.Callback.toCallback(c);var d=function(a,b,c){var d=new b.constructor(c,b.get("mountPoint")),e=Webos.File.get(d.get("path"));return e._updateData(Webos.isInstanceOf(e,d.constructor)?d.data():{is_dir:d.get("is_dir")}),e._contents=a._contents,e};if(a.get("mountPoint")&&b.get("mountPoint")&&a.get("mountPoint")===b.get("mountPoint")){var e=a.get("mountPoint");if("function"==typeof Webos[e.get("driver")].copy)return Webos[e.get("driver")].copy(a,b,e,[function(e){var f=d(a,b,e);c.success(f)},c.error])}var f=function(a,b,c){c=Webos.Callback.toCallback(c);var d,e=!1,g=function(a){if(d&&e){if(0==d.length)return void c.success();for(var b,f=0,g=0,h=function(){f==d.length?c.success(a):b&&1==g&&c.error(b)},j=0;j<d.length;j++)!function(c){i(c,a.get("path")+"/"+c.get("basename"),[function(){f++,h()},function(a){g++,b=a,h()}])}(d[j])}};W.File.listDir(a,[function(a){d=a,g(b)},c.error]),b.get("is_dir")?(b=W.File.get(b.get("path")+"/"+a.get("basename")),f(a,b,c)):b.get("is_dir")===!1?b._unsupportedMethod(c):b.load([function(b){f(a,b,c)},function(){Webos.File.createFolder(b,[function(a){e=!0,g(a)},c.error])}])},g=function(a,b,c){c=Webos.Callback.toCallback(c),a.readAsText([function(a){b.writeAsText(a,[function(){c.success(b)},c.error])},c.error])},h=function(a,b,c){c=Webos.Callback.toCallback(c),a.readAsBinary([function(a){b.writeAsBinary(a,[function(){c.success(b)},c.error])},c.error])},i=function(a,b,c){a=Webos.File.get(a),b=Webos.File.get(b),a.get("is_dir")?f(a,b,c):a.get("is_dir")===!1?b.get("is_dir")?(b=W.File.get(b.get("path")+"/"+a.get("basename")),i(a,b,c)):a.get("is_binary")&&"function"==typeof a.readAsBinary&&"function"==typeof b.writeAsBinary?h(a,b,c):g(a,b,c):a.load([function(a){i(a,b,c)},c.error])};i(a,b,c)},Webos.File.move=function(a,b,c){a=Webos.File.get(a),b=Webos.File.get(b),c=Webos.Callback.toCallback(c);var d=function(a,b,c){var d=a._contents;a._remove();var e=new b.constructor(c,b.get("mountPoint")),f=Webos.File.get(e.get("path"));return f._updateData(Webos.isInstanceOf(f,e.constructor)?e.data():{is_dir:e.get("is_dir")}),f._contents=d,f};if(a.get("mountPoint")&&b.get("mountPoint")&&a.get("mountPoint")===b.get("mountPoint")){var e=a.get("mountPoint");if("function"==typeof Webos[e.get("driver")].move)return Webos[e.get("driver")].move(a,b,e,[function(e){var f=d(a,b,e);c.success(f)},c.error])}Webos.File.copy(a,b,[function(){a.remove([function(){c.success(b)},c.error])},c.error])},Webos.File.SearchResultItem=function(a,b){Webos.Model.call(this,a),this._file=b},Webos.File.SearchResultItem.prototype={hydrate:function(a){return Webos.Model.prototype.hydrate.call(this,$.extend({matchesNbr:1},a))},file:function(){return this._file}},Webos.inherit(Webos.File.SearchResultItem,Webos.Model),Webos.File.search=function(a,b){a=$.extend({q:"",inDir:"~"},a),searchDir=Webos.File.get(a.inDir);var c=Webos.Operation.create();if(c.addCallbacks(b),!a.q.trim())return c.setCompleted(Webos.Callback.Result.error("Empty search query")),c;var d=[],e=[],f=function(a){e=e.concat(a)},g=Webos.File.mountedDevices();for(var h in g){var i=g[h];if(searchDir.get("path")==h||0==h.indexOf(searchDir.get("path")+"/"))if("function"==typeof Webos[i.get("driver")].search){var j=Webos.Operation.create();Webos[i.get("driver")].search(a,i,[function(a){f(a),j.setCompleted(a)},function(a){c.trigger("error",{result:a}),j.setCompleted(a)}]),d.push(j)}else c.setCompleted(Webos.Callback.Result.error("Operation not supported"))}var k=Webos.Observable.group(d);return k.on("success",function(){k.observables().length>1&&e.sort(function(a,b){return b.get("matchesNbr")-a.get("matchesNbr")}),c.setCompleted(e)}),c},Webos.File.searchInCache=function(){},Webos.File.isCached=function(a){return"undefined"!=typeof Webos.File._cache[a]},Webos.File.clearCache=function(a,b){if("undefined"==typeof a)Webos.File._cache={};else{if(Webos.File._cache[a]){var c=Webos.File._cache[a],d=c.get("dirname");if(d!=c.get("path")&&Webos.File.isCached(d)){var e=Webos.File.get(d);b?e.clearCache():e.clearCache(c.get("path"))}}delete Webos.File._cache[a]}},Webos.File.cleanPath=function(a){return a=String(a),a.replace(/\/+/g,"/").replace("/./","/").replace(/\/\.$/,"/").replace(/(.+)\/$/,"$1")},Webos.File.bytesToSize=function(a){var b=["bytes","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"];if(1>=a)return a+" "+b[0];var c=parseInt(Math.floor(Math.log(a)/Math.log(1024)));return(0==c?a/Math.pow(1024,c):(a/Math.pow(1024,c)).toFixed(1))+" "+b[c]},Webos.File.MountPoint=function(a,b){Webos.Model.call(this,a),this._local=b},Webos.File.MountPoint.prototype={local:function(){return this._local},setData:function(a){this._data.data=a},data:function(){return this._data.data},getRelativePath:function(a){return Webos.File.cleanPath(String(a).replace(this.get("local"),this.get("remote")+"/"))},getWebosPath:function(a){return Webos.File.cleanPath(this.get("remote")?String(a).replace(this.get("remote"),this.get("local")+"/"):this.get("local")+"/"+String(a))}},Webos.inherit(Webos.File.MountPoint,Webos.Model),Webos.File.mount=function(a,b){if(b=Webos.Callback.toCallback(b),!Webos[a.get("driver")])return void b.error(Webos.Callback.Result.error('Driver "'+a.get("driver")+'" not loaded'));if(Webos.File._mountedDevices[a.get("local")])return void b.error(Webos.Callback.Result.error('Location "'+a.get("local")+'" already matches another mount point'));var c=function(){var c=function(){Webos.File.clearCache(a.get("local"),!0),Webos.File._mountedDevices[a.get("local")]=a,Webos.File.notify("mount",{local:a.get("local"),remote:a.get("remote"),driver:a.get("driver"),point:a}),b.success(a)};"function"==typeof Webos[a.get("driver")].mount?Webos[a.get("driver")].mount(a,[function(b){b&&(a=b),c()},b.error]):c()},d=!0,e=Webos.File.mountedDevices();for(var f in e)if(e[f].get("driver")==a.get("driver")){d=!1;break}d&&"function"==typeof Webos[a.get("driver")].init?Webos[a.get("driver")].init([function(){c()},b.error]):c()},Webos.File.mountedDevices=function(){return Webos.File._mountedDevices},Webos.File.getMountData=function(a){return Webos.File._mountedDevices[a]},Webos.File.umount=function(a){if(Webos.File._mountedDevices[a]){var b=Webos.File._mountedDevices[a],c={local:b.get("local"),driver:b.get("driver"),remote:b.get("remote"),point:b};delete Webos.File._mountedDevices[a],Webos.File.notify("umount",c),Webos.File.clearCache(c.local,!0)}},Webos.File._drivers={},Webos.File.registerDriver=function(a,b){return Webos[a]?void(Webos.File._drivers[a]={title:b.title,icon:b.icon,lib:b.lib}):!1},Webos.File.getDriverData=function(a){return Webos.File._drivers[a]},Webos.WebosFile=function(a,b){Webos.File.call(this,a,b)},Webos.WebosFile.prototype={mountPointData:function(){return this.get("mountPoint").get("data")||{}},hydrate:function(a){return a.path&&(a.webospath=Webos.File.cleanPath(a.path),a.path=this.get("mountPoint").getWebosPath(a.webospath),a.realpath||(a.realpath=Webos.standalone?window.location.pathname+"/"+a.path:"sbin/rawdatacall.php?type=file&path="+a.path)),"undefined"==typeof a.readable&&(a.readable=!0),"undefined"==typeof a.writable&&(a.writable=!0),Webos.File.prototype.hydrate.call(this,a)},load:function(a){var b=this;return a=Webos.Callback.toCallback(a),new Webos.ServerCall({"class":"FileController",method:"getData",arguments:{path:this.get("webospath")},host:this.get("mountPointData").host,username:this.get("mountPointData").username,password:this.get("mountPointData").password}).load([function(c){var d=c.getData();b._updateData(d),a.success(b)},a.error])},rename:function(a,b){var c=this;return b=Webos.Callback.toCallback(b),this.checkAuthorization("write",b)?new Webos.ServerCall({"class":"FileController",method:"rename",arguments:{file:this.get("webospath"),newName:a},host:this.get("mountPointData").host,username:this.get("mountPointData").username,password:this.get("mountPointData").password}).load([function(a){var d=a.getData();c._updateData(d),b.success(c)},b.error]):!1},remove:function(a){var b=this;return a=Webos.Callback.toCallback(a),this.checkAuthorization("write",a)?new Webos.ServerCall({"class":"FileController",method:"delete",arguments:{file:this.get("webospath")},host:this.get("mountPointData").host,username:this.get("mountPointData").username,password:this.get("mountPointData").password}).load([function(){b._remove(),a.success()},a.error]):!1},readAsText:function(a){var b=this;return a=Webos.Callback.toCallback(a),this.checkAuthorization("read",a)?"undefined"!=typeof this._contents?void a.success(this._contents):new Webos.ServerCall({"class":"FileController",method:"getContents",arguments:{file:this.get("webospath")},host:this.get("mountPointData").host,username:this.get("mountPointData").username,password:this.get("mountPointData").password}).load([function(c){b.hydrate({is_dir:!1});var d=c.getStandardChannel();b._contents=d,a.success(d),b.notify("updatecontents",{contents:d}),Webos.File.notify("load",{file:b})},a.error]):!1},contents:function(a){var b=this;return a=Webos.Callback.toCallback(a),this.checkAuthorization("read",a)?"undefined"!=typeof this._contents?void a.success(this._contents):this.get("is_dir")?new Webos.ServerCall({"class":"FileController",method:"getContents",arguments:{file:this.get("webospath")},host:this.get("mountPointData").host,username:this.get("mountPointData").username,password:this.get("mountPointData").password}).load([function(c){var d=c.getData(),e=[];for(var f in d){var g=new Webos.WebosFile(d[f],b.get("mountPoint")),h=Webos.File.get(g.get("path"));h._updateData(Webos.isInstanceOf(h,Webos.WebosFile)?g.data():{is_dir:g.get("is_dir")}),e.push(h)}b._contents=e,a.success(e),b.notify("updatecontents",{contents:e}),Webos.File.notify("load",{file:b})},a.error]):this.readAsText(a):!1},readAsBinary:function(a){var b=this;return a=Webos.Callback.toCallback(a),this.get("is_dir")?void this._unsupportedMethod(a):this.checkAuthorization("read",a)?new Webos.ServerCall({"class":"FileController",method:"getAsBinary",arguments:{file:this.get("webospath")},host:this.get("mountPointData").host,username:this.get("mountPointData").username,password:this.get("mountPointData").password}).load([function(c){b.hydrate({is_dir:!1});var d=c.getStandardChannel();a.success(d)},a.error]):!1},readMinified:function(a){var b=this;return a=Webos.Callback.toCallback(a),this.get("is_dir")?void this._unsupportedMethod(a):this.checkAuthorization("read",a)?new Webos.ServerCall({"class":"FileController",method:"getMinified",arguments:{file:this.get("webospath")},host:this.get("mountPointData").host,username:this.get("mountPointData").username,password:this.get("mountPointData").password}).load([function(c){b.hydrate({is_dir:!1});var d=c.getStandardChannel();a.success(d)},a.error]):!1},_writeAsText:function(a){var b=this;if(this.get("is_dir"))return!1;if(!this.can("write"))return!1;var c=new Webos.ServerCall({"class":"FileController",method:"setContents",arguments:{file:this.get("webospath"),contents:a},host:this.get("mountPointData").host,username:this.get("mountPointData").username,password:this.get("mountPointData").password});return c.bind("success",function(c){var d=c.result;b._contents=a,b.notify("updatecontents",{contents:a}),b._updateData(d.getData())}),c},writeAsText:function(a,b){var c=this;if(b=Webos.Callback.toCallback(b),this.get("is_dir"))return void this._unsupportedMethod(b);if(!this.checkAuthorization("write",b))return!1;var d=this._writeAsText(a);return d.load([function(d){c._contents=a,c.notify("updatecontents",{contents:a}),c._updateData(d.getData()),b.success()},b.error])},writeAsBinary:function(a,b){var c=this;return b=Webos.Callback.toCallback(b),this.get("is_dir")?void this._unsupportedMethod(b):this.checkAuthorization("write",b)?new Webos.ServerCall({"class":"FileController",method:"setContentsAsBinary",arguments:{file:this.get("webospath"),contents:a},host:this.get("mountPointData").host,username:this.get("mountPointData").username,password:this.get("mountPointData").password}).load([function(a){c._updateData(a.getData()),b.success()},b.error]):!1},share:function(a){return a=Webos.Callback.toCallback(a),this.checkAuthorization("write",a)?new Webos.ServerCall({"class":"FileController",method:"share",arguments:{file:this.get("webospath")},host:this.get("mountPointData").host,username:this.get("mountPointData").username,password:this.get("mountPointData").password}).load([function(b){var c=b.getData();a.success(c)},a.error]):!1}},Webos.inherit(Webos.WebosFile,Webos.File),Webos.WebosFile.mount=function(a,b){if(b=Webos.Callback.toCallback(b),a.get("data"))b.success(a);else{var c=$.w.window.dialog({title:"Connecting to another webos",icon:"places/folder-remote"}),d=$.w.entryContainer().submit(function(){a.set("data",{host:e.textEntry("value"),username:f.textEntry("value"),password:g.passwordEntry("value")}),c.window("close"),b.success(a)}),e=$.w.textEntry("Host: ").appendTo(d),f=$.w.textEntry("Username: ").appendTo(d),g=$.w.passwordEntry("Password: ").appendTo(d),h=$.w.buttonContainer().appendTo(d);$.w.button("Cancel").click(function(){c.window("close")}).appendTo(h),$.w.button("OK",!0).appendTo(h),d.appendTo(c.window("content")),c.window("open")}},Webos.WebosFile.get=function(a,b,c){return path=String(a),a instanceof Webos.WebosFile?a:new Webos.WebosFile($.extend({},c,{path:b.getRelativePath(path)}),b)},Webos.WebosFile.createFile=function(a,b,c){c=Webos.Callback.toCallback(c);var d=b.get("data")||{};return new Webos.ServerCall({"class":"FileController",method:"createFile",arguments:{file:b.getRelativePath(a)},host:d.host,username:d.username,password:d.password}).load([function(b){var d=Webos.File.get(a);d._updateData(b.getData()),c.success(d)},c.error])},Webos.WebosFile.createFolder=function(a,b,c){c=Webos.Callback.toCallback(c);var d=b.get("data")||{};return new Webos.ServerCall({"class":"FileController",method:"createFolder",arguments:{file:b.getRelativePath(a)},host:d.host,username:d.username,password:d.password}).load([function(b){var d=Webos.File.get(a);d._updateData(b.getData()),c.success(d)},c.error])},Webos.WebosFile.copy=function(a,b,c,d){d=Webos.Callback.toCallback(d);var e=c.get("data")||{};return new Webos.ServerCall({"class":"FileController",method:"copy",arguments:{source:c.getRelativePath(a),dest:c.getRelativePath(b)},host:e.host,username:e.username,password:e.password}).load([function(a){d.success(a.getData())},d.error])},Webos.WebosFile.move=function(a,b,c,d){d=Webos.Callback.toCallback(d);var e=c.get("data")||{};return new Webos.ServerCall({"class":"FileController",method:"move",arguments:{source:c.getRelativePath(a),dest:c.getRelativePath(b)},host:e.host,username:e.username,password:e.password}).load([function(a){d.success(a.getData())
},d.error])},Webos.WebosFile.search=function(a,b,c){return c=Webos.Callback.toCallback(c),new Webos.ServerCall({"class":"FileController",method:"search",arguments:{query:a.q,inDir:b.getRelativePath(a.inDir)}}).load([function(a){var d=a.getData(),e=[];for(var f in d){var g=new Webos.WebosFile(d[f],b),h=Webos.File.get(g.get("path"));h._updateData(Webos.isInstanceOf(h,Webos.WebosFile)?g.data():{is_dir:g.get("is_dir")});var i=new Webos.File.SearchResultItem({matchesNbr:d[f].matchesNbr},h);e.push(i)}c.success(e)},c.error])},Webos.File.registerDriver("WebosFile",{title:"Webos",icon:"places/folder-remote"});var rootPoint=new Webos.File.MountPoint({remote:"/",driver:"WebosFile",data:{}},"/");Webos.File.mount(rootPoint);var homePoint=new Webos.File.MountPoint({remote:"~",driver:"WebosFile",data:{}},"~");Webos.File.mount(homePoint);var Blob=window.Blob||window.mozBlob||window.webkitBlob;Webos.BlobFile=function(a,b){this._file=a;var b={};b.basename=b.basename||"file-"+Math.floor(Math.random()*(new Date).getTime()),b.path=b.basename,b.dirname="",b.realpath=null,b.is_dir=!1,b.size=a.size,b.extension=/[.]/.exec(b.path)?/[^.]+$/.exec(b.path)[0]:null,b.mime_type=a.type,b.readable=!0,b.writable=!1,Webos.File.call(this,b)},Webos.BlobFile.prototype={realpath:function(){if(!this._get("realpath")){var a=window.URL||window.webkitURL;a&&a.createObjectURL&&this.hydrate({realpath:a.createObjectURL(this._file)})}return this._get("realpath")},load:function(a){a=Webos.Callback.toCallback(a),a.success(this)},readAsText:function(a){if(a=Webos.Callback.toCallback(a),!window.FileReader)return void a.error("Reading local files is not supported by your browser");var b=new FileReader;b.onload=function(b){a.success(b.target.result)},b.onerror=function(b){a.error(b.target.result)},b.readAsText(this._file)},readAsDataUrl:function(a){if(a=Webos.Callback.toCallback(a),!window.FileReader)return void a.error("Reading local files is not supported by your browser");var b=new FileReader;b.onload=function(b){a.success(b.target.result)},b.onerror=function(b){a.error(b.target.result)},b.readAsDataURL(this._file)},readAsBinary:function(a){a=Webos.Callback.toCallback(a),this.readAsDataUrl([function(b){b=b.replace(/^data:[a-zA-Z0-9-_\/]+;base64,/,""),a.success(b)},a.error])},readAsBlob:function(a){a=Webos.Callback.toCallback(a),a.success(this._file)}},Webos.inherit(Webos.BlobFile,Webos.File),Webos.BlobFile.create=function(a,b){return new Webos.BlobFile(a,b)},Webos.BlobFile.fromString=function(a,b){var c=new Blob([a],{type:b.mime_type||void 0});return Webos.BlobFile.create(c,b)},Webos.LocalFile=function(a){var b={};b.basename=a.name||a.fileName,b.mime_type=a.type||a.fileType,Webos.BlobFile.call(this,a,b)},Webos.LocalFile.prototype={readAsBlob:function(a){var b=this;if(a=Webos.Callback.toCallback(a),!window.FileReader)return void a.error("Reading local files is not supported by your browser");var c=new FileReader;c.onload=function(c){var d=c.target.result,e=new Blob([d],{type:b.get("mime_type")});a.success(e)},c.onerror=function(b){a.error(b.target.result)},c.readAsArrayBuffer(this._file)}},Webos.inherit(Webos.LocalFile,Webos.BlobFile),Webos.LocalFile.support=window.File&&window.FileReader?!0:!1,Webos.DownloadableFile=function(a){var a=$.extend({basename:"download",mime_type:"application/octet-stream"},a);a.path=a.basename,a.dirname="",a.realpath=null,a.is_dir=!1,a.size=0,a.extension=/[.]/.exec(a.path)?/[^.]+$/.exec(a.path)[0]:null,a.readable=!1,a.writable=!0,Webos.File.call(this,a)},Webos.DownloadableFile.prototype={writeAsText:function(a,b){this.writeAsBinary(Webos.base64.encode(a),b)},writeAsBinary:function(a,b){this.writeAsDataUrl("data:"+this.get("mime_type")+";base64,"+a,b)},writeAsDataUrl:function(a,b){var c=Webos.Operation.create();return c.addCallbacks(b),window.open(a),c.setCompleted(),c},writeAsBlob:function(a,b){var c=Webos.Operation.create();c.addCallbacks(b);var d=window.URL||window.webkitURL;if(d&&d.createObjectURL)window.open(d.createObjectURL(a)),c.setCompleted();else{var e=new FileReader;e.onload=function(a){this.writeAsDataUrl(a.target.result,[function(){c.setCompleted()},function(a){c.setCompleted(a)}])},e.onerror=function(){c.setCompleted(Webos.Callback.Result.error("Cannot read blob as data URL"))},e.readAsDataURL(a)}return c}},Webos.inherit(Webos.DownloadableFile,Webos.File),Webos.DownloadableFile.create=function(){return new Webos.DownloadableFile},Webos.User.bind("login logout",function(){Webos.File.clearCache()}),Webos.User.bind("logout",function(){var a=Webos.File.mountedDevices();for(var b in a)"WebosFile"!=a[b].get("driver")&&Webos.File.umount(b)}),Webos.require({path:"/usr/lib/webos/fstab.js",optionnal:!0}),function(){var a=function(a,b){if(this._type=void 0,this._data=[],a instanceof Array){b||(b=void 0);for(var c=0;c<a.length;c++){var d=a[c],e=this.add(d);e!==!1&&d.constructor&&("undefined"==typeof b?b=d.constructor:null!==b&&b!==d.constructor&&(b=null))}}this.type(b)};a.prototype={type:function(a){if("undefined"==typeof a)return this._type;if(!a)return!1;var b=this;this._type=a,this._methods=[];for(var c in a.prototype)this[c]||"function"!=typeof a.prototype[c]||(this[c]=function(){return function(){var a=arguments;b.each(function(){this[c].apply(this,a)})}}())},add:function(a){return this.type()&&!Webos.isInstanceOf(a,this.type())?!1:void this._data.push(a)},remove:function(a){this._data=this._data.slice(0,a).concat(this._data.slice(a+1))},each:function(a){if("function"!=typeof a)return!1;for(var b=0;b<this._data.length;b++){var c=a.call(this._data[b]);if(c===!1)break}},list:function(){return this._data},item:function(a){return this._data[a]},length:function(){return this._data.length}},Webos.Collection=a}(),Webos.UserInterface=function(a,b){this._name=b,this._booterData=null,Webos.Model.call(this),this.hydrate(a)},Webos.UserInterface.prototype={hydrate:function(a){return a=a||{},a["default"]=a["default"]?!0:!1,Webos.Model.prototype.hydrate.call(this,a)},name:function(){return this._name},labels:function(){return this._get("labels")||[]},types:function(){return this.get("labels")},setLabels:function(a){return!a instanceof Array?!1:(this._set("labels",a),!0)},setTypes:function(a){return this.set("labels",a)},setDefault:function(a){this._set("default",a?!0:!1)},setEnabled:function(a){this._set("enabled",a?!0:!1)},loadBooter:function(a){a=Webos.Callback.toCallback(a);var b=this,c=function(c){var d=new Webos.UserInterface.Booter(c,b.name());a.success(d)};return this._booterData?void c(this._booterData):new Webos.ServerCall({"class":"UserInterfaceController",method:"loadBooter",arguments:{ui:this.get("name")||!1}}).load([function(a){var d=a.getData();b._booterData=d.booter,b._name=d.name,c(d.booter)},a.error])},sync:function(a){a=Webos.Callback.toCallback(a);var b=this,c={},d=0;for(var e in this._unsynced)1===this._unsynced[e].state&&(this._unsynced[e].state=2,c[e]=this._unsynced[e].value,d++);return 0===d?void a.success():("undefined"!=typeof c.types&&(c.types=c.types.join(",")),new Webos.ServerCall({"class":"UserInterfaceController",method:"changeConfig",arguments:{ui:this.get("name"),data:c}}).load([function(){for(var c in b._unsynced)2===b._unsynced[c].state&&(b._data[c]=b._unsynced[c].value,delete b._unsynced[c],b.notify("update",{key:c,value:b._data[c].value}));a.success()},a.error]))}},Webos.inherit(Webos.UserInterface,Webos.Model),Webos.Observable.build(Webos.UserInterface),Webos.UserInterface._list=[],Webos.UserInterface.get=function(a,b){for(var c=0;c<Webos.UserInterface._list.length;c++){var d=Webos.UserInterface._list[c];if(d.get("name")==a)return b&&d.hydrate(b),d}var d=new Webos.UserInterface(b||{},a);return Webos.UserInterface._list.push(d),d},Webos.UserInterface.current=function(){var a=Webos.UserInterface.Booter.current();if(a)return Webos.UserInterface.get(a.name())},Webos.UserInterface.load=function(a,b){var c=new Webos.Operation;c.addCallbacks(b);var d="",e=function(a){a&&(d=a),100!=c.progress()&&Webos.UserInterface.setLoadingScreenText(d+" ("+c.progress()+"%)...")};c.on("progress",function(){e()});Webos.ServerCall.getList().length-1;Webos.Error.setErrorHandler(function(a){var b="";b+=a instanceof Webos.Error?a.toString():a.name+" : "+a.message+"<br />Stack trace :<br />"+a.stack.replace(/\n/g,"<br />"),Webos.UserInterface.writeConsole(b),Webos.UserInterface.showConsole(),"undefined"!=typeof Webos.UserInterface.Booter.current()&&Webos.UserInterface.Booter.current().disableAutoLoad()}),Webos.UserInterface.showLoadingScreen(),e("Retrieving interface"),Webos.UserInterface.clearConsole(),Webos.UserInterface.writeConsole(a?'Loading interface "'+a+'"':"Loading default interface"),Webos.UserInterface.writeConsole("Retrieving booter");var f=Webos.UserInterface.get(a);return f.loadBooter([function(a){c.setProgress(30),a.on("loadstateupdate",function(a){var b="Loading interface";switch(a.state){case"structure":b="Inserting structure";break;case"stylesheets":b="Applying stylesheets",a.item&&(b="Applying stylesheet "+a.item);break;case"scripts":b="Initialising interface",a.item&&(b="Running "+a.item);break;case"cleaning":b="Cleaning terrain"}e(b),Webos.UserInterface.writeConsole(b)});var b=a.load([function(){Webos.UserInterface.setLoadingScreenText("Interface loaded."),Webos.UserInterface.hideLoadingScreen(),Webos.UserInterface.writeConsole("Interface loaded."),c.setCompleted()},function(a){c.setCompleted(a)}]);b.on("progress",function(a){c.setProgress(30+a.value/100*50)})},function(a){c.setCompleted(a)}]),c},Webos.UserInterface.getList=function(a){return a=Webos.Callback.toCallback(a),new Webos.ServerCall({"class":"UserInterfaceController",method:"getList"}).load([function(b){var c=b.getData(),d=[];for(var e in c){var f=c[e],g=[];for(var h in f.labels||{})g.push(f.labels[h]);d.push(Webos.UserInterface.get(f.name,{labels:g,"default":f.isDefault,displayname:f.attributes.displayname,enabled:!0}))}a.success(d)},a.error])},Webos.UserInterface.getInstalled=function(a){return a=Webos.Callback.toCallback(a),new Webos.ServerCall({"class":"UserInterfaceController",method:"getInstalled"}).load([function(b){var c=b.getData(),d=[];for(var e in c){var f=c[e];d.push(Webos.UserInterface.get(e,f))}a.success(d)},a.error])},Webos.UserInterface._loadingScreenTimerId=null,Webos.UserInterface.showLoadingScreen=function(){"undefined"==typeof Webos.UserInterface.Booter.current()?$("#webos-loading").show():$("#webos-loading").is(":animated")?$("#webos-loading").stop().fadeTo("normal",1):$("#webos-loading").fadeIn(),$(document).on("keyup.console.ui",function(a){27==a.which&&Webos.UserInterface.showConsole()})},Webos.UserInterface.setLoadingScreenText=function(a){$("#webos-loading p").html(a)},Webos.UserInterface.hideLoadingScreen=function(){$("#webos-loading").is(":animated")?$("#webos-loading").stop().fadeTo("fast",0,function(){$(this).hide()}):$("#webos-loading").fadeOut("fast"),$(document).off("keyup.console.ui")},Webos.UserInterface.writeConsole=function(a){$("#webos-loading-console").append(a+"<br />")},Webos.UserInterface.clearConsole=function(){$("#webos-loading-console").empty()},Webos.UserInterface.showConsole=function(){$("#webos-loading-console").show()},Webos.UserInterface.hideConsole=function(){$("#webos-loading-console").hide()},Webos.UserInterface.Booter=function(a,b){this._data=a,this._element=$(),this._id=Webos.UserInterface.Booter._list.push(this)-1,this._name=b,this._loaded=!1,Webos.Observable.call(this)},Webos.UserInterface.Booter.prototype={id:function(){return this._id},name:function(){return this._name},element:function(){return this._element},load:function(a){var b=this,c=new Webos.Operation;c.addCallbacks(a),this._autoLoad=!0,Webos.UserInterface.Booter.notify("switch",{booter:this}),this.one("loadcomplete",function(){c.setCompleted()}),Webos.UserInterface.Booter._current=this.id(),this.notify("loadstart"),c.setStarted();var d=this._data;this.notify("loadstateupdate",{state:"structure"}),this._element=$("<div></div>",{id:"userinterface-"+this.id()}).css({height:"100%",width:"100%",position:"absolute",top:0,left:0}).html(d.html).prependTo("#userinterfaces"),c.setProgress(10),this.notify("loadstateupdate",{state:"stylesheets"});var e=0;for(var f in d.css)e++;var g=0;for(var f in d.css)this.notify("loadstateupdate",{state:"stylesheets",item:f}),Webos.Stylesheet.insertCss(d.css[f],"#userinterface-"+this.id()),g++,c.setProgress(10+g/e*10);this.notify("loadstateupdate",{state:"scripts"}),c.setProgress(20);var h=0;for(var f in d.js)h++;var i=0,j=function(){i++,i==h-1&&b.notify("dependenciesload")},g=0;for(var f in d.js)!function(a){a&&(b.notify("loadstateupdate",{state:"scripts",item:f}),Webos.require({path:f,contents:a}).on("complete",function(){j(f)}),g++,c.setProgress(20+g/h*70))}(d.js[f]);return this.notify("loadstateupdate",{state:"scripts"}),c.setProgress(90),this._async||this.finishLoading(),c},disableAutoLoad:function(){this._async=!0},async:function(){var a=this;return this._async=!0,function(){a.finishLoading()}},finishLoading:function(){if(!this.loaded()){delete this._async,this.notify("loadstateupdate",{state:"cleaning"});for(var a=0;a<Webos.UserInterface.Booter._list.length;a++){var b=Webos.UserInterface.Booter._list[a];b&&b.loaded()&&(this.notify("loadstateupdate",{state:"cleaning",item:b}),b.unload())}this._loaded=!0,this.notify("loadcomplete"),Webos.UserInterface.Booter.notify("switched",{booter:this})}},loaded:function(){return this._loaded},unload:function(){this.loaded()&&this.element().empty().remove()}},Webos.inherit(Webos.UserInterface.Booter,Webos.Observable),Webos.Observable.build(Webos.UserInterface.Booter),Webos.UserInterface.Booter._list=[],Webos.UserInterface.Booter._current=null,Webos.UserInterface.Booter.current=function(){return null!==Webos.UserInterface.Booter._current?Webos.UserInterface.Booter._list[Webos.UserInterface.Booter._current]:void 0},Webos.Stylesheet=function(a,b){return/^(\/|~\/)/.test(a)||(a="/"+a),Webos.Stylesheet._cache[a]?void Webos.Stylesheet.insertCss(Webos.Stylesheet._cache[a],b):void new Webos.ServerCall({"class":"FileController",method:"getContents",arguments:{file:a},async:!1}).load(function(c){var d=c.getStandardChannel();d&&(Webos.Stylesheet._cache[a]=d,Webos.Stylesheet.insertCss(d,b))})},Webos.Stylesheet._cache={},Webos.Stylesheet.insertCss=function(a,b){b&&("string"!=typeof b&&(b="#"+$(b).attr("id")),a=a.replace(/\/\*([\s\S]*?)\*\//g,"").replace(/([\s\S]+?)\{([\s\S]*?)\}/g,function(a,c,d){var e="";if(c=c.replace(/\s+/g," "),/^\s*@/.test(c)){if(!/^\s*(@.+;)+/.test(c))return c+"{"+d+"}";e+=/@.+;/g.exec(c).join("")}var f=c.split(",");return e+=b+" "+f.join(", "+b+" ")+"{"+d+"}",e=e.replace(/\s+/g," ")}));var c=document.createElement("style");c.setAttribute("type","text/css");var d=document.createTextNode(a);return c.appendChild(d),$("head").append(c),$(c)},Webos.Stylesheet.removeCss=function(a){$(a).remove()},Webos.XMLFile=function(a,b){var c=new W.Callback(function(a){var c=$.parseXML(a.getStandardChannel()),d=$(c);b.success(d,c)},function(a){b.error(a)});new W.ServerCall({"class":"FileController",method:"getContents",arguments:{filename:a}}).load(c)},Webos.Translation=function(a){Webos.Model.call(this,a)},Webos.Translation.prototype={get:function(a,b){var c=this._get(a);if(c||(c=a),"object"==typeof b){var d=function(a){for(;/\$\{.+\}/.test(a);)a=a.replace(/\$\{(.+?)\}/,function(a,c){var e=c.split("|",3);if(e.length>1){isCondition=!0;var f=e[0],g=e[1],h=e[2]||"";return"undefined"==typeof b[f]?c:d(b[f]?g:h)}return"undefined"!=typeof b[c]?b[c]:c});return a};c=d(c)}return c}},Webos.inherit(Webos.Translation,Webos.Model),Webos.Translation._language=null,Webos.Translation.language=function(){return Webos.Translation._language},Webos.Translation.parse=function(a){if(!a)return{};for(var b=String(a).split("\n"),c={},d=!1,e=0;e<b.length;e++){var f=b[e].replace(/\r$/,"");if(/\/\*/.test(f)&&(d=!0,f=f.replace(/$(.*)\/\*/,"$1")),/\*\//.test(f)&&(d=!1,f=f.replace(/\*\/(.*)^/,"$1")),!d&&";"!=f.charAt(0)&&"//"!=f.substr(0,2)){var g=f.split("=");if(!(g.length<2)&&0!=g[0].length){for(var h=g[0],i="",j=1;j<g.length;j++)j>=2&&(i+="="),i+=g[j];0!=i.length&&(c[h]=i)}}}return c},Webos.Translation.load=function(a,b,c){a=Webos.Callback.toCallback(a),c=String(c);var d=function(){c=c&&/[a-z]{2}_[A-Z]{2}/.test(c)?c:Webos.Translation.language()?Webos.Translation.language():Webos.Locale._defaultLocale;var d=Webos.File.get("/usr/share/locale/"+c+"/"+b+".ini");return c==Webos.Locale._defaultLocale?void a.success(new Webos.Translation):void d.readAsText([function(b){a.success(new Webos.Translation(Webos.Translation.parse(b)))},function(){a.success(new Webos.Translation)}])};Webos.Translation.language()||c&&/[a-z]{2}_[A-Z]{2}/.test(c)?d():Webos.Locale.load([function(){d()},a.error])},Webos.Translation.setLanguage=function(a,b){if(b=Webos.Callback.toCallback(b),!Webos.Locale.exists(a))return void b.error();var c=Webos.ConfigFile.get("~/.config/locale.xml");c.set("language",a),c.sync([function(){Webos.Translation._language=a,b.success()},b.error])},Webos.Locale=function(a,b,c){this._name=c,this._data=a;for(var d in b)this[d]=b[d];if(c!=Webos.Locale._defaultLocale){var e=Webos.Locale.get(Webos.Locale._defaultLocale);for(var d in e)"undefined"==typeof this[d]&&(this[d]=e[d])}Webos.Locale._list[c]=this},Webos.Locale.prototype={name:function(){return this._name},tag:function(){return this._name},_get:function(a){return this._data[a]},title:function(){return this._get("title")},toString:function(){return this.name()}},Webos.Observable.build(Webos.Locale),Webos.Locale._locale=null,Webos.Locale._defaultLocale="en_EN",Webos.Locale._list={},Webos.Locale._check=function(a){return/[a-z]{2}_[A-Z]{2}/.test(a)},Webos.Locale.getAll=function(){return Webos.Locale._list},Webos.Locale.get=function(a){return Webos.Locale._list[a]||Webos.Locale._list[Webos.Locale._defaultLocale]},Webos.Locale.getDefault=function(){return Webos.Locale.get(Webos.Locale._defaultLocale)},Webos.Locale.exists=function(a){return"undefined"!=typeof Webos.Locale._list[a]},Webos.Locale.current=function(){return Webos.Locale.get(Webos.Locale._locale?Webos.Locale._locale:Webos.Locale.detect()?Webos.Locale.detect():Webos.Locale._defaultLocale)},Webos.Locale.load=function(a){a=Webos.Callback.toCallback(a);var b=function(){new Webos.ServerCall({"class":"TranslationController",method:"getLanguage"}).load([function(b){Webos.Translation._language=b.getData().language;var c=b.getData().locale;Webos.Locale._locale!=c&&(Webos.Locale._locale=c,Webos.Locale.notify("change",{name:c,locale:Webos.Locale.get(c)})),a.success()},a.error])};Webos.User.get([function(c){if(c)b();else{var d=Webos.Locale.detect();d?(Webos.Translation._language=d,Webos.Locale._locale!=d&&(Webos.Locale._locale=d,Webos.Locale.notify("change",{name:d,locale:Webos.Locale.get(d)})),a.success()):b()}},function(){b()}])},Webos.Locale.detect=function(){if(navigator.language||navigator.browserLanguage){var a=navigator.language||navigator.browserLanguage;a=a.replace("-","_");var b=a.split("_");b[0]=b[0].toLowerCase(),b[1]||(b[1]=b[0].toUpperCase());var c=b.join("_");return Webos.Locale.exists(c)?c:(b[0]!=b[1].toLowerCase()&&(b[1]=b[0].toUpperCase()),c=b.join("_"),Webos.Locale.exists(c)?c:Webos.Locale.getDefault().name())}},Webos.Locale.toPosix=function(a){a=a.replace("-","_");var b=a.split("_");return b[0]=b[0].toLowerCase(),b[1]||(b[1]=b[0].toUpperCase()),b.join("_")},Webos.Locale.compareTags=function(a,b,c){if(a=Webos.Locale.toPosix(a),b=Webos.Locale.toPosix(b),c)return a==b;var d=a.split("_"),e=b.split("_");return d[0]==e[0]},Webos.Locale.set=function(a,b){if(b=Webos.Callback.toCallback(b),!Webos.Locale.exists(a))return void b.error();var c=Webos.ConfigFile.get("~/.config/locale.xml");c.set("locale",a),c.sync([function(){return Webos.Locale._locale==a?void b.success():(Webos.Locale._locale=a,Webos.Locale.notify("change",{name:a,locale:Webos.Locale.get(a)}),void b.success())},b.error])},Webos.TranslatedLibrary=function(){this._loadTranslations()},Webos.TranslatedLibrary.prototype={_translations:null,_translationsName:"",_loadTranslations:function(){if(!this._translations){if(!this._translationsName)return void this.notify("translationsloaded",{translations:new Webos.Translation});var a=this;Webos.Translation.load(function(b){a._translations=b,a.notify("translationsloaded",{translations:b})},this._translationsName)}},translations:function(){return this._translations||new Webos.Translation}},new Webos.Locale({title:"English (United Kingdom)",integerGroupsSeparator:",",decimalSeparator:".",days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],currency:"&#xA3;"},{number:function(a){a=String(a),parts=a.split(".");for(var b="",c=0,d=parts[0].length-1;d>=0;d--)c%3==0&&d!=parts[0].length-1&&(b=this._get("integerGroupsSeparator")+b),b=parts[0].charAt(d)+b,c++;return a=b+this._get("decimalSeparator")+parts[1]},day:function(a){return this._get("days")[a]},dayAbbreviation:function(a){return this.day(a).slice(0,3)+"."},month:function(a){return this._get("months")[a]},monthAbbreviation:function(a){return this.month(a).slice(0,3)+"."},date:function(a){return this.day(a.getDay())+" "+a.getDate()+" "+this.month(a.getMonth())},dateAbbreviation:function(a){return this.dayAbbreviation(a.getDay())+" "+a.getDate()+" "+this.monthAbbreviation(a.getMonth())},time:function(a,b){var c=function(a){return a=String(a),1==a.length&&(a="0"+a),a};return c(a.getHours())+":"+c(a.getMinutes())+(b?":"+c(a.getSeconds()):"")},completeDate:function(a){return this.dateAbbreviation(a)+" "+a.getFullYear()+" "+this.time(a,!0)+" GMT"+Math.floor(a.getTimezoneOffset()/60)},currency:function(a){return this._get("currency")+this.number(a)}},"en_EN"),new Webos.Locale({title:"Fran&ccedil;ais (France)",integerGroupsSeparator:" ",decimalSeparator:",",days:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],months:["Janvier","F&eacute;vrier","Mars","Avril","Mai","Juin","Juillet","A&ocirc;ut","Septembre","Octobre","Novembre","D&eacute;cembre"],monthsAbbreviations:["Jan.","F&eacute;v.","Mars","Avril","Mai","Juin","Juil.","A&ocirc;ut","Sept.","Oct.","Nov.","D&eacute;c."],currency:"&#x20AC;"},{monthAbbreviation:function(a){return this._get("monthsAbbreviations")[a]},date:function(a){return this.day(a.getDay())+" "+a.getDate()+" "+this.month(a.getMonth()).toLowerCase()},dateAbbreviation:function(a){return this.dayAbbreviation(a.getDay()).toLowerCase()+" "+a.getDate()+" "+this.monthAbbreviation(a.getMonth()).toLowerCase()},completeDate:function(a){return this.dateAbbreviation(a)+" "+a.getFullYear()+" "+this.time(a,!0)+" GMT"+Math.floor(a.getTimezoneOffset()/60)},currency:function(a){return this.number(a)+" "+this._get("currency")}},"fr_FR"),new Webos.Locale({title:"Deutsch",integerGroupsSeparator:" ",decimalSeparator:",",days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthsAbbreviations:["Jan.","Feb.","März","Apr.","Mai","Juni","Juli","Aug.","Sept.","Okt.","Nov.","Dez."],currency:"&#x20AC;"},{dayAbbreviation:function(a){return this.day(a).slice(0,2)},monthAbbreviation:function(a){return this._get("monthsAbbreviations")[a]},date:function(a){return this.day(a.getDay())+", den "+a.getDate()+". "+this.month(a.getMonth()).toLowerCase()},dateAbbreviation:function(a){return this.dayAbbreviation(a.getDay()).toLowerCase()+", den "+a.getDate()+". "+this.monthAbbreviation(a.getMonth()).toLowerCase()},currency:function(a){return this.number(a)+" "+this._get("currency")}},"de_DE"),new Webos.Locale({title:"Italian",integerGroupsSeparator:" ",decimalSeparator:",",days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],currency:"&#x20AC;"},{date:function(a){return this.day(a.getDay())+" "+a.getDate()+" "+this.month(a.getMonth()).toLowerCase()},dateAbbreviation:function(a){return this.dayAbbreviation(a.getDay()).toLowerCase()+" "+a.getDate()+" "+this.monthAbbreviation(a.getMonth()).toLowerCase()},completeDate:function(a){return this.dateAbbreviation(a)+" "+a.getFullYear()+" "+this.time(a,!0)+" GMT"+Math.floor(a.getTimezoneOffset()/60)}},"it_IT"),new Webos.Locale({title:"Espa&ntilde;ol (Espa&ntilde;a)",integerGroupsSeparator:" ",decimalSeparator:",",days:["Domingo","Lunes","Martes","Mi&eacute;rcoles","Jueves","Viernes","S&aacute;bado"],months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthsAbbreviations:["Ene.","Feb.","Mar.","Abr.","May.","Jun.","Jul.","Ago.","Sep.","Oct.","Nov.","Dic."],currency:"&#x20AC;"},{monthAbbreviation:function(a){return this._get("monthsAbbreviations")[a]},date:function(a){return this.day(a.getDay())+" "+a.getDate()+" "+this.month(a.getMonth()).toLowerCase()},dateAbbreviation:function(a){return this.dayAbbreviation(a.getDay()).toLowerCase()+" "+a.getDate()+" "+this.monthAbbreviation(a.getMonth()).toLowerCase()},completeDate:function(a){return this.dateAbbreviation(a)+" "+a.getFullYear()+" "+this.time(a,!0)+" GMT"+Math.floor(a.getTimezoneOffset()/60)},currency:function(a){return this.number(a)+" "+this._get("currency")}},"es_ES"),Webos.User.bind("login logout",function(){Webos.Translation._language=null,Webos.Locale._locale=null,Webos.Locale.load()}),Webos.Locale.load(),window.onload=function(){if(!jQuery.support.ajax)return void alert("Your web browser doesn't support ajax, the webos cannot start, please update it.");Webos.getQueryParam=function(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b=new RegExp("[\\?&]"+a+"=([^&#]*)"),c=b.exec(location.search);return null===c?"":decodeURIComponent(c[1].replace(/\+/g," "))},Webos.buildWebosUrl=function(a){var b=[];for(var c in a)b.push(c+"="+a[c]);var d="?"+b.join("&"),e=window.location;return e.origin+e.pathname+d};var a=window.location.href,b=a.split("/"),c=b.pop(),d="";d=/^[a-zA-Z0-9-_.]+\.html$/.test(c)?c.replace(/^([a-zA-Z0-9-_.]+)\.html$/,"$1"):Webos.getQueryParam("ui"),W.UserInterface.load(d,function(){var a=Webos.getQueryParam("app");a&&Webos.require("/usr/lib/webos/applications.js",function(){Webos.Application.get(a,[function(a){a&&Webos.Cmd.execute(a.get("command"))},function(){}])})})};